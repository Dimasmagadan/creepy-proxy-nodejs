if (typeof Object.create !== "function") {
    Object.create = function(e) {
        function t() {}
        t.prototype = e;
        return new t
    }
}(function(e, t, i, n) {
    var a = {
        init: function(t, i) {
            var n = this;
            n.elem = i;
            n.$elem = e(i);
            n.imageSrc = n.$elem.data("zoom-image") ? n.$elem.data("zoom-image") : n.$elem.attr("src");
            n.options = e.extend({}, e.fn.elevateZoom.options, t);
            if (n.options.tint) {
                n.options.lensColour = "none", n.options.lensOpacity = "1"
            }
            if (n.options.zoomType == "inner") {
                n.options.showLens = false
            }
            n.$elem.parent().removeAttr("title").removeAttr("alt");
            n.zoomImage = n.imageSrc;
            n.refresh(1);
            e("#" + n.options.gallery + " a").click(function(t) {
                if (n.options.galleryActiveClass) {
                    e("#" + n.options.gallery + " a").removeClass(n.options.galleryActiveClass);
                    e(this).addClass(n.options.galleryActiveClass)
                }
                t.preventDefault();
                if (e(this).data("zoom-image")) {
                    n.zoomImagePre = e(this).data("zoom-image")
                } else {
                    n.zoomImagePre = e(this).data("image")
                }
                n.swaptheimage(e(this).data("image"), n.zoomImagePre);
                return false
            })
        },
        refresh: function(e) {
            var t = this;
            setTimeout(function() {
                t.fetch(t.imageSrc)
            }, e || t.options.refresh)
        },
        fetch: function(e) {
            var t = this;
            var i = new Image;
            i.onload = function() {
                t.largeWidth = i.width;
                t.largeHeight = i.height;
                t.startZoom();
                t.currentImage = t.imageSrc;
                t.options.onZoomedImageLoaded(t.$elem)
            };
            i.onerror = function() {
                i.onerror = null;
                t.imageSrc = t.$elem.attr("src");
                t.zoomImage = t.imageSrc;
                t.currentImage = t.imageSrc;
                i.src = t.imageSrc
            };
            i.src = e;
            return
        },
        startZoom: function() {
            var t = this;
            t.nzWidth = t.$elem.width();
            t.nzHeight = t.$elem.height();
            t.isWindowActive = false;
            t.isLensActive = false;
            t.isTintActive = false;
            t.overWindow = false;
            if (t.options.imageCrossfade) {
                t.zoomWrap = t.$elem.wrap('<div style="height:' + t.nzHeight + "px;width:" + t.nzWidth + 'px;" class="zoomWrapper" />');
                t.$elem.css("position", "absolute");
                t.$elem.css("left", "0")
            }
            t.zoomLock = 1;
            t.scrollingLock = false;
            t.changeBgSize = false;
            t.currentZoomLevel = t.options.zoomLevel;
            t.nzOffset = t.$elem.offset();
            t.widthRatio = t.largeWidth / t.currentZoomLevel / t.nzWidth;
            t.heightRatio = t.largeHeight / t.currentZoomLevel / t.nzHeight;
            if (t.options.zoomType == "window") {
                t.zoomWindowStyle = "overflow: hidden;" + "background-position: 0px 0px;text-align:center;" + "background-color: " + String(t.options.zoomWindowBgColour) + ";width: " + String(t.options.zoomWindowWidth) + "px;" + "height: " + String(t.options.zoomWindowHeight) + "px;float: left;" + "background-size: " + t.largeWidth / t.currentZoomLevel + "px " + t.largeHeight / t.currentZoomLevel + "px;" + "display: none;z-index:100;" + "border: " + String(t.options.borderSize) + "px solid " + t.options.borderColour + ";background-repeat: no-repeat;" + "position: absolute;"
            }
            if (t.options.zoomType == "inner") {
                var i = t.$elem.css("border-left-width");
                t.zoomWindowStyle = "overflow: hidden;" + "margin-left: " + String(i) + ";" + "margin-top: " + String(i) + ";" + "background-position: 0px 0px;" + "width: " + String(t.nzWidth) + "px;" + "height: " + String(t.nzHeight) + "px;float: left;" + "display: none;" + "cursor:" + t.options.cursor + ";" + "px solid " + t.options.borderColour + ";background-repeat: no-repeat;" + "position: absolute;"
            }
            if (t.options.zoomType == "window") {
                if (t.nzHeight < t.options.zoomWindowWidth / t.widthRatio) {
                    lensHeight = t.nzHeight
                } else {
                    lensHeight = String(t.options.zoomWindowHeight / t.heightRatio)
                }
                if (t.largeWidth < t.options.zoomWindowWidth) {
                    lensWidth = t.nzWidth
                } else {
                    lensWidth = t.options.zoomWindowWidth / t.widthRatio
                }
                t.lensStyle = "background-position: 0px 0px;width: " + String(t.options.zoomWindowWidth / t.widthRatio) + "px;height: " + String(t.options.zoomWindowHeight / t.heightRatio) + "px;float: right;display: none;" + "overflow: hidden;" + "z-index: 999;" + "-webkit-transform: translateZ(0);" + "opacity:" + t.options.lensOpacity + ";filter: alpha(opacity = " + t.options.lensOpacity * 100 + "); zoom:1;" + "width:" + lensWidth + "px;" + "height:" + lensHeight + "px;" + "background-color:" + t.options.lensColour + ";" + "cursor:" + t.options.cursor + ";" + "border: " + t.options.lensBorderSize + "px" + " solid " + t.options.lensBorderColour + ";background-repeat: no-repeat;position: absolute;"
            }
            t.tintStyle = "display: block;" + "position: absolute;" + "background-color: " + t.options.tintColour + ";" + "filter:alpha(opacity=0);" + "opacity: 0;" + "width: " + t.nzWidth + "px;" + "height: " + t.nzHeight + "px;";
            t.lensRound = "";
            if (t.options.zoomType == "lens") {
                t.lensStyle = "background-position: 0px 0px;" + "float: left;display: none;" + "border: " + String(t.options.borderSize) + "px solid " + t.options.borderColour + ";" + "width:" + String(t.options.lensSize) + "px;" + "height:" + String(t.options.lensSize) + "px;" + "background-repeat: no-repeat;position: absolute;"
            }
            if (t.options.lensShape == "round") {
                t.lensRound = "border-top-left-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;" + "border-top-right-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;" + "border-bottom-left-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;" + "border-bottom-right-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;"
            }
            t.zoomContainer = e('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:' + t.nzOffset.left + "px;top:" + t.nzOffset.top + "px;height:" + t.nzHeight + "px;width:" + t.nzWidth + 'px;"></div>');
            if (t.options.zoomEnabled) {
                e("body").append(t.zoomContainer)
            }
            if (t.options.containLensZoom && t.options.zoomType == "lens") {
                t.zoomContainer.css("overflow", "hidden")
            }
            if (t.options.zoomType != "inner") {
                t.zoomLens = e("<div class='zoomLens' style='" + t.lensStyle + t.lensRound + "'><div class='zoomLensHint'>" + labels.zoomLensHint + "</div></div>").appendTo(t.zoomContainer).click(function() {
                    t.$elem.trigger("click")
                });
                if (t.options.tint) {
                    t.tintContainer = e("<div/>").addClass("tintContainer");
                    t.zoomTint = e("<div class='zoomTint' style='" + t.tintStyle + "'></div>");
                    t.zoomLens.wrap(t.tintContainer);
                    t.zoomTintcss = t.zoomLens.after(t.zoomTint);
                    t.zoomTintImage = e('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: ' + t.nzWidth + "px; height: " + t.nzHeight + 'px;" src="' + t.imageSrc + '">').appendTo(t.zoomLens).click(function() {
                        t.$elem.trigger("click")
                    })
                }
            }
            if (isNaN(t.options.zoomWindowPosition)) {
                t.zoomWindow = e("<div style='z-index:999;left:" + t.windowOffsetLeft + "px;top:" + t.windowOffsetTop + "px;" + t.zoomWindowStyle + "' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function() {
                    t.$elem.trigger("click")
                })
            } else {
                t.zoomWindow = e("<div style='z-index:999;left:" + t.windowOffsetLeft + "px;top:" + t.windowOffsetTop + "px;" + t.zoomWindowStyle + "' class='zoomWindow'>&nbsp;</div>").appendTo(t.zoomContainer).click(function() {
                    t.$elem.trigger("click")
                })
            }
            t.zoomWindowContainer = e("<div/>").addClass("zoomWindowContainer").css("width", t.options.zoomWindowWidth);
            t.zoomWindow.wrap(t.zoomWindowContainer);
            if (t.options.zoomType == "lens") {
                t.zoomLens.css({
                    backgroundImage: "url('" + t.imageSrc + "')"
                })
            }
            if (t.options.zoomType == "window") {
                t.zoomWindow.css({
                    backgroundImage: "url('" + t.imageSrc + "')"
                })
            }
            if (t.options.zoomType == "inner") {
                t.zoomWindow.css({
                    backgroundImage: "url('" + t.imageSrc + "')"
                })
            }
            t.$elem.bind("mousemove", function(e) {
                if (t.overWindow == false) {
                    t.setElements("show")
                }
                if (t.lastX !== e.clientX || t.lastY !== e.clientY) {
                    t.setPosition(e);
                    t.currentLoc = e
                }
                t.lastX = e.clientX;
                t.lastY = e.clientY
            });
            t.zoomContainer.bind("mousemove", function(e) {
                if (t.overWindow == false) {
                    t.setElements("show")
                }
                if (t.lastX !== e.clientX || t.lastY !== e.clientY) {
                    t.setPosition(e);
                    t.currentLoc = e
                }
                t.lastX = e.clientX;
                t.lastY = e.clientY
            });
            if (t.options.zoomType != "inner") {
                t.zoomLens.bind("mousemove", function(e) {
                    if (t.lastX !== e.clientX || t.lastY !== e.clientY) {
                        t.setPosition(e);
                        t.currentLoc = e
                    }
                    t.lastX = e.clientX;
                    t.lastY = e.clientY
                })
            }
            if (t.options.tint && t.options.zoomType != "inner") {
                t.zoomTint.bind("mousemove", function(e) {
                    if (t.lastX !== e.clientX || t.lastY !== e.clientY) {
                        t.setPosition(e);
                        t.currentLoc = e
                    }
                    t.lastX = e.clientX;
                    t.lastY = e.clientY
                })
            }
            if (t.options.zoomType == "inner") {
                t.zoomWindow.bind("mousemove", function(e) {
                    if (t.lastX !== e.clientX || t.lastY !== e.clientY) {
                        t.setPosition(e);
                        t.currentLoc = e
                    }
                    t.lastX = e.clientX;
                    t.lastY = e.clientY
                })
            }
            t.zoomContainer.add(t.$elem).mouseenter(function() {
                if (t.overWindow == false) {
                    t.setElements("show")
                }
            }).mouseleave(function() {
                if (!t.scrollLock) {
                    t.setElements("hide")
                }
            });
            if (t.options.zoomType != "inner") {
                t.zoomWindow.mouseenter(function() {
                    t.overWindow = true;
                    t.setElements("hide")
                }).mouseleave(function() {
                    t.overWindow = false
                })
            }
            if (t.options.zoomLevel != 1) {}
            if (t.options.minZoomLevel) {
                t.minZoomLevel = t.options.minZoomLevel
            } else {
                t.minZoomLevel = t.options.scrollZoomIncrement * 2
            }
            if (t.options.scrollZoom) {
                t.zoomContainer.add(t.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll", function(i) {
                    t.scrollLock = true;
                    clearTimeout(e.data(this, "timer"));
                    e.data(this, "timer", setTimeout(function() {
                        t.scrollLock = false
                    }, 250));
                    var n = i.originalEvent.wheelDelta || i.originalEvent.detail * -1;
                    i.stopImmediatePropagation();
                    i.stopPropagation();
                    i.preventDefault();
                    if (n / 120 > 0) {
                        if (t.currentZoomLevel >= t.minZoomLevel) {
                            t.changeZoomLevel(t.currentZoomLevel - t.options.scrollZoomIncrement)
                        }
                    } else {
                        if (t.options.maxZoomLevel) {
                            if (t.currentZoomLevel <= t.options.maxZoomLevel) {
                                t.changeZoomLevel(parseFloat(t.currentZoomLevel) + t.options.scrollZoomIncrement)
                            }
                        } else {
                            t.changeZoomLevel(parseFloat(t.currentZoomLevel) + t.options.scrollZoomIncrement)
                        }
                    }
                    return false
                })
            }
            t.zoomContainer.trigger("elevatezoom.finished")
        },
        setElements: function(e) {
            var t = this;
            if (!t.options.zoomEnabled) {
                return false
            }
            if (e == "show") {
                if (t.isWindowSet) {
                    if (t.options.zoomType == "inner") {
                        t.showHideWindow("show")
                    }
                    if (t.options.zoomType == "window") {
                        t.showHideWindow("show")
                    }
                    if (t.options.showLens) {
                        t.showHideLens("show")
                    }
                    if (t.options.tint && t.options.zoomType != "inner") {
                        t.showHideTint("show")
                    }
                }
            }
            if (e == "hide") {
                if (t.options.zoomType == "window") {
                    t.showHideWindow("hide")
                }
                if (!t.options.tint) {
                    t.showHideWindow("hide")
                }
                if (t.options.showLens) {
                    t.showHideLens("hide")
                }
                if (t.options.tint) {
                    t.showHideTint("hide")
                }
            }
        },
        setPosition: function(e) {
            var t = this;
            if (!t.options.zoomEnabled) {
                return false
            }
            t.nzHeight = t.$elem.height();
            t.nzWidth = t.$elem.width();
            t.nzOffset = t.$elem.offset();
            if (t.options.tint && t.options.zoomType != "inner") {
                t.zoomTint.css({
                    top: 0
                });
                t.zoomTint.css({
                    left: 0
                })
            }
            if (t.options.responsive && !t.options.scrollZoom) {
                if (t.options.showLens) {
                    if (t.nzHeight < t.options.zoomWindowWidth / t.widthRatio) {
                        lensHeight = t.nzHeight
                    } else {
                        lensHeight = String(t.options.zoomWindowHeight / t.heightRatio)
                    }
                    if (t.largeWidth < t.options.zoomWindowWidth) {
                        lensWidth = t.nzWidth
                    } else {
                        lensWidth = t.options.zoomWindowWidth / t.widthRatio
                    }
                    t.widthRatio = t.largeWidth / t.nzWidth;
                    t.heightRatio = t.largeHeight / t.nzHeight;
                    if (t.options.zoomType != "lens") {
                        if (t.nzHeight < t.options.zoomWindowWidth / t.widthRatio) {
                            lensHeight = t.nzHeight
                        } else {
                            lensHeight = String(t.options.zoomWindowHeight / t.heightRatio)
                        }
                        if (t.options.zoomWindowWidth < t.options.zoomWindowWidth) {
                            lensWidth = t.nzWidth
                        } else {
                            lensWidth = t.options.zoomWindowWidth / t.widthRatio
                        }
                        t.zoomLens.css("width", lensWidth);
                        t.zoomLens.css("height", lensHeight);
                        if (t.options.tint) {
                            t.zoomTintImage.css("width", t.nzWidth);
                            t.zoomTintImage.css("height", t.nzHeight)
                        }
                    }
                    if (t.options.zoomType == "lens") {
                        t.zoomLens.css({
                            width: String(t.options.lensSize) + "px",
                            height: String(t.options.lensSize) + "px"
                        })
                    }
                }
            }
            t.zoomContainer.css({
                top: t.nzOffset.top
            });
            t.zoomContainer.css({
                left: t.nzOffset.left
            });
            t.mouseLeft = parseInt(e.pageX - t.nzOffset.left);
            t.mouseTop = parseInt(e.pageY - t.nzOffset.top);
            if (t.options.zoomType == "window") {
                t.Etoppos = t.mouseTop < t.zoomLens.height() / 2;
                t.Eboppos = t.mouseTop > t.nzHeight - t.zoomLens.height() / 2 - t.options.lensBorderSize * 2;
                t.Eloppos = t.mouseLeft < 0 + t.zoomLens.width() / 2;
                t.Eroppos = t.mouseLeft > t.nzWidth - t.zoomLens.width() / 2 - t.options.lensBorderSize * 2
            }
            if (t.options.zoomType == "inner") {
                t.Etoppos = t.mouseTop < t.nzHeight / 2 / t.heightRatio;
                t.Eboppos = t.mouseTop > t.nzHeight - t.nzHeight / 2 / t.heightRatio;
                t.Eloppos = t.mouseLeft < 0 + t.nzWidth / 2 / t.widthRatio;
                t.Eroppos = t.mouseLeft > t.nzWidth - t.nzWidth / 2 / t.widthRatio - t.options.lensBorderSize * 2
            }
            if (t.mouseLeft <= 0 || t.mouseTop < 0 || t.mouseLeft > t.nzWidth || t.mouseTop > t.nzHeight) {
                t.setElements("hide");
                return
            } else {
                if (t.options.showLens) {
                    t.lensLeftPos = String(t.mouseLeft - t.zoomLens.width() / 2);
                    t.lensTopPos = String(t.mouseTop - t.zoomLens.height() / 2)
                }
                if (t.Etoppos) {
                    t.lensTopPos = 0
                }
                if (t.Eloppos) {
                    t.windowLeftPos = 0;
                    t.lensLeftPos = 0;
                    t.tintpos = 0
                }
                if (t.options.zoomType == "window") {
                    if (t.Eboppos) {
                        t.lensTopPos = Math.max(t.nzHeight - t.zoomLens.height() - t.options.lensBorderSize * 2, 0)
                    }
                    if (t.Eroppos) {
                        t.lensLeftPos = t.nzWidth - t.zoomLens.width() - t.options.lensBorderSize * 2
                    }
                }
                if (t.options.zoomType == "inner") {
                    if (t.Eboppos) {
                        t.lensTopPos = Math.max(t.nzHeight - t.options.lensBorderSize * 2, 0)
                    }
                    if (t.Eroppos) {
                        t.lensLeftPos = t.nzWidth - t.nzWidth - t.options.lensBorderSize * 2
                    }
                }
                if (t.options.zoomType == "lens") {
                    t.windowLeftPos = String(((e.pageX - t.nzOffset.left) * t.widthRatio - t.zoomLens.width() / 2) * -1);
                    t.windowTopPos = String(((e.pageY - t.nzOffset.top) * t.heightRatio - t.zoomLens.height() / 2) * -1);
                    t.zoomLens.css({
                        backgroundPosition: t.windowLeftPos + "px " + t.windowTopPos + "px"
                    });
                    if (t.changeBgSize) {
                        if (t.nzHeight > t.nzWidth) {
                            if (t.options.zoomType == "lens") {
                                t.zoomLens.css({
                                    "background-size": t.largeWidth / t.newvalueheight + "px " + t.largeHeight / t.newvalueheight + "px"
                                })
                            }
                            t.zoomWindow.css({
                                "background-size": t.largeWidth / t.newvalueheight + "px " + t.largeHeight / t.newvalueheight + "px"
                            })
                        } else {
                            if (t.options.zoomType == "lens") {
                                t.zoomLens.css({
                                    "background-size": t.largeWidth / t.newvaluewidth + "px " + t.largeHeight / t.newvaluewidth + "px"
                                })
                            }
                            t.zoomWindow.css({
                                "background-size": t.largeWidth / t.newvaluewidth + "px " + t.largeHeight / t.newvaluewidth + "px"
                            })
                        }
                        t.changeBgSize = false
                    }
                    t.setWindowPostition(e)
                }
                if (t.options.tint && t.options.zoomType != "inner") {
                    t.setTintPosition(e)
                }
                if (t.options.zoomType == "window") {
                    t.setWindowPostition(e)
                }
                if (t.options.zoomType == "inner") {
                    t.setWindowPostition(e)
                }
                if (t.options.showLens) {
                    if (t.fullwidth && t.options.zoomType != "lens") {
                        t.lensLeftPos = 0
                    }
                    t.zoomLens.css({
                        left: t.lensLeftPos + "px",
                        top: t.lensTopPos + "px"
                    })
                }
            }
        },
        showHideWindow: function(e) {
            var t = this;
            if (e == "show") {
                if (!t.isWindowActive) {
                    if (t.options.zoomWindowFadeIn) {
                        t.zoomWindow.stop(true, true, false).fadeIn(t.options.zoomWindowFadeIn)
                    } else {
                        t.zoomWindow.show()
                    }
                    t.isWindowActive = true
                }
            }
            if (e == "hide") {
                if (t.isWindowActive) {
                    if (t.options.zoomWindowFadeOut) {
                        t.zoomWindow.stop(true, true).fadeOut(t.options.zoomWindowFadeOut)
                    } else {
                        t.zoomWindow.hide()
                    }
                    t.isWindowActive = false
                }
            }
        },
        showHideLens: function(e) {
            var t = this;
            if (e == "show") {
                if (!t.isLensActive) {
                    if (t.options.lensFadeIn) {
                        t.zoomLens.stop(true, true, false).fadeIn(t.options.lensFadeIn)
                    } else {
                        t.zoomLens.show()
                    }
                    t.isLensActive = true
                }
            }
            if (e == "hide") {
                if (t.isLensActive) {
                    if (t.options.lensFadeOut) {
                        t.zoomLens.stop(true, true).fadeOut(t.options.lensFadeOut)
                    } else {
                        t.zoomLens.hide()
                    }
                    t.isLensActive = false
                }
            }
        },
        showHideTint: function(e) {
            var t = this;
            if (e == "show") {
                if (!t.isTintActive) {
                    if (t.options.zoomTintFadeIn) {
                        t.zoomTint.css({
                            opacity: t.options.tintOpacity
                        }).animate().stop(true, true).fadeIn("slow")
                    } else {
                        t.zoomTint.css({
                            opacity: t.options.tintOpacity
                        }).animate();
                        t.zoomTint.show()
                    }
                    t.isTintActive = true
                }
            }
            if (e == "hide") {
                if (t.isTintActive) {
                    if (t.options.zoomTintFadeOut) {
                        t.zoomTint.stop(true, true).fadeOut(t.options.zoomTintFadeOut)
                    } else {
                        t.zoomTint.hide()
                    }
                    t.isTintActive = false
                }
            }
        },
        setLensPostition: function(e) {},
        setWindowPostition: function(t) {
            var i = this;
            if (!isNaN(i.options.zoomWindowPosition)) {
                switch (i.options.zoomWindowPosition) {
                    case 1:
                        i.windowOffsetTop = i.options.zoomWindowOffety;
                        i.windowOffsetLeft = +i.nzWidth;
                        break;
                    case 2:
                        if (i.options.zoomWindowHeight > i.nzHeight) {
                            i.windowOffsetTop = (i.options.zoomWindowHeight / 2 - i.nzHeight / 2) * -1;
                            i.windowOffsetLeft = i.nzWidth
                        } else {}
                        break;
                    case 3:
                        i.windowOffsetTop = i.nzHeight - i.zoomWindow.height() - i.options.borderSize * 2;
                        i.windowOffsetLeft = i.nzWidth;
                        break;
                    case 4:
                        i.windowOffsetTop = i.nzHeight;
                        i.windowOffsetLeft = i.nzWidth;
                        break;
                    case 5:
                        i.windowOffsetTop = i.nzHeight;
                        i.windowOffsetLeft = i.nzWidth - i.zoomWindow.width() - i.options.borderSize * 2;
                        break;
                    case 6:
                        if (i.options.zoomWindowHeight > i.nzHeight) {
                            i.windowOffsetTop = i.nzHeight;
                            i.windowOffsetLeft = (i.options.zoomWindowWidth / 2 - i.nzWidth / 2 + i.options.borderSize * 2) * -1
                        } else {}
                        break;
                    case 7:
                        i.windowOffsetTop = i.nzHeight;
                        i.windowOffsetLeft = 0;
                        break;
                    case 8:
                        i.windowOffsetTop = i.nzHeight;
                        i.windowOffsetLeft = (i.zoomWindow.width() + i.options.borderSize * 2) * -1;
                        break;
                    case 9:
                        i.windowOffsetTop = i.nzHeight - i.zoomWindow.height() - i.options.borderSize * 2;
                        i.windowOffsetLeft = (i.zoomWindow.width() + i.options.borderSize * 2) * -1;
                        break;
                    case 10:
                        if (i.options.zoomWindowHeight > i.nzHeight) {
                            i.windowOffsetTop = (i.options.zoomWindowHeight / 2 - i.nzHeight / 2) * -1;
                            i.windowOffsetLeft = (i.zoomWindow.width() + i.options.borderSize * 2) * -1
                        } else {}
                        break;
                    case 11:
                        i.windowOffsetTop = i.options.zoomWindowOffety;
                        i.windowOffsetLeft = (i.zoomWindow.width() + i.options.borderSize * 2) * -1;
                        break;
                    case 12:
                        i.windowOffsetTop = (i.zoomWindow.height() + i.options.borderSize * 2) * -1;
                        i.windowOffsetLeft = (i.zoomWindow.width() + i.options.borderSize * 2) * -1;
                        break;
                    case 13:
                        i.windowOffsetTop = (i.zoomWindow.height() + i.options.borderSize * 2) * -1;
                        i.windowOffsetLeft = 0;
                        break;
                    case 14:
                        if (i.options.zoomWindowHeight > i.nzHeight) {
                            i.windowOffsetTop = (i.zoomWindow.height() + i.options.borderSize * 2) * -1;
                            i.windowOffsetLeft = (i.options.zoomWindowWidth / 2 - i.nzWidth / 2 + i.options.borderSize * 2) * -1
                        } else {}
                        break;
                    case 15:
                        i.windowOffsetTop = (i.zoomWindow.height() + i.options.borderSize * 2) * -1;
                        i.windowOffsetLeft = i.nzWidth - i.zoomWindow.width() - i.options.borderSize * 2;
                        break;
                    case 16:
                        i.windowOffsetTop = (i.zoomWindow.height() + i.options.borderSize * 2) * -1;
                        i.windowOffsetLeft = i.nzWidth;
                        break;
                    default:
                        i.windowOffsetTop = i.options.zoomWindowOffety;
                        i.windowOffsetLeft = i.nzWidth
                }
            } else {
                i.externalContainer = e("#" + i.options.zoomWindowPosition);
                i.externalContainerWidth = i.externalContainer.width();
                i.externalContainerHeight = i.externalContainer.height();
                i.externalContainerOffset = i.externalContainer.offset();
                i.windowOffsetTop = i.externalContainerOffset.top;
                i.windowOffsetLeft = i.externalContainerOffset.left
            }
            i.isWindowSet = true;
            i.windowOffsetTop = i.windowOffsetTop + i.options.zoomWindowOffety;
            i.windowOffsetLeft = i.windowOffsetLeft + i.options.zoomWindowOffetx;
            i.zoomWindow.css({
                top: i.windowOffsetTop
            });
            i.zoomWindow.css({
                left: i.windowOffsetLeft
            });
            if (i.options.zoomType == "inner") {
                i.zoomWindow.css({
                    top: 0
                });
                i.zoomWindow.css({
                    left: 0
                })
            }
            i.windowLeftPos = String(((t.pageX - i.nzOffset.left) * i.widthRatio - i.zoomWindow.width() / 2) * -1);
            i.windowTopPos = String(((t.pageY - i.nzOffset.top) * i.heightRatio - i.zoomWindow.height() / 2) * -1);
            if (i.Etoppos) {
                i.windowTopPos = 0
            }
            if (i.Eloppos) {
                i.windowLeftPos = 0
            }
            if (i.Eboppos) {
                i.windowTopPos = (i.largeHeight / i.currentZoomLevel - i.zoomWindow.height()) * -1
            }
            if (i.Eroppos) {
                i.windowLeftPos = (i.largeWidth / i.currentZoomLevel - i.zoomWindow.width()) * -1
            }
            if (i.fullheight) {
                i.windowTopPos = 0
            }
            if (i.fullwidth) {
                i.windowLeftPos = 0
            }
            if (i.options.zoomType == "window" || i.options.zoomType == "inner") {
                if (i.zoomLock == 1) {
                    if (i.widthRatio <= 1) {
                        i.windowLeftPos = 0
                    }
                    if (i.heightRatio <= 1) {
                        i.windowTopPos = 0
                    }
                }
                if (i.largeHeight < i.options.zoomWindowHeight) {
                    i.windowTopPos = 0
                }
                if (i.largeWidth < i.options.zoomWindowWidth) {
                    i.windowLeftPos = 0
                }
                if (i.options.easing) {
                    if (!i.xp) {
                        i.xp = 0
                    }
                    if (!i.yp) {
                        i.yp = 0
                    }
                    if (!i.loop) {
                        i.loop = setInterval(function() {
                            i.xp += (i.windowLeftPos - i.xp) / i.options.easingAmount;
                            i.yp += (i.windowTopPos - i.yp) / i.options.easingAmount;
                            if (i.scrollingLock) {
                                clearInterval(i.loop);
                                i.xp = i.windowLeftPos;
                                i.yp = i.windowTopPos;
                                i.xp = ((t.pageX - i.nzOffset.left) * i.widthRatio - i.zoomWindow.width() / 2) * -1;
                                i.yp = ((t.pageY - i.nzOffset.top) * i.heightRatio - i.zoomWindow.height() / 2) * -1;
                                if (i.changeBgSize) {
                                    if (i.nzHeight > i.nzWidth) {
                                        if (i.options.zoomType == "lens") {
                                            i.zoomLens.css({
                                                "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                                            })
                                        }
                                        i.zoomWindow.css({
                                            "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                                        })
                                    } else {
                                        if (i.options.zoomType != "lens") {
                                            i.zoomLens.css({
                                                "background-size": i.largeWidth / i.newvaluewidth + "px " + i.largeHeight / i.newvalueheight + "px"
                                            })
                                        }
                                        i.zoomWindow.css({
                                            "background-size": i.largeWidth / i.newvaluewidth + "px " + i.largeHeight / i.newvaluewidth + "px"
                                        })
                                    }
                                    i.changeBgSize = false
                                }
                                i.zoomWindow.css({
                                    backgroundPosition: i.windowLeftPos + "px " + i.windowTopPos + "px"
                                });
                                i.scrollingLock = false;
                                i.loop = false
                            } else {
                                if (i.changeBgSize) {
                                    if (i.nzHeight > i.nzWidth) {
                                        if (i.options.zoomType == "lens") {
                                            i.zoomLens.css({
                                                "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                                            })
                                        }
                                        i.zoomWindow.css({
                                            "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                                        })
                                    } else {
                                        if (i.options.zoomType != "lens") {
                                            i.zoomLens.css({
                                                "background-size": i.largeWidth / i.newvaluewidth + "px " + i.largeHeight / i.newvaluewidth + "px"
                                            })
                                        }
                                        i.zoomWindow.css({
                                            "background-size": i.largeWidth / i.newvaluewidth + "px " + i.largeHeight / i.newvaluewidth + "px"
                                        })
                                    }
                                    i.changeBgSize = false
                                }
                                i.zoomWindow.css({
                                    backgroundPosition: i.xp + "px " + i.yp + "px"
                                })
                            }
                        }, 16)
                    }
                } else {
                    if (i.changeBgSize) {
                        if (i.nzHeight > i.nzWidth) {
                            if (i.options.zoomType == "lens") {
                                i.zoomLens.css({
                                    "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                                })
                            }
                            i.zoomWindow.css({
                                "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                            })
                        } else {
                            if (i.options.zoomType == "lens") {
                                i.zoomLens.css({
                                    "background-size": i.largeWidth / i.newvaluewidth + "px " + i.largeHeight / i.newvaluewidth + "px"
                                })
                            }
                            if (i.largeHeight / i.newvaluewidth < i.options.zoomWindowHeight) {
                                i.zoomWindow.css({
                                    "background-size": i.largeWidth / i.newvaluewidth + "px " + i.largeHeight / i.newvaluewidth + "px"
                                })
                            } else {
                                i.zoomWindow.css({
                                    "background-size": i.largeWidth / i.newvalueheight + "px " + i.largeHeight / i.newvalueheight + "px"
                                })
                            }
                        }
                        i.changeBgSize = false
                    }
                    i.zoomWindow.css({
                        backgroundPosition: i.windowLeftPos + "px " + i.windowTopPos + "px"
                    })
                }
            }
        },
        setTintPosition: function(e) {
            var t = this;
            t.nzOffset = t.$elem.offset();
            t.tintpos = String((e.pageX - t.nzOffset.left - t.zoomLens.width() / 2) * -1);
            t.tintposy = String((e.pageY - t.nzOffset.top - t.zoomLens.height() / 2) * -1);
            if (t.Etoppos) {
                t.tintposy = 0
            }
            if (t.Eloppos) {
                t.tintpos = 0
            }
            if (t.Eboppos) {
                t.tintposy = (t.nzHeight - t.zoomLens.height() - t.options.lensBorderSize * 2) * -1
            }
            if (t.Eroppos) {
                t.tintpos = (t.nzWidth - t.zoomLens.width() - t.options.lensBorderSize * 2) * -1
            }
            if (t.options.tint) {
                if (t.fullheight) {
                    t.tintposy = 0
                }
                if (t.fullwidth) {
                    t.tintpos = 0
                }
                t.zoomTintImage.css({
                    left: t.tintpos + "px"
                });
                t.zoomTintImage.css({
                    top: t.tintposy + "px"
                })
            }
        },
        swaptheimage: function(t, n) {
            var a = this;
            var o = new Image;
            if (a.options.loadingIcon) {
                if (typeof a.spinner == "undefined") {
                    if (e(i).find(".productImageLoadingIcon").length == 0) {
                        a.spinner = e("<div style=\"background: url('" + a.options.loadingIcon + "') no-repeat center;height:" + a.nzHeight + "px;width:" + a.nzWidth + 'px;z-index: 2000;position: absolute; top:0;background-position: center center;"></div>').addClass("productImageLoadingIcon");
                        a.$elem.after(a.spinner)
                    }
                } else {
                    a.spinner.show()
                }
            }
            a.options.onImageSwap(a.$elem);
            o.onload = function() {
                a.largeWidth = o.width;
                a.largeHeight = o.height;
                a.zoomImage = n;
                if (typeof a.zoomWindow != "undefined") {
                    a.zoomWindow.css({
                        "background-size": a.largeWidth + "px " + a.largeHeight + "px"
                    });
                    a.zoomWindow.css({
                        "background-size": a.largeWidth + "px " + a.largeHeight + "px"
                    })
                }
                a.swapAction(t, n);
                return
            };
            o.onerror = function() {
                if (t != n) {
                    a.swaptheimage(t, t)
                } else {
                    if (a.options.loadingIcon) {
                        a.spinner.hide()
                    }
                }
            };
            o.src = n
        },
        swapAction: function(t, i) {
            var n = this;
            var a = new Image;
            a.onload = function() {
                n.nzHeight = a.height;
                n.nzWidth = a.width;
                n.options.onImageSwapComplete(n.$elem);
                n.doneCallback();
                return
            };
            a.src = t;
            n.currentZoomLevel = n.options.zoomLevel;
            n.options.maxZoomLevel = false;
            if (n.options.zoomType == "lens") {
                n.zoomLens.css({
                    backgroundImage: "url('" + i + "')"
                })
            }
            if (n.options.zoomType == "window" && typeof n.zoomWindow != "undefined") {
                n.zoomWindow.css({
                    backgroundImage: "url('" + i + "')"
                })
            }
            if (n.options.zoomType == "inner" && typeof n.zoomWindow != "undefined") {
                n.zoomWindow.css({
                    backgroundImage: "url('" + i + "')"
                })
            }
            n.currentImage = i;
            if (n.options.imageCrossfade) {
                var o = n.$elem;
                var s = o.clone();
                n.$elem.attr("src", t);
                n.$elem.after(s);
                s.stop(true).fadeOut(n.options.imageCrossfade, function() {
                    e(this).remove()
                });
                n.$elem.width("auto").removeAttr("width");
                n.$elem.height("auto").removeAttr("height");
                o.fadeIn(n.options.imageCrossfade);
                if (n.options.tint && n.options.zoomType != "inner") {
                    var r = n.zoomTintImage;
                    var l = r.clone();
                    n.zoomTintImage.attr("src", i);
                    n.zoomTintImage.after(l);
                    l.stop(true).fadeOut(n.options.imageCrossfade, function() {
                        e(this).remove()
                    });
                    r.fadeIn(n.options.imageCrossfade);
                    n.zoomTint.css({
                        height: n.$elem.height()
                    });
                    n.zoomTint.css({
                        width: n.$elem.width()
                    })
                }
                n.zoomContainer.css("height", n.$elem.height());
                n.zoomContainer.css("width", n.$elem.width());
                if (n.options.zoomType == "inner") {
                    if (!n.options.constrainType) {
                        n.zoomWrap.parent().css("height", n.$elem.height());
                        n.zoomWrap.parent().css("width", n.$elem.width());
                        n.zoomWindow.css("height", n.$elem.height());
                        n.zoomWindow.css("width", n.$elem.width())
                    }
                }
                if (n.options.imageCrossfade) {
                    n.zoomWrap.css("height", n.$elem.height());
                    n.zoomWrap.css("width", n.$elem.width())
                }
            } else {
                n.$elem.attr("src", t);
                if (n.options.tint) {
                    n.zoomTintImage.attr("src", i);
                    n.zoomTintImage.attr("height", n.$elem.height());
                    n.zoomTintImage.css({
                        height: n.$elem.height()
                    });
                    n.zoomTint.css({
                        height: n.$elem.height()
                    })
                }
                if (typeof n.zoomWindow != "undefined") {
                    n.zoomContainer.css("height", n.$elem.height());
                    n.zoomContainer.css("width", n.$elem.width())
                }
                if (n.options.imageCrossfade) {
                    n.zoomWrap.css("height", n.$elem.height());
                    n.zoomWrap.css("width", n.$elem.width())
                }
            }
            if (n.options.constrainType) {
                if (n.options.constrainType == "height") {
                    n.zoomContainer.css("height", n.options.constrainSize);
                    n.zoomContainer.css("width", "auto");
                    if (n.options.imageCrossfade) {
                        n.zoomWrap.css("height", n.options.constrainSize);
                        n.zoomWrap.css("width", "auto");
                        n.constwidth = n.zoomWrap.width()
                    } else {
                        n.$elem.css("height", n.options.constrainSize);
                        n.$elem.css("width", "auto");
                        n.constwidth = n.$elem.width()
                    }
                    if (n.options.zoomType == "inner") {
                        n.zoomWrap.parent().css("height", n.options.constrainSize);
                        n.zoomWrap.parent().css("width", n.constwidth);
                        n.zoomWindow.css("height", n.options.constrainSize);
                        n.zoomWindow.css("width", n.constwidth)
                    }
                    if (n.options.tint) {
                        n.tintContainer.css("height", n.options.constrainSize);
                        n.tintContainer.css("width", n.constwidth);
                        n.zoomTint.css("height", n.options.constrainSize);
                        n.zoomTint.css("width", n.constwidth);
                        n.zoomTintImage.css("height", n.options.constrainSize);
                        n.zoomTintImage.css("width", n.constwidth)
                    }
                }
                if (n.options.constrainType == "width") {
                    n.zoomContainer.css("height", "auto");
                    n.zoomContainer.css("width", n.options.constrainSize);
                    if (n.options.imageCrossfade) {
                        n.zoomWrap.css("height", "auto");
                        n.zoomWrap.css("width", n.options.constrainSize);
                        n.constheight = n.zoomWrap.height()
                    } else {
                        n.$elem.css("height", "auto");
                        n.$elem.css("width", n.options.constrainSize);
                        n.constheight = n.$elem.height()
                    }
                    if (n.options.zoomType == "inner") {
                        n.zoomWrap.parent().css("height", n.constheight);
                        n.zoomWrap.parent().css("width", n.options.constrainSize);
                        n.zoomWindow.css("height", n.constheight);
                        n.zoomWindow.css("width", n.options.constrainSize)
                    }
                    if (n.options.tint) {
                        n.tintContainer.css("height", n.constheight);
                        n.tintContainer.css("width", n.options.constrainSize);
                        n.zoomTint.css("height", n.constheight);
                        n.zoomTint.css("width", n.options.constrainSize);
                        n.zoomTintImage.css("height", n.constheight);
                        n.zoomTintImage.css("width", n.options.constrainSize)
                    }
                }
            }
        },
        doneCallback: function() {
            var e = this;
            if (e.options.loadingIcon) {
                if (e.spinner != n) e.spinner.hide()
            }
            e.nzOffset = e.$elem.offset();
            e.nzWidth = e.$elem.width();
            e.nzHeight = e.$elem.height();
            e.currentZoomLevel = e.options.zoomLevel;
            e.widthRatio = e.largeWidth / e.nzWidth;
            e.heightRatio = e.largeHeight / e.nzHeight;
            if (e.options.zoomType == "window") {
                if (e.nzHeight < e.options.zoomWindowWidth / e.widthRatio) {
                    lensHeight = e.nzHeight
                } else {
                    lensHeight = String(e.options.zoomWindowHeight / e.heightRatio)
                }
                if (e.options.zoomWindowWidth < e.options.zoomWindowWidth) {
                    lensWidth = e.nzWidth
                } else {
                    lensWidth = e.options.zoomWindowWidth / e.widthRatio
                }
                if (e.zoomLens) {
                    e.zoomLens.css("width", lensWidth);
                    e.zoomLens.css("height", lensHeight)
                }
            }
        },
        getCurrentImage: function() {
            var e = this;
            return e.zoomImage
        },
        getGalleryList: function() {
            var t = this;
            t.gallerylist = [];
            if (t.options.gallery) {
                e("#" + t.options.gallery + " a").each(function() {
                    var i = "";
                    if (e(this).data("zoom-image")) {
                        i = e(this).data("zoom-image")
                    } else if (e(this).data("image")) {
                        i = e(this).data("image")
                    }
                    if (i == t.zoomImage) {
                        t.gallerylist.unshift({
                            href: "" + i + "",
                            title: e(this).find("img").attr("title")
                        })
                    } else {
                        t.gallerylist.push({
                            href: "" + i + "",
                            title: e(this).find("img").attr("title")
                        })
                    }
                })
            } else {
                t.gallerylist.push({
                    href: "" + t.zoomImage + "",
                    title: e(this).find("img").attr("title")
                })
            }
            return t.gallerylist
        },
        changeZoomLevel: function(e) {
            var t = this;
            t.scrollingLock = true;
            t.newvalue = parseFloat(e).toFixed(2);
            newvalue = parseFloat(e).toFixed(2);
            maxheightnewvalue = t.largeHeight / (t.options.zoomWindowHeight / t.nzHeight * t.nzHeight);
            maxwidthtnewvalue = t.largeWidth / (t.options.zoomWindowWidth / t.nzWidth * t.nzWidth);
            if (t.options.zoomType != "inner") {
                if (maxheightnewvalue <= newvalue) {
                    t.heightRatio = t.largeHeight / maxheightnewvalue / t.nzHeight;
                    t.newvalueheight = maxheightnewvalue;
                    t.fullheight = true
                } else {
                    t.heightRatio = t.largeHeight / newvalue / t.nzHeight;
                    t.newvalueheight = newvalue;
                    t.fullheight = false
                }
                if (maxwidthtnewvalue <= newvalue) {
                    t.widthRatio = t.largeWidth / maxwidthtnewvalue / t.nzWidth;
                    t.newvaluewidth = maxwidthtnewvalue;
                    t.fullwidth = true
                } else {
                    t.widthRatio = t.largeWidth / newvalue / t.nzWidth;
                    t.newvaluewidth = newvalue;
                    t.fullwidth = false
                }
                if (t.options.zoomType == "lens") {
                    if (maxheightnewvalue <= newvalue) {
                        t.fullwidth = true;
                        t.newvaluewidth = maxheightnewvalue
                    } else {
                        t.widthRatio = t.largeWidth / newvalue / t.nzWidth;
                        t.newvaluewidth = newvalue;
                        t.fullwidth = false
                    }
                }
            }
            if (t.options.zoomType == "inner") {
                maxheightnewvalue = parseFloat(t.largeHeight / t.nzHeight).toFixed(2);
                maxwidthtnewvalue = parseFloat(t.largeWidth / t.nzWidth).toFixed(2);
                if (newvalue > maxheightnewvalue) {
                    newvalue = maxheightnewvalue
                }
                if (newvalue > maxwidthtnewvalue) {
                    newvalue = maxwidthtnewvalue
                }
                if (maxheightnewvalue <= newvalue) {
                    t.heightRatio = t.largeHeight / newvalue / t.nzHeight;
                    if (newvalue > maxheightnewvalue) {
                        t.newvalueheight = maxheightnewvalue
                    } else {
                        t.newvalueheight = newvalue
                    }
                    t.fullheight = true
                } else {
                    t.heightRatio = t.largeHeight / newvalue / t.nzHeight;
                    if (newvalue > maxheightnewvalue) {
                        t.newvalueheight = maxheightnewvalue
                    } else {
                        t.newvalueheight = newvalue
                    }
                    t.fullheight = false
                }
                if (maxwidthtnewvalue <= newvalue) {
                    t.widthRatio = t.largeWidth / newvalue / t.nzWidth;
                    if (newvalue > maxwidthtnewvalue) {
                        t.newvaluewidth = maxwidthtnewvalue
                    } else {
                        t.newvaluewidth = newvalue
                    }
                    t.fullwidth = true
                } else {
                    t.widthRatio = t.largeWidth / newvalue / t.nzWidth;
                    t.newvaluewidth = newvalue;
                    t.fullwidth = false
                }
            }
            scrcontinue = false;
            if (t.options.zoomType == "inner") {
                if (t.nzWidth > t.nzHeight) {
                    if (t.newvaluewidth <= maxwidthtnewvalue) {
                        scrcontinue = true
                    } else {
                        scrcontinue = false;
                        t.fullheight = true;
                        t.fullwidth = true
                    }
                }
                if (t.nzHeight > t.nzWidth) {
                    if (t.newvaluewidth <= maxwidthtnewvalue) {
                        scrcontinue = true
                    } else {
                        scrcontinue = false;
                        t.fullheight = true;
                        t.fullwidth = true
                    }
                }
            }
            if (t.options.zoomType != "inner") {
                scrcontinue = true
            }
            if (scrcontinue) {
                t.zoomLock = 0;
                t.changeZoom = true;
                if (t.options.zoomWindowHeight / t.heightRatio <= t.nzHeight) {
                    t.currentZoomLevel = t.newvalueheight;
                    if (t.options.zoomType != "lens" && t.options.zoomType != "inner") {
                        t.changeBgSize = true;
                        t.zoomLens.css({
                            height: String(t.options.zoomWindowHeight / t.heightRatio) + "px"
                        })
                    }
                    if (t.options.zoomType == "lens" || t.options.zoomType == "inner") {
                        t.changeBgSize = true
                    }
                }
                if (t.options.zoomWindowWidth / t.widthRatio <= t.nzWidth) {
                    if (t.options.zoomType != "inner") {
                        if (t.newvaluewidth > t.newvalueheight) {
                            t.currentZoomLevel = t.newvaluewidth
                        }
                    }
                    if (t.options.zoomType != "lens" && t.options.zoomType != "inner") {
                        t.changeBgSize = true;
                        t.zoomLens.css({
                            width: String(t.options.zoomWindowWidth / t.widthRatio) + "px"
                        })
                    }
                    if (t.options.zoomType == "lens" || t.options.zoomType == "inner") {
                        t.changeBgSize = true
                    }
                }
                if (t.options.zoomType == "inner") {
                    t.changeBgSize = true;
                    if (t.nzWidth > t.nzHeight) {
                        t.currentZoomLevel = t.newvaluewidth
                    }
                    if (t.nzHeight > t.nzWidth) {
                        t.currentZoomLevel = t.newvaluewidth
                    }
                }
            }
            t.setPosition(t.currentLoc)
        },
        closeAll: function() {
            if (self.zoomWindow) {
                self.zoomWindow.hide()
            }
            if (self.zoomLens) {
                self.zoomLens.hide()
            }
            if (self.zoomTint) {
                self.zoomTint.hide()
            }
        },
        changeState: function(e) {
            var t = this;
            if (e == "enable") {
                t.options.zoomEnabled = true
            }
            if (e == "disable") {
                t.options.zoomEnabled = false
            }
        }
    };
    e.fn.elevateZoom = function(t) {
        return this.each(function() {
            var i = Object.create(a);
            i.init(t, this);
            e.data(this, "elevateZoom", i)
        })
    };
    e.fn.elevateZoom.options = {
        zoomActivation: "hover",
        zoomEnabled: true,
        preloading: 1,
        zoomLevel: 1,
        scrollZoom: false,
        scrollZoomIncrement: .1,
        minZoomLevel: false,
        maxZoomLevel: false,
        easing: false,
        easingAmount: 12,
        lensSize: 200,
        zoomWindowWidth: 400,
        zoomWindowHeight: 400,
        zoomWindowOffetx: 0,
        zoomWindowOffety: 0,
        zoomWindowPosition: 1,
        zoomWindowBgColour: "#fff",
        lensFadeIn: false,
        lensFadeOut: false,
        debug: false,
        zoomWindowFadeIn: false,
        zoomWindowFadeOut: false,
        zoomWindowAlwaysShow: false,
        zoomTintFadeIn: false,
        zoomTintFadeOut: false,
        borderSize: 4,
        showLens: true,
        borderColour: "#888",
        lensBorderSize: 1,
        lensBorderColour: "#000",
        lensShape: "square",
        zoomType: "window",
        containLensZoom: false,
        lensColour: "white",
        lensOpacity: .4,
        lenszoom: false,
        tint: false,
        tintColour: "#333",
        tintOpacity: .4,
        gallery: false,
        galleryActiveClass: "zoomGalleryActive",
        imageCrossfade: false,
        constrainType: false,
        constrainSize: false,
        loadingIcon: false,
        cursor: "default",
        responsive: true,
        onComplete: e.noop,
        onZoomedImageLoaded: function() {},
        onImageSwap: e.noop,
        onImageSwapComplete: e.noop
    }
})(jQuery, window, document);
(function(e) {
    "use strict";
    var t = {};
    t.fileapi = e("<input type='file'/>").get(0).files !== undefined;
    t.formdata = window.FormData !== undefined;
    var i = !!e.fn.prop;
    e.fn.attr2 = function() {
        if (!i) return this.attr.apply(this, arguments);
        var e = this.prop.apply(this, arguments);
        if (e && e.jquery || typeof e === "string") return e;
        return this.attr.apply(this, arguments)
    };
    e.fn.ajaxSubmit = function(n) {
        var a, s, r, l = this;
        if (typeof n == "function") {
            n = {
                success: n
            }
        } else if (n === undefined) {
            n = {}
        }
        a = n.type || this.attr2("method");
        s = n.url || this.attr2("action");
        r = typeof s === "string" ? e.trim(s) : "";
        r = r || window.location.href || "";
        if (r) {
            r = (r.match(/^([^#]+)/) || [])[1]
        }
        n = e.extend(true, {
            url: r,
            success: e.ajaxSettings.success,
            type: a || e.ajaxSettings.type,
            iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank"
        }, n);
        var d = {};
        this.trigger("form-pre-serialize", [this, n, d]);
        if (d.veto) {
            o("ajaxSubmit: submit vetoed via form-pre-serialize trigger");
            return this
        }
        if (n.beforeSerialize && n.beforeSerialize(this, n) === false) {
            o("ajaxSubmit: submit aborted via beforeSerialize callback");
            return this
        }
        var c = n.traditional;
        if (c === undefined) {
            c = e.ajaxSettings.traditional
        }
        var f = [];
        var u, h = this.formToArray(n.semantic, f);
        if (n.data) {
            n.extraData = n.data;
            u = e.param(n.data, c)
        }
        if (n.beforeSubmit && n.beforeSubmit(h, this, n) === false) {
            o("ajaxSubmit: submit aborted via beforeSubmit callback");
            return this
        }
        this.trigger("form-submit-validate", [h, this, n, d]);
        if (d.veto) {
            o("ajaxSubmit: submit vetoed via form-submit-validate trigger");
            return this
        }
        var p = e.param(h, c);
        if (u) {
            p = p ? p + "&" + u : u
        }
        if (n.type.toUpperCase() == "GET") {
            n.url += (n.url.indexOf("?") >= 0 ? "&" : "?") + p;
            n.data = null
        } else {
            n.data = p
        }
        var g = [];
        if (n.resetForm) {
            g.push(function() {
                l.resetForm()
            })
        }
        if (n.clearForm) {
            g.push(function() {
                l.clearForm(n.includeHidden)
            })
        }
        if (!n.dataType && n.target) {
            var m = n.success || function() {};
            g.push(function(t) {
                var i = n.replaceTarget ? "replaceWith" : "html";
                e(n.target)[i](t).each(m, arguments)
            })
        } else if (n.success) {
            g.push(n.success)
        }
        n.success = function(e, t, i) {
            var a = n.context || this;
            for (var o = 0, s = g.length; o < s; o++) {
                g[o].apply(a, [e, t, i || l, l])
            }
        };
        if (n.error) {
            var v = n.error;
            n.error = function(e, t, i) {
                var a = n.context || this;
                v.apply(a, [e, t, i, l])
            }
        }
        if (n.complete) {
            var b = n.complete;
            n.complete = function(e, t) {
                var i = n.context || this;
                b.apply(i, [e, t, l])
            }
        }
        var w = e("input[type=file]:enabled", this).filter(function() {
            return e(this).val() !== ""
        });
        var y = w.length > 0;
        var _ = "multipart/form-data";
        var z = l.attr("enctype") == _ || l.attr("encoding") == _;
        var x = t.fileapi && t.formdata;
        o("fileAPI :" + x);
        var k = (y || z) && !x;
        var L;
        if (n.iframe !== false && (n.iframe || k)) {
            if (n.closeKeepAlive) {
                e.get(n.closeKeepAlive, function() {
                    L = S(h)
                })
            } else {
                L = S(h)
            }
        } else if ((y || z) && x) {
            L = $(h)
        } else {
            L = e.ajax(n)
        }
        l.removeData("jqxhr").data("jqxhr", L);
        for (var C = 0; C < f.length; C++) f[C] = null;
        this.trigger("form-submit-notify", [this, n]);
        return this;

        function T(t) {
            var i = e.param(t, n.traditional).split("&");
            var a = i.length;
            var o = [];
            var s, r;
            for (s = 0; s < a; s++) {
                i[s] = i[s].replace(/\+/g, " ");
                r = i[s].split("=");
                o.push([decodeURIComponent(r[0]), decodeURIComponent(r[1])])
            }
            return o
        }

        function $(t) {
            var i = new FormData;
            for (var o = 0; o < t.length; o++) {
                i.append(t[o].name, t[o].value)
            }
            if (n.extraData) {
                var s = T(n.extraData);
                for (o = 0; o < s.length; o++)
                    if (s[o]) i.append(s[o][0], s[o][1])
            }
            n.data = null;
            var r = e.extend(true, {}, e.ajaxSettings, n, {
                contentType: false,
                processData: false,
                cache: false,
                type: a || "POST"
            });
            if (n.uploadProgress) {
                r.xhr = function() {
                    var t = e.ajaxSettings.xhr();
                    if (t.upload) {
                        t.upload.addEventListener("progress", function(e) {
                            var t = 0;
                            var i = e.loaded || e.position;
                            var a = e.total;
                            if (e.lengthComputable) {
                                t = Math.ceil(i / a * 100)
                            }
                            n.uploadProgress(e, i, a, t)
                        }, false)
                    }
                    return t
                }
            }
            r.data = null;
            var l = r.beforeSend;
            r.beforeSend = function(e, t) {
                if (n.formData) t.data = n.formData;
                else t.data = i;
                if (l) l.call(this, e, t)
            };
            return e.ajax(r)
        }

        function S(t) {
            var s = l[0],
                r, d, c, u, h, p, g, m, v, b, w, y;
            var _ = e.Deferred();
            _.abort = function(e) {
                m.abort(e)
            };
            if (t) {
                for (d = 0; d < f.length; d++) {
                    r = e(f[d]);
                    if (i) r.prop("disabled", false);
                    else r.removeAttr("disabled")
                }
            }
            c = e.extend(true, {}, e.ajaxSettings, n);
            c.context = c.context || c;
            h = "jqFormIO" + (new Date).getTime();
            if (c.iframeTarget) {
                p = e(c.iframeTarget);
                b = p.attr2("name");
                if (!b) p.attr2("name", h);
                else h = b
            } else {
                p = e('<iframe name="' + h + '" src="' + c.iframeSrc + '" />');
                p.css({
                    position: "absolute",
                    top: "-1000px",
                    left: "-1000px"
                })
            }
            g = p[0];
            m = {
                aborted: 0,
                responseText: null,
                responseXML: null,
                status: 0,
                statusText: "n/a",
                getAllResponseHeaders: function() {},
                getResponseHeader: function() {},
                setRequestHeader: function() {},
                abort: function(t) {
                    var i = t === "timeout" ? "timeout" : "aborted";
                    o("aborting upload... " + i);
                    this.aborted = 1;
                    try {
                        if (g.contentWindow.document.execCommand) {
                            g.contentWindow.document.execCommand("Stop")
                        }
                    } catch (n) {}
                    p.attr("src", c.iframeSrc);
                    m.error = i;
                    if (c.error) c.error.call(c.context, m, i, t);
                    if (u) e.event.trigger("ajaxError", [m, c, i]);
                    if (c.complete) c.complete.call(c.context, m, i)
                }
            };
            u = c.global;
            if (u && 0 === e.active++) {
                e.event.trigger("ajaxStart")
            }
            if (u) {
                e.event.trigger("ajaxSend", [m, c])
            }
            if (c.beforeSend && c.beforeSend.call(c.context, m, c) === false) {
                if (c.global) {
                    e.active--
                }
                _.reject();
                return _
            }
            if (m.aborted) {
                _.reject();
                return _
            }
            v = s.clk;
            if (v) {
                b = v.name;
                if (b && !v.disabled) {
                    c.extraData = c.extraData || {};
                    c.extraData[b] = v.value;
                    if (v.type == "image") {
                        c.extraData[b + ".x"] = s.clk_x;
                        c.extraData[b + ".y"] = s.clk_y
                    }
                }
            }
            var z = 1;
            var x = 2;

            function k(e) {
                var t = null;
                try {
                    if (e.contentWindow) {
                        t = e.contentWindow.document
                    }
                } catch (i) {
                    o("cannot get iframe.contentWindow document: " + i)
                }
                if (t) {
                    return t
                }
                try {
                    t = e.contentDocument ? e.contentDocument : e.document
                } catch (i) {
                    o("cannot get iframe.contentDocument: " + i);
                    t = e.document
                }
                return t
            }
            var L = e("meta[name=csrf-token]").attr("content");
            var C = e("meta[name=csrf-param]").attr("content");
            if (C && L) {
                c.extraData = c.extraData || {};
                c.extraData[C] = L
            }

            function T() {
                var t = l.attr2("target"),
                    i = l.attr2("action");
                s.setAttribute("target", h);
                if (!a || /post/i.test(a)) {
                    s.setAttribute("method", "POST")
                }
                if (i != c.url) {
                    s.setAttribute("action", c.url)
                }
                if (!c.skipEncodingOverride && (!a || /post/i.test(a))) {
                    l.attr({
                        encoding: "multipart/form-data",
                        enctype: "multipart/form-data"
                    })
                }
                if (c.timeout) {
                    y = setTimeout(function() {
                        w = true;
                        I(z)
                    }, c.timeout)
                }

                function n() {
                    try {
                        var e = k(g).readyState;
                        o("state = " + e);
                        if (e && e.toLowerCase() == "uninitialized") setTimeout(n, 50)
                    } catch (t) {
                        o("Server abort: ", t, " (", t.name, ")");
                        I(x);
                        if (y) clearTimeout(y);
                        y = undefined
                    }
                }
                var r = [];
                try {
                    if (c.extraData) {
                        for (var d in c.extraData) {
                            if (c.extraData.hasOwnProperty(d)) {
                                if (e.isPlainObject(c.extraData[d]) && c.extraData[d].hasOwnProperty("name") && c.extraData[d].hasOwnProperty("value")) {
                                    r.push(e('<input type="hidden" name="' + c.extraData[d].name + '">').val(c.extraData[d].value).appendTo(s)[0])
                                } else {
                                    r.push(e('<input type="hidden" name="' + d + '">').val(c.extraData[d]).appendTo(s)[0])
                                }
                            }
                        }
                    }
                    if (!c.iframeTarget) {
                        p.appendTo("body")
                    }
                    if (g.attachEvent) g.attachEvent("onload", I);
                    else g.addEventListener("load", I, false);
                    setTimeout(n, 15);
                    try {
                        s.submit()
                    } catch (f) {
                        var u = document.createElement("form").submit;
                        u.apply(s)
                    }
                } finally {
                    s.setAttribute("action", i);
                    if (t) {
                        s.setAttribute("target", t)
                    } else {
                        l.removeAttr("target")
                    }
                    e(r).remove()
                }
            }
            if (c.forceSync) {
                T()
            } else {
                setTimeout(T, 10)
            }
            var $, S, W = 50,
                A;

            function I(t) {
                if (m.aborted || A) {
                    return
                }
                S = k(g);
                if (!S) {
                    o("cannot access response document");
                    t = x
                }
                if (t === z && m) {
                    m.abort("timeout");
                    _.reject(m, "timeout");
                    return
                } else if (t == x && m) {
                    m.abort("server abort");
                    _.reject(m, "error", "server abort");
                    return
                }
                if (!S || S.location.href == c.iframeSrc) {
                    if (!w) return
                }
                if (g.detachEvent) g.detachEvent("onload", I);
                else g.removeEventListener("load", I, false);
                var i = "success",
                    n;
                try {
                    if (w) {
                        throw "timeout"
                    }
                    var a = c.dataType == "xml" || S.XMLDocument || e.isXMLDoc(S);
                    o("isXml=" + a);
                    if (!a && window.opera && (S.body === null || !S.body.innerHTML)) {
                        if (--W) {
                            o("requeing onLoad callback, DOM not available");
                            setTimeout(I, 250);
                            return
                        }
                    }
                    var s = S.body ? S.body : S.documentElement;
                    m.responseText = s ? s.innerHTML : null;
                    m.responseXML = S.XMLDocument ? S.XMLDocument : S;
                    if (a) c.dataType = "xml";
                    m.getResponseHeader = function(e) {
                        var t = {
                            "content-type": c.dataType
                        };
                        return t[e.toLowerCase()]
                    };
                    if (s) {
                        m.status = Number(s.getAttribute("status")) || m.status;
                        m.statusText = s.getAttribute("statusText") || m.statusText
                    }
                    var r = (c.dataType || "").toLowerCase();
                    var l = /(json|script|text)/.test(r);
                    if (l || c.textarea) {
                        var d = S.getElementsByTagName("textarea")[0];
                        if (d) {
                            m.responseText = d.value;
                            m.status = Number(d.getAttribute("status")) || m.status;
                            m.statusText = d.getAttribute("statusText") || m.statusText
                        } else if (l) {
                            var f = S.getElementsByTagName("pre")[0];
                            var h = S.getElementsByTagName("body")[0];
                            if (f) {
                                m.responseText = f.textContent ? f.textContent : f.innerText
                            } else if (h) {
                                m.responseText = h.textContent ? h.textContent : h.innerText
                            }
                        }
                    } else if (r == "xml" && !m.responseXML && m.responseText) {
                        m.responseXML = O(m.responseText)
                    }
                    try {
                        $ = P(m, r, c)
                    } catch (v) {
                        i = "parsererror";
                        m.error = n = v || i
                    }
                } catch (v) {
                    o("error caught: ", v);
                    i = "error";
                    m.error = n = v || i
                }
                if (m.aborted) {
                    o("upload aborted");
                    i = null
                }
                if (m.status) {
                    i = m.status >= 200 && m.status < 300 || m.status === 304 ? "success" : "error"
                }
                if (i === "success") {
                    if (c.success) c.success.call(c.context, $, "success", m);
                    _.resolve(m.responseText, "success", m);
                    if (u) e.event.trigger("ajaxSuccess", [m, c])
                } else if (i) {
                    if (n === undefined) n = m.statusText;
                    if (c.error) c.error.call(c.context, m, i, n);
                    _.reject(m, "error", n);
                    if (u) e.event.trigger("ajaxError", [m, c, n])
                }
                if (u) e.event.trigger("ajaxComplete", [m, c]);
                if (u && !--e.active) {
                    e.event.trigger("ajaxStop")
                }
                if (c.complete) c.complete.call(c.context, m, i);
                A = true;
                if (c.timeout) clearTimeout(y);
                setTimeout(function() {
                    if (!c.iframeTarget) p.remove();
                    else p.attr("src", c.iframeSrc);
                    m.responseXML = null
                }, 100)
            }
            var O = e.parseXML || function(e, t) {
                    if (window.ActiveXObject) {
                        t = new ActiveXObject("Microsoft.XMLDOM");
                        t.async = "false";
                        t.loadXML(e)
                    } else {
                        t = (new DOMParser).parseFromString(e, "text/xml")
                    }
                    return t && t.documentElement && t.documentElement.nodeName != "parsererror" ? t : null
                };
            var D = e.parseJSON || function(e) {
                    return window["eval"]("(" + e + ")")
                };
            var P = function(t, i, n) {
                var a = t.getResponseHeader("content-type") || "",
                    o = i === "xml" || !i && a.indexOf("xml") >= 0,
                    s = o ? t.responseXML : t.responseText;
                if (o && s.documentElement.nodeName === "parsererror") {
                    if (e.error) e.error("parsererror")
                }
                if (n && n.dataFilter) {
                    s = n.dataFilter(s, i)
                }
                if (typeof s === "string") {
                    if (i === "json" || !i && a.indexOf("json") >= 0) {
                        s = D(s)
                    } else if (i === "script" || !i && a.indexOf("javascript") >= 0) {
                        e.globalEval(s)
                    }
                }
                return s
            };
            return _
        }
    };
    e.fn.ajaxForm = function(t) {
        t = t || {};
        t.delegation = t.delegation && e.isFunction(e.fn.on);
        if (!t.delegation && this.length === 0) {
            var i = {
                s: this.selector,
                c: this.context
            };
            if (!e.isReady && i.s) {
                o("DOM not ready, queuing ajaxForm");
                e(function() {
                    e(i.s, i.c).ajaxForm(t)
                });
                return this
            }
            o("terminating; zero elements found by selector" + (e.isReady ? "" : " (DOM not ready)"));
            return this
        }
        if (t.delegation) {
            e(document).off("submit.form-plugin", this.selector, n).off("click.form-plugin", this.selector, a).on("submit.form-plugin", this.selector, t, n).on("click.form-plugin", this.selector, t, a);
            return this
        }
        return this.ajaxFormUnbind().bind("submit.form-plugin", t, n).bind("click.form-plugin", t, a)
    };

    function n(t) {
        var i = t.data;
        if (!t.isDefaultPrevented()) {
            t.preventDefault();
            e(t.target).ajaxSubmit(i)
        }
    }

    function a(t) {
        var i = t.target;
        var n = e(i);
        if (!n.is("[type=submit],[type=image]")) {
            var a = n.closest("[type=submit]");
            if (a.length === 0) {
                return
            }
            i = a[0]
        }
        var o = this;
        o.clk = i;
        if (i.type == "image") {
            if (t.offsetX !== undefined) {
                o.clk_x = t.offsetX;
                o.clk_y = t.offsetY
            } else if (typeof e.fn.offset == "function") {
                var s = n.offset();
                o.clk_x = t.pageX - s.left;
                o.clk_y = t.pageY - s.top
            } else {
                o.clk_x = t.pageX - i.offsetLeft;
                o.clk_y = t.pageY - i.offsetTop
            }
        }
        setTimeout(function() {
            o.clk = o.clk_x = o.clk_y = null
        }, 100)
    }
    e.fn.ajaxFormUnbind = function() {
        return this.unbind("submit.form-plugin click.form-plugin")
    };
    e.fn.formToArray = function(i, n) {
        var a = [];
        if (this.length === 0) {
            return a
        }
        var o = this[0];
        var s = i ? o.getElementsByTagName("*") : o.elements;
        if (!s) {
            return a
        }
        var r, l, d, c, f, u, h;
        for (r = 0, u = s.length; r < u; r++) {
            f = s[r];
            d = f.name;
            if (!d || f.disabled) {
                continue
            }
            if (i && o.clk && f.type == "image") {
                if (o.clk == f) {
                    a.push({
                        name: d,
                        value: e(f).val(),
                        type: f.type
                    });
                    a.push({
                        name: d + ".x",
                        value: o.clk_x
                    }, {
                        name: d + ".y",
                        value: o.clk_y
                    })
                }
                continue
            }
            c = e.fieldValue(f, true);
            if (c && c.constructor == Array) {
                if (n) n.push(f);
                for (l = 0, h = c.length; l < h; l++) {
                    a.push({
                        name: d,
                        value: c[l]
                    })
                }
            } else if (t.fileapi && f.type == "file") {
                if (n) n.push(f);
                var p = f.files;
                if (p.length) {
                    for (l = 0; l < p.length; l++) {
                        a.push({
                            name: d,
                            value: p[l],
                            type: f.type
                        })
                    }
                } else {
                    a.push({
                        name: d,
                        value: "",
                        type: f.type
                    })
                }
            } else if (c !== null && typeof c != "undefined") {
                if (n) n.push(f);
                a.push({
                    name: d,
                    value: c,
                    type: f.type,
                    required: f.required
                })
            }
        }
        if (!i && o.clk) {
            var g = e(o.clk),
                m = g[0];
            d = m.name;
            if (d && !m.disabled && m.type == "image") {
                a.push({
                    name: d,
                    value: g.val()
                });
                a.push({
                    name: d + ".x",
                    value: o.clk_x
                }, {
                    name: d + ".y",
                    value: o.clk_y
                })
            }
        }
        return a
    };
    e.fn.formSerialize = function(t) {
        return e.param(this.formToArray(t))
    };
    e.fn.fieldSerialize = function(t) {
        var i = [];
        this.each(function() {
            var n = this.name;
            if (!n) {
                return
            }
            var a = e.fieldValue(this, t);
            if (a && a.constructor == Array) {
                for (var o = 0, s = a.length; o < s; o++) {
                    i.push({
                        name: n,
                        value: a[o]
                    })
                }
            } else if (a !== null && typeof a != "undefined") {
                i.push({
                    name: this.name,
                    value: a
                })
            }
        });
        return e.param(i)
    };
    e.fn.fieldValue = function(t) {
        for (var i = [], n = 0, a = this.length; n < a; n++) {
            var o = this[n];
            var s = e.fieldValue(o, t);
            if (s === null || typeof s == "undefined" || s.constructor == Array && !s.length) {
                continue
            }
            if (s.constructor == Array) e.merge(i, s);
            else i.push(s)
        }
        return i
    };
    e.fieldValue = function(t, i) {
        var n = t.name,
            a = t.type,
            o = t.tagName.toLowerCase();
        if (i === undefined) {
            i = true
        }
        if (i && (!n || t.disabled || a == "reset" || a == "button" || (a == "checkbox" || a == "radio") && !t.checked || (a == "submit" || a == "image") && t.form && t.form.clk != t || o == "select" && t.selectedIndex == -1)) {
            return null
        }
        if (o == "select") {
            var s = t.selectedIndex;
            if (s < 0) {
                return null
            }
            var r = [],
                l = t.options;
            var d = a == "select-one";
            var c = d ? s + 1 : l.length;
            for (var f = d ? s : 0; f < c; f++) {
                var u = l[f];
                if (u.selected) {
                    var h = u.value;
                    if (!h) {
                        h = u.attributes && u.attributes["value"] && !u.attributes["value"].specified ? u.text : u.value
                    }
                    if (d) {
                        return h
                    }
                    r.push(h)
                }
            }
            return r
        }
        return e(t).val()
    };
    e.fn.clearForm = function(t) {
        return this.each(function() {
            e("input,select,textarea", this).clearFields(t)
        })
    };
    e.fn.clearFields = e.fn.clearInputs = function(t) {
        var i = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
        return this.each(function() {
            var n = this.type,
                a = this.tagName.toLowerCase();
            if (i.test(n) || a == "textarea") {
                this.value = ""
            } else if (n == "checkbox" || n == "radio") {
                this.checked = false
            } else if (a == "select") {
                this.selectedIndex = -1
            } else if (n == "file") {
                if (/MSIE/.test(navigator.userAgent)) {
                    e(this).replaceWith(e(this).clone(true))
                } else {
                    e(this).val("")
                }
            } else if (t) {
                if (t === true && /hidden/.test(n) || typeof t == "string" && e(this).is(t)) this.value = ""
            }
        })
    };
    e.fn.resetForm = function() {
        return this.each(function() {
            if (typeof this.reset == "function" || typeof this.reset == "object" && !this.reset.nodeType) {
                this.reset()
            }
        })
    };
    e.fn.enable = function(e) {
        if (e === undefined) {
            e = true
        }
        return this.each(function() {
            this.disabled = !e
        })
    };
    e.fn.selected = function(t) {
        if (t === undefined) {
            t = true
        }
        return this.each(function() {
            var i = this.type;
            if (i == "checkbox" || i == "radio") {
                this.checked = t
            } else if (this.tagName.toLowerCase() == "option") {
                var n = e(this).parent("select");
                if (t && n[0] && n[0].type == "select-one") {
                    n.find("option").selected(false)
                }
                this.selected = t
            }
        })
    };
    e.fn.ajaxSubmit.debug = false;

    function o() {
        if (!e.fn.ajaxSubmit.debug) return;
        var t = "[jquery.form] " + Array.prototype.join.call(arguments, "");
        if (window.console && window.console.log) {
            window.console.log(t)
        } else if (window.opera && window.opera.postError) {
            window.opera.postError(t)
        }
    }
})(typeof jQuery != "undefined" ? jQuery : window.Zepto);
(function(e) {
    "use strict";
    var t = e.jCarousel = {};
    t.version = "0.3.1";
    var i = /^([+\-]=)?(.+)$/;
    t.parseTarget = function(e) {
        var t = false,
            n = typeof e !== "object" ? i.exec(e) : null;
        if (n) {
            e = parseInt(n[2], 10) || 0;
            if (n[1]) {
                t = true;
                if (n[1] === "-=") {
                    e *= -1
                }
            }
        } else if (typeof e !== "object") {
            e = parseInt(e, 10) || 0
        }
        return {
            target: e,
            relative: t
        }
    };
    t.detectCarousel = function(e) {
        var t;
        while (e.length > 0) {
            t = e.filter("[data-jcarousel]");
            if (t.length > 0) {
                return t
            }
            t = e.find("[data-jcarousel]");
            if (t.length > 0) {
                return t
            }
            e = e.parent()
        }
        return null
    };
    t.base = function(i) {
        return {
            version: t.version,
            _options: {},
            _element: null,
            _carousel: null,
            _init: e.noop,
            _create: e.noop,
            _destroy: e.noop,
            _reload: e.noop,
            create: function() {
                this._element.attr("data-" + i.toLowerCase(), true).data(i, this);
                if (false === this._trigger("create")) {
                    return this
                }
                this._create();
                this._trigger("createend");
                return this
            },
            destroy: function() {
                if (false === this._trigger("destroy")) {
                    return this
                }
                this._destroy();
                this._trigger("destroyend");
                this._element.removeData(i).removeAttr("data-" + i.toLowerCase());
                return this
            },
            reload: function(e) {
                if (false === this._trigger("reload")) {
                    return this
                }
                if (e) {
                    this.options(e)
                }
                this._reload();
                this._trigger("reloadend");
                return this
            },
            element: function() {
                return this._element
            },
            options: function(t, i) {
                if (arguments.length === 0) {
                    return e.extend({}, this._options)
                }
                if (typeof t === "string") {
                    if (typeof i === "undefined") {
                        return typeof this._options[t] === "undefined" ? null : this._options[t]
                    }
                    this._options[t] = i
                } else {
                    this._options = e.extend({}, this._options, t)
                }
                return this
            },
            carousel: function() {
                if (!this._carousel) {
                    this._carousel = t.detectCarousel(this.options("carousel") || this._element);
                    if (!this._carousel) {
                        e.error('Could not detect carousel for plugin "' + i + '"')
                    }
                }
                return this._carousel
            },
            _trigger: function(t, n, a) {
                var o, s = false;
                a = [this].concat(a || []);
                (n || this._element).each(function() {
                    o = e.Event((i + ":" + t).toLowerCase());
                    e(this).trigger(o, a);
                    if (o.isDefaultPrevented()) {
                        s = true
                    }
                });
                return !s
            }
        }
    };
    t.plugin = function(i, n) {
        var a = e[i] = function(t, i) {
            this._element = e(t);
            this.options(i);
            this._init();
            this.create()
        };
        a.fn = a.prototype = e.extend({}, t.base(i), n);
        e.fn[i] = function(t) {
            var n = Array.prototype.slice.call(arguments, 1),
                o = this;
            if (typeof t === "string") {
                this.each(function() {
                    var a = e(this).data(i);
                    if (!a) {
                        return e.error("Cannot call methods on " + i + " prior to initialization; " + 'attempted to call method "' + t + '"')
                    }
                    if (!e.isFunction(a[t]) || t.charAt(0) === "_") {
                        return e.error('No such method "' + t + '" for ' + i + " instance")
                    }
                    var s = a[t].apply(a, n);
                    if (s !== a && typeof s !== "undefined") {
                        o = s;
                        return false
                    }
                })
            } else {
                this.each(function() {
                    var n = e(this).data(i);
                    if (n instanceof a) {
                        n.reload(t)
                    } else {
                        new a(this, t)
                    }
                })
            }
            return o
        };
        return a
    }
})(jQuery);
(function(e, t) {
    "use strict";
    var i = function(e) {
        return parseFloat(e) || 0
    };
    e.jCarousel.plugin("jcarousel", {
        animating: false,
        tail: 0,
        inTail: false,
        resizeTimer: null,
        lt: null,
        vertical: false,
        rtl: false,
        circular: false,
        underflow: false,
        relative: false,
        _options: {
            list: function() {
                return this.element().children().eq(0)
            },
            items: function() {
                return this.list().children()
            },
            animation: 400,
            transitions: false,
            wrap: null,
            vertical: null,
            rtl: null,
            center: false
        },
        _list: null,
        _items: null,
        _target: e(),
        _first: e(),
        _last: e(),
        _visible: e(),
        _fullyvisible: e(),
        _init: function() {
            var e = this;
            this.onWindowResize = function() {
                if (e.resizeTimer) {
                    clearTimeout(e.resizeTimer)
                }
                e.resizeTimer = setTimeout(function() {
                    e.reload()
                }, 100)
            };
            return this
        },
        _create: function() {
            this._reload();
            e(t).on("resize.jcarousel", this.onWindowResize)
        },
        _destroy: function() {
            e(t).off("resize.jcarousel", this.onWindowResize)
        },
        _reload: function() {
            this.vertical = this.options("vertical");
            if (this.vertical == null) {
                this.vertical = this.list().height() > this.list().width()
            }
            this.rtl = this.options("rtl");
            if (this.rtl == null) {
                this.rtl = function(t) {
                    if (("" + t.attr("dir")).toLowerCase() === "rtl") {
                        return true
                    }
                    var i = false;
                    t.parents("[dir]").each(function() {
                        if (/rtl/i.test(e(this).attr("dir"))) {
                            i = true;
                            return false
                        }
                    });
                    return i
                }(this._element)
            }
            this.lt = this.vertical ? "top" : "left";
            this.relative = this.list().css("position") === "relative";
            this._list = null;
            this._items = null;
            var t = this.index(this._target) >= 0 ? this._target : this.closest();
            this.circular = this.options("wrap") === "circular";
            this.underflow = false;
            var i = {
                left: 0,
                top: 0
            };
            if (t.length > 0) {
                this._prepare(t);
                this.list().find("[data-jcarousel-clone]").remove();
                this._items = null;
                this.underflow = this._fullyvisible.length >= this.items().length;
                this.circular = this.circular && !this.underflow;
                i[this.lt] = this._position(t) + "px"
            }
            this.move(i);
            return this
        },
        list: function() {
            if (this._list === null) {
                var t = this.options("list");
                this._list = e.isFunction(t) ? t.call(this) : this._element.find(t)
            }
            return this._list
        },
        items: function() {
            if (this._items === null) {
                var t = this.options("items");
                this._items = (e.isFunction(t) ? t.call(this) : this.list().find(t)).not("[data-jcarousel-clone]")
            }
            return this._items
        },
        index: function(e) {
            return this.items().index(e)
        },
        closest: function() {
            var t = this,
                n = this.list().position()[this.lt],
                a = e(),
                o = false,
                s = this.vertical ? "bottom" : this.rtl && !this.relative ? "left" : "right",
                r;
            if (this.rtl && this.relative && !this.vertical) {
                n += this.list().width() - this.clipping()
            }
            this.items().each(function() {
                a = e(this);
                if (o) {
                    return false
                }
                var l = t.dimension(a);
                n += l;
                if (n >= 0) {
                    r = l - i(a.css("margin-" + s));
                    if (Math.abs(n) - l + r / 2 <= 0) {
                        o = true
                    } else {
                        return false
                    }
                }
            });
            return a
        },
        target: function() {
            return this._target
        },
        first: function() {
            return this._first
        },
        last: function() {
            return this._last
        },
        visible: function() {
            return this._visible
        },
        fullyvisible: function() {
            return this._fullyvisible
        },
        hasNext: function() {
            if (false === this._trigger("hasnext")) {
                return true
            }
            var e = this.options("wrap"),
                t = this.items().length - 1;
            return t >= 0 && !this.underflow && (e && e !== "first" || this.index(this._last) < t || this.tail && !this.inTail) ? true : false
        },
        hasPrev: function() {
            if (false === this._trigger("hasprev")) {
                return true
            }
            var e = this.options("wrap");
            return this.items().length > 0 && !this.underflow && (e && e !== "last" || this.index(this._first) > 0 || this.tail && this.inTail) ? true : false
        },
        clipping: function() {
            return this._element["inner" + (this.vertical ? "Height" : "Width")]()
        },
        dimension: function(e) {
            return e["outer" + (this.vertical ? "Height" : "Width")](true)
        },
        scroll: function(t, i, n) {
            if (this.animating) {
                return this
            }
            if (false === this._trigger("scroll", null, [t, i])) {
                return this
            }
            if (e.isFunction(i)) {
                n = i;
                i = true
            }
            var a = e.jCarousel.parseTarget(t);
            if (a.relative) {
                var o = this.items().length - 1,
                    s = Math.abs(a.target),
                    r = this.options("wrap"),
                    l, d, c, f, u, h, p, g;
                if (a.target > 0) {
                    var m = this.index(this._last);
                    if (m >= o && this.tail) {
                        if (!this.inTail) {
                            this._scrollTail(i, n)
                        } else {
                            if (r === "both" || r === "last") {
                                this._scroll(0, i, n)
                            } else {
                                if (e.isFunction(n)) {
                                    n.call(this, false)
                                }
                            }
                        }
                    } else {
                        l = this.index(this._target);
                        if (this.underflow && l === o && (r === "circular" || r === "both" || r === "last") || !this.underflow && m === o && (r === "both" || r === "last")) {
                            this._scroll(0, i, n)
                        } else {
                            c = l + s;
                            if (this.circular && c > o) {
                                g = o;
                                u = this.items().get(-1);
                                while (g++ < c) {
                                    u = this.items().eq(0);
                                    h = this._visible.index(u) >= 0;
                                    if (h) {
                                        u.after(u.clone(true).attr("data-jcarousel-clone", true))
                                    }
                                    this.list().append(u);
                                    if (!h) {
                                        p = {};
                                        p[this.lt] = this.dimension(u);
                                        this.moveBy(p)
                                    }
                                    this._items = null
                                }
                                this._scroll(u, i, n)
                            } else {
                                this._scroll(Math.min(c, o), i, n)
                            }
                        }
                    }
                } else {
                    if (this.inTail) {
                        this._scroll(Math.max(this.index(this._first) - s + 1, 0), i, n)
                    } else {
                        d = this.index(this._first);
                        l = this.index(this._target);
                        f = this.underflow ? l : d;
                        c = f - s;
                        if (f <= 0 && (this.underflow && r === "circular" || r === "both" || r === "first")) {
                            this._scroll(o, i, n)
                        } else {
                            if (this.circular && c < 0) {
                                g = c;
                                u = this.items().get(0);
                                while (g++ < 0) {
                                    u = this.items().eq(-1);
                                    h = this._visible.index(u) >= 0;
                                    if (h) {
                                        u.after(u.clone(true).attr("data-jcarousel-clone", true))
                                    }
                                    this.list().prepend(u);
                                    this._items = null;
                                    var v = this.dimension(u);
                                    p = {};
                                    p[this.lt] = -v;
                                    this.moveBy(p)
                                }
                                this._scroll(u, i, n)
                            } else {
                                this._scroll(Math.max(c, 0), i, n)
                            }
                        }
                    }
                }
            } else {
                this._scroll(a.target, i, n)
            }
            this._trigger("scrollend");
            return this
        },
        moveBy: function(e, t) {
            var n = this.list().position(),
                a = 1,
                o = 0;
            if (this.rtl && !this.vertical) {
                a = -1;
                if (this.relative) {
                    o = this.list().width() - this.clipping()
                }
            }
            if (e.left) {
                e.left = n.left + o + i(e.left) * a + "px"
            }
            if (e.top) {
                e.top = n.top + o + i(e.top) * a + "px"
            }
            return this.move(e, t)
        },
        move: function(t, i) {
            i = i || {};
            var n = this.options("transitions"),
                a = !!n,
                o = !!n.transforms,
                s = !!n.transforms3d,
                r = i.duration || 0,
                l = this.list();
            if (!a && r > 0) {
                l.animate(t, i);
                return
            }
            var d = i.complete || e.noop,
                c = {};
            if (a) {
                var f = {
                        transitionDuration: l.css("transitionDuration"),
                        transitionTimingFunction: l.css("transitionTimingFunction"),
                        transitionProperty: l.css("transitionProperty")
                    },
                    u = d;
                d = function() {
                    e(this).css(f);
                    u.call(this)
                };
                c = {
                    transitionDuration: (r > 0 ? r / 1e3 : 0) + "s",
                    transitionTimingFunction: n.easing || i.easing,
                    transitionProperty: r > 0 ? function() {
                        if (o || s) {
                            return "all"
                        }
                        return t.left ? "left" : "top"
                    }() : "none",
                    transform: "none"
                }
            }
            if (s) {
                c.transform = "translate3d(" + (t.left || 0) + "," + (t.top || 0) + ",0)"
            } else if (o) {
                c.transform = "translate(" + (t.left || 0) + "," + (t.top || 0) + ")"
            } else {
                e.extend(c, t)
            }
            if (a && r > 0) {
                l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd", d)
            }
            l.css(c);
            if (r <= 0) {
                l.each(function() {
                    d.call(this)
                })
            }
        },
        _scroll: function(t, i, n) {
            if (this.animating) {
                if (e.isFunction(n)) {
                    n.call(this, false)
                }
                return this
            }
            if (typeof t !== "object") {
                t = this.items().eq(t)
            } else if (typeof t.jquery === "undefined") {
                t = e(t)
            }
            if (t.length === 0) {
                if (e.isFunction(n)) {
                    n.call(this, false)
                }
                return this
            }
            this.inTail = false;
            this._prepare(t);
            var a = this._position(t),
                o = this.list().position()[this.lt];
            if (a === o) {
                if (e.isFunction(n)) {
                    n.call(this, false)
                }
                return this
            }
            var s = {};
            s[this.lt] = a + "px";
            this._animate(s, i, n);
            return this
        },
        _scrollTail: function(t, i) {
            if (this.animating || !this.tail) {
                if (e.isFunction(i)) {
                    i.call(this, false)
                }
                return this
            }
            var n = this.list().position()[this.lt];
            if (this.rtl && this.relative && !this.vertical) {
                n += this.list().width() - this.clipping()
            }
            if (this.rtl && !this.vertical) {
                n += this.tail
            } else {
                n -= this.tail
            }
            this.inTail = true;
            var a = {};
            a[this.lt] = n + "px";
            this._update({
                target: this._target.next(),
                fullyvisible: this._fullyvisible.slice(1).add(this._visible.last())
            });
            this._animate(a, t, i);
            return this
        },
        _animate: function(t, i, n) {
            n = n || e.noop;
            if (false === this._trigger("animate")) {
                n.call(this, false);
                return this
            }
            this.animating = true;
            var a = this.options("animation"),
                o = e.proxy(function() {
                    this.animating = false;
                    var e = this.list().find("[data-jcarousel-clone]");
                    if (e.length > 0) {
                        e.remove();
                        this._reload()
                    }
                    this._trigger("animateend");
                    n.call(this, true)
                }, this);
            var s = typeof a === "object" ? e.extend({}, a) : {
                    duration: a
                },
                r = s.complete || e.noop;
            if (i === false) {
                s.duration = 0
            } else if (typeof e.fx.speeds[s.duration] !== "undefined") {
                s.duration = e.fx.speeds[s.duration]
            }
            s.complete = function() {
                o();
                r.call(this)
            };
            this.move(t, s);
            return this
        },
        _prepare: function(t) {
            var n = this.index(t),
                a = n,
                o = this.dimension(t),
                s = this.clipping(),
                r = this.vertical ? "bottom" : this.rtl ? "left" : "right",
                l = this.options("center"),
                d = {
                    target: t,
                    first: t,
                    last: t,
                    visible: t,
                    fullyvisible: o <= s ? t : e()
                },
                c, f, u, h;
            if (l) {
                o /= 2;
                s /= 2
            }
            if (o < s) {
                while (true) {
                    c = this.items().eq(++a);
                    if (c.length === 0) {
                        if (!this.circular) {
                            break
                        }
                        c = this.items().eq(0);
                        if (t.get(0) === c.get(0)) {
                            break
                        }
                        f = this._visible.index(c) >= 0;
                        if (f) {
                            c.after(c.clone(true).attr("data-jcarousel-clone", true))
                        }
                        this.list().append(c);
                        if (!f) {
                            var p = {};
                            p[this.lt] = this.dimension(c);
                            this.moveBy(p)
                        }
                        this._items = null
                    }
                    h = this.dimension(c);
                    if (h === 0) {
                        break
                    }
                    o += h;
                    d.last = c;
                    d.visible = d.visible.add(c);
                    u = i(c.css("margin-" + r));
                    if (o - u <= s) {
                        d.fullyvisible = d.fullyvisible.add(c)
                    }
                    if (o >= s) {
                        break
                    }
                }
            }
            if (!this.circular && !l && o < s) {
                a = n;
                while (true) {
                    if (--a < 0) {
                        break
                    }
                    c = this.items().eq(a);
                    if (c.length === 0) {
                        break
                    }
                    h = this.dimension(c);
                    if (h === 0) {
                        break
                    }
                    o += h;
                    d.first = c;
                    d.visible = d.visible.add(c);
                    u = i(c.css("margin-" + r));
                    if (o - u <= s) {
                        d.fullyvisible = d.fullyvisible.add(c)
                    }
                    if (o >= s) {
                        break
                    }
                }
            }
            this._update(d);
            this.tail = 0;
            if (!l && this.options("wrap") !== "circular" && this.options("wrap") !== "custom" && this.index(d.last) === this.items().length - 1) {
                o -= i(d.last.css("margin-" + r));
                if (o > s) {
                    this.tail = o - s
                }
            }
            return this
        },
        _position: function(e) {
            var t = this._first,
                i = t.position()[this.lt],
                n = this.options("center"),
                a = n ? this.clipping() / 2 - this.dimension(t) / 2 : 0;
            if (this.rtl && !this.vertical) {
                if (this.relative) {
                    i -= this.list().width() - this.dimension(t)
                } else {
                    i -= this.clipping() - this.dimension(t)
                }
                i += a
            } else {
                i -= a
            }
            if (!n && (this.index(e) > this.index(t) || this.inTail) && this.tail) {
                i = this.rtl && !this.vertical ? i - this.tail : i + this.tail;
                this.inTail = true
            } else {
                this.inTail = false
            }
            return -i
        },
        _update: function(t) {
            var i = this,
                n = {
                    target: this._target,
                    first: this._first,
                    last: this._last,
                    visible: this._visible,
                    fullyvisible: this._fullyvisible
                },
                a = this.index(t.first || n.first) < this.index(n.first),
                o, s = function(o) {
                    var s = [],
                        r = [];
                    t[o].each(function() {
                        if (n[o].index(this) < 0) {
                            s.push(this)
                        }
                    });
                    n[o].each(function() {
                        if (t[o].index(this) < 0) {
                            r.push(this)
                        }
                    });
                    if (a) {
                        s = s.reverse()
                    } else {
                        r = r.reverse()
                    }
                    i._trigger(o + "in", e(s));
                    i._trigger(o + "out", e(r));
                    i["_" + o] = t[o]
                };
            for (o in t) {
                s(o)
            }
            return this
        }
    })
})(jQuery, window);
(function(e) {
    "use strict";
    e.jcarousel.fn.scrollIntoView = function(t, i, n) {
        var a = e.jCarousel.parseTarget(t),
            o = this.index(this._fullyvisible.first()),
            s = this.index(this._fullyvisible.last()),
            r;
        if (a.relative) {
            r = a.target < 0 ? Math.max(0, o + a.target) : s + a.target
        } else {
            r = typeof a.target !== "object" ? a.target : this.index(a.target)
        }
        if (r < o) {
            return this.scroll(r, i, n)
        }
        if (r >= o && r <= s) {
            if (e.isFunction(n)) {
                n.call(this, false)
            }
            return this
        }
        var l = this.items(),
            d = this.clipping(),
            c = this.vertical ? "bottom" : this.rtl ? "left" : "right",
            f = 0,
            u;
        while (true) {
            u = l.eq(r);
            if (u.length === 0) {
                break
            }
            f += this.dimension(u);
            if (f >= d) {
                var h = parseFloat(u.css("margin-" + c)) || 0;
                if (f - h !== d) {
                    r++
                }
                break
            }
            if (r <= 0) {
                break
            }
            r--
        }
        return this.scroll(r, i, n)
    }
})(jQuery);
(function(e) {
    "use strict";
    e.jCarousel.plugin("jcarouselControl", {
        _options: {
            target: "+=1",
            event: "click",
            method: "scroll"
        },
        _active: null,
        _init: function() {
            this.onDestroy = e.proxy(function() {
                this._destroy();
                this.carousel().one("jcarousel:createend", e.proxy(this._create, this))
            }, this);
            this.onReload = e.proxy(this._reload, this);
            this.onEvent = e.proxy(function(t) {
                t.preventDefault();
                var i = this.options("method");
                if (e.isFunction(i)) {
                    i.call(this)
                } else {
                    this.carousel().jcarousel(this.options("method"), this.options("target"))
                }
            }, this)
        },
        _create: function() {
            this.carousel().one("jcarousel:destroy", this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend", this.onReload);
            this._element.on(this.options("event") + ".jcarouselcontrol", this.onEvent);
            this._reload()
        },
        _destroy: function() {
            this._element.off(".jcarouselcontrol", this.onEvent);
            this.carousel().off("jcarousel:destroy", this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend", this.onReload)
        },
        _reload: function() {
            var t = e.jCarousel.parseTarget(this.options("target")),
                i = this.carousel(),
                n;
            if (t.relative) {
                n = i.jcarousel(t.target > 0 ? "hasNext" : "hasPrev")
            } else {
                var a = typeof t.target !== "object" ? i.jcarousel("items").eq(t.target) : t.target;
                n = i.jcarousel("target").index(a) >= 0
            }
            if (this._active !== n) {
                this._trigger(n ? "active" : "inactive");
                this._active = n
            }
            return this
        }
    })
})(jQuery);
(function(e) {
    "use strict";
    e.jCarousel.plugin("jcarouselPagination", {
        _options: {
            perPage: null,
            item: function(e) {
                return '<a href="#' + e + '">' + e + "</a>"
            },
            event: "click",
            method: "scroll"
        },
        _carouselItems: null,
        _pages: {},
        _items: {},
        _currentPage: null,
        _init: function() {
            this.onDestroy = e.proxy(function() {
                this._destroy();
                this.carousel().one("jcarousel:createend", e.proxy(this._create, this))
            }, this);
            this.onReload = e.proxy(this._reload, this);
            this.onScroll = e.proxy(this._update, this)
        },
        _create: function() {
            this.carousel().one("jcarousel:destroy", this.onDestroy).on("jcarousel:reloadend", this.onReload).on("jcarousel:scrollend", this.onScroll);
            this._reload()
        },
        _destroy: function() {
            this._clear();
            this.carousel().off("jcarousel:destroy", this.onDestroy).off("jcarousel:reloadend", this.onReload).off("jcarousel:scrollend", this.onScroll);
            this._carouselItems = null
        },
        _reload: function() {
            var t = this.options("perPage");
            this._pages = {};
            this._items = {};
            if (e.isFunction(t)) {
                t = t.call(this)
            }
            if (t == null) {
                this._pages = this._calculatePages()
            } else {
                var i = parseInt(t, 10) || 0,
                    n = this._getCarouselItems(),
                    a = 1,
                    o = 0,
                    s;
                while (true) {
                    s = n.eq(o++);
                    if (s.length === 0) {
                        break
                    }
                    if (!this._pages[a]) {
                        this._pages[a] = s
                    } else {
                        this._pages[a] = this._pages[a].add(s)
                    }
                    if (o % i === 0) {
                        a++
                    }
                }
            }
            this._clear();
            var r = this,
                l = this.carousel().data("jcarousel"),
                d = this._element,
                c = this.options("item"),
                f = this._getCarouselItems().length;
            e.each(this._pages, function(t, i) {
                var n = r._items[t] = e(c.call(r, t, i));
                n.on(r.options("event") + ".jcarouselpagination", e.proxy(function() {
                    var e = i.eq(0);
                    if (l.circular) {
                        var n = l.index(l.target()),
                            a = l.index(e);
                        if (parseFloat(t) > parseFloat(r._currentPage)) {
                            if (a < n) {
                                e = "+=" + (f - n + a)
                            }
                        } else {
                            if (a > n) {
                                e = "-=" + (n + (f - a))
                            }
                        }
                    }
                    l[this.options("method")](e)
                }, r));
                d.append(n)
            });
            this._update()
        },
        _update: function() {
            var t = this.carousel().jcarousel("target"),
                i;
            e.each(this._pages, function(e, n) {
                n.each(function() {
                    if (t.is(this)) {
                        i = e;
                        return false
                    }
                });
                if (i) {
                    return false
                }
            });
            if (this._currentPage !== i) {
                this._trigger("inactive", this._items[this._currentPage]);
                this._trigger("active", this._items[i])
            }
            this._currentPage = i
        },
        items: function() {
            return this._items
        },
        reloadCarouselItems: function() {
            this._carouselItems = null;
            return this
        },
        _clear: function() {
            this._element.empty();
            this._currentPage = null
        },
        _calculatePages: function() {
            var e = this.carousel().data("jcarousel"),
                t = this._getCarouselItems(),
                i = e.clipping(),
                n = 0,
                a = 0,
                o = 1,
                s = {},
                r;
            while (true) {
                r = t.eq(a++);
                if (r.length === 0) {
                    break
                }
                if (!s[o]) {
                    s[o] = r
                } else {
                    s[o] = s[o].add(r)
                }
                n += e.dimension(r);
                if (n >= i) {
                    o++;
                    n = 0
                }
            }
            return s
        },
        _getCarouselItems: function() {
            if (!this._carouselItems) {
                this._carouselItems = this.carousel().jcarousel("items")
            }
            return this._carouselItems
        }
    })
})(jQuery);
(function(e) {
    "use strict";
    e.jCarousel.plugin("jcarouselAutoscroll", {
        _options: {
            target: "+=1",
            interval: 3e3,
            autostart: true
        },
        _timer: null,
        _init: function() {
            this.onDestroy = e.proxy(function() {
                this._destroy();
                this.carousel().one("jcarousel:createend", e.proxy(this._create, this))
            }, this);
            this.onAnimateEnd = e.proxy(this.start, this)
        },
        _create: function() {
            this.carousel().one("jcarousel:destroy", this.onDestroy);
            if (this.options("autostart")) {
                this.start()
            }
        },
        _destroy: function() {
            this.stop();
            this.carousel().off("jcarousel:destroy", this.onDestroy)
        },
        start: function() {
            this.stop();
            this.carousel().one("jcarousel:animateend", this.onAnimateEnd);
            this._timer = setTimeout(e.proxy(function() {
                this.carousel().jcarousel("scroll", this.options("target"))
            }, this), this.options("interval"));
            return this
        },
        stop: function() {
            if (this._timer) {
                this._timer = clearTimeout(this._timer)
            }
            this.carousel().off("jcarousel:animateend", this.onAnimateEnd);
            return this
        }
    })
})(jQuery);
(function(e, t, i, n) {
    var a = e(t);
    e.fn.lazyload = function(o) {
        var s = this;
        var r;
        var l = {
            threshold: 0,
            failure_limit: 0,
            event: "scroll",
            effect: "show",
            container: t,
            data_attribute: "original",
            skip_invisible: false,
            appear: null,
            load: null,
            placeholder: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOkAAAE3CAMAAAB4qpY6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAGFJREFUeNrswTEBAAAAwqD1T+1vBqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4E0AAQYAHFUAAaSWWDgAAAAASUVORK5CYII="
        };

        function d() {
            var t = 0;
            s.each(function() {
                var i = e(this);
                if (l.skip_invisible && !i.is(":visible")) {
                    return
                }
                if (e.abovethetop(this, l) || e.leftofbegin(this, l)) {} else if (!e.belowthefold(this, l) && !e.rightoffold(this, l)) {
                    i.trigger("appear");
                    t = 0
                } else {
                    if (++t > l.failure_limit) {
                        return false
                    }
                }
            })
        }
        if (o) {
            if (n !== o.failurelimit) {
                o.failure_limit = o.failurelimit;
                delete o.failurelimit
            }
            if (n !== o.effectspeed) {
                o.effect_speed = o.effectspeed;
                delete o.effectspeed
            }
            e.extend(l, o)
        }
        r = l.container === n || l.container === t ? a : e(l.container);
        if (0 === l.event.indexOf("scroll")) {
            r.bind(l.event, function() {
                return d()
            })
        }
        this.each(function() {
            var t = this;
            var i = e(t);
            t.loaded = false;
            if (i.attr("src") === n || i.attr("src") === false) {
                if (i.is("img")) {
                    i.attr("src", l.placeholder)
                }
            }
            i.one("appear", function() {
                if (!this.loaded) {
                    if (l.appear) {
                        var n = s.length;
                        l.appear.call(t, n, l)
                    }
                    e("<img />").bind("load", function() {
                        var n = i.attr("data-" + l.data_attribute);
                        i.hide();
                        if (i.is("img")) {
                            i.attr("src", n)
                        } else {
                            i.css("background-image", "url('" + n + "')")
                        }
                        i[l.effect](l.effect_speed);
                        t.loaded = true;
                        var a = e.grep(s, function(e) {
                            return !e.loaded
                        });
                        s = e(a);
                        if (l.load) {
                            var o = s.length;
                            l.load.call(t, o, l)
                        }
                    }).attr("src", i.attr("data-" + l.data_attribute))
                }
            });
            if (0 !== l.event.indexOf("scroll")) {
                i.bind(l.event, function() {
                    if (!t.loaded) {
                        i.trigger("appear")
                    }
                })
            }
        });
        a.bind("resize", function() {
            d()
        });
        if (/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)) {
            a.bind("pageshow", function(t) {
                if (t.originalEvent && t.originalEvent.persisted) {
                    s.each(function() {
                        e(this).trigger("appear")
                    })
                }
            })
        }
        e(i).ready(function() {
            d()
        });
        return this
    };
    e.belowthefold = function(i, o) {
        var s;
        if (o.container === n || o.container === t) {
            s = (t.innerHeight ? t.innerHeight : a.height()) + a.scrollTop()
        } else {
            s = e(o.container).offset().top + e(o.container).height()
        }
        return s <= e(i).offset().top - o.threshold
    };
    e.rightoffold = function(i, o) {
        var s;
        if (o.container === n || o.container === t) {
            s = a.width() + a.scrollLeft()
        } else {
            s = e(o.container).offset().left + e(o.container).width()
        }
        return s <= e(i).offset().left - o.threshold
    };
    e.abovethetop = function(i, o) {
        var s;
        if (o.container === n || o.container === t) {
            s = a.scrollTop()
        } else {
            s = e(o.container).offset().top
        }
        return s >= e(i).offset().top + o.threshold + e(i).height()
    };
    e.leftofbegin = function(i, o) {
        var s;
        if (o.container === n || o.container === t) {
            s = a.scrollLeft()
        } else {
            s = e(o.container).offset().left
        }
        return s >= e(i).offset().left + o.threshold + e(i).width()
    };
    e.inviewport = function(t, i) {
        return !e.rightoffold(t, i) && !e.leftofbegin(t, i) && !e.belowthefold(t, i) && !e.abovethetop(t, i)
    };
    e.extend(e.expr[":"], {
        "below-the-fold": function(t) {
            return e.belowthefold(t, {
                threshold: 0
            })
        },
        "above-the-top": function(t) {
            return !e.belowthefold(t, {
                threshold: 0
            })
        },
        "right-of-screen": function(t) {
            return e.rightoffold(t, {
                threshold: 0
            })
        },
        "left-of-screen": function(t) {
            return !e.rightoffold(t, {
                threshold: 0
            })
        },
        "in-viewport": function(t) {
            return e.inviewport(t, {
                threshold: 0
            })
        },
        "above-the-fold": function(t) {
            return !e.belowthefold(t, {
                threshold: 0
            })
        },
        "right-of-fold": function(t) {
            return e.rightoffold(t, {
                threshold: 0
            })
        },
        "left-of-fold": function(t) {
            return !e.rightoffold(t, {
                threshold: 0
            })
        }
    })
})(jQuery, window, document);
(function(e) {
    "use strict";
    if (e.zepto && !e.fn.removeData) {
        throw new ReferenceError("Zepto is loaded without the data module.")
    }
    e.fn.noUiSlider = function(t) {
        var i = e(document),
            n = e("body"),
            a = ".nui",
            o = e.fn.val,
            s = ["noUi-base", "noUi-origin", "noUi-handle", "noUi-input", "noUi-active", "noUi-state-tap", "noUi-target", "-lower", "-upper", "noUi-connect", "noUi-vertical", "noUi-horizontal", "noUi-background", "noUi-z-index", "noUi-block", "noUi-state-blocked", "noUi-rtl"],
            r = window.navigator.pointerEnabled ? {
                start: "pointerdown",
                move: "pointermove",
                end: "pointerup"
            } : window.navigator.msPointerEnabled ? {
                start: "MSPointerDown",
                move: "MSPointerMove",
                end: "MSPointerUp"
            } : {
                start: "mousedown touchstart",
                move: "mousemove touchmove",
                end: "mouseup touchend"
            };

        function l(e, t) {
            return t * 100 / (e[1] - e[0])
        }

        function d(e, t) {
            return l(e, e[0] < 0 ? t + Math.abs(e[0]) : t - e[0])
        }

        function c(e, t) {
            return t * (e[1] - e[0]) / 100 + e[0]
        }

        function f(t, i, n) {
            if (!e.isArray(t)) {
                t = [t]
            }
            e.each(t, function() {
                if (typeof this === "function") {
                    this.call(i, n)
                }
            })
        }

        function u(t) {
            return t instanceof e || e.zepto && e.zepto.isZ(t)
        }

        function h(t) {
            t.preventDefault();
            var i = t.type.indexOf("touch") === 0,
                n = t.type.indexOf("mouse") === 0,
                a = t.type.indexOf("pointer") === 0,
                o, s, r = t;
            if (t.type.indexOf("MSPointer") === 0) {
                a = true
            }
            if (t.originalEvent) {
                t = t.originalEvent
            }
            if (i) {
                o = t.changedTouches[0].pageX;
                s = t.changedTouches[0].pageY
            }
            if (n || a) {
                if (!a && window.pageXOffset === undefined) {
                    window.pageXOffset = document.documentElement.scrollLeft;
                    window.pageYOffset = document.documentElement.scrollTop
                }
                o = t.clientX + window.pageXOffset;
                s = t.clientY + window.pageYOffset
            }
            return e.extend(r, {
                pointX: o,
                pointY: s,
                cursor: n
            })
        }

        function p(t, i, n, o, s) {
            t = t.replace(/\s/g, a + " ") + a;
            if (s) {
                return i.on(t, e.proxy(n, e.extend(i, o)))
            }
            o.handler = n;
            return i.on(t, e.proxy(function(e) {
                if (this.target.hasClass("noUi-state-tap") || this.target.attr("disabled")) {
                    return false
                }
                this.handler(h(e))
            }, o))
        }

        function g(e) {
            return !isNaN(parseFloat(e)) && isFinite(e)
        }

        function m() {
            var t = parseFloat(this.style[e(this).data("style")]);
            return isNaN(t) ? -1 : t
        }

        function v(t) {
            var i = this.target;
            if (t === undefined) {
                return this.element.data("value")
            }
            if (t === true) {
                t = this.element.data("value")
            } else {
                this.element.data("value", t)
            }
            e.each(this.elements, function() {
                if (typeof this === "function") {
                    this.call(i, t)
                } else {
                    this[0][this[1]](t)
                }
            })
        }

        function b() {
            var e = [null, null];
            e[this.which] = this.val();
            this.target.val(e, true)
        }

        function w(t, i) {
            var n = {
                handles: {
                    r: true,
                    t: function(e) {
                        e = parseInt(e, 10);
                        return e === 1 || e === 2
                    }
                },
                range: {
                    r: true,
                    t: function(e, t, i) {
                        if (e.length !== 2) {
                            return false
                        }
                        e = [parseFloat(e[0]), parseFloat(e[1])];
                        if (!g(e[0]) || !g(e[1])) {
                            return false
                        }
                        if (i === "range" && e[0] === e[1]) {
                            return false
                        }
                        if (e[1] < e[0]) {
                            return false
                        }
                        t[i] = e;
                        return true
                    }
                },
                start: {
                    r: true,
                    t: function(t, i, a) {
                        if (i.handles === 1) {
                            if (e.isArray(t)) {
                                t = t[0]
                            }
                            t = parseFloat(t);
                            i.start = [t];
                            return g(t)
                        }
                        return n.range.t(t, i, a)
                    }
                },
                connect: {
                    t: function(e, t) {
                        return t.handles === 1 ? e === "lower" || e === "upper" : typeof e === "boolean"
                    }
                },
                orientation: {
                    t: function(e) {
                        return e === "horizontal" || e === "vertical"
                    }
                },
                margin: {
                    r: true,
                    t: function(e, t, i) {
                        e = parseFloat(e);
                        t[i] = l(t.range, e);
                        return g(e)
                    }
                },
                direction: {
                    r: true,
                    t: function(e, t, i) {
                        switch (e) {
                            case "ltr":
                                t[i] = 0;
                                break;
                            case "rtl":
                                t[i] = 1;
                                break;
                            default:
                                return false
                        }
                        return true
                    }
                },
                serialization: {
                    r: true,
                    t: function(t, i, n) {
                        function a(e) {
                            return u(e) || typeof e === "string" || typeof e === "function" || e === false || u(e[0]) && typeof e[0][e[1]] === "function"
                        }

                        function o(t) {
                            var i = [
                                [],
                                []
                            ];
                            if (a(t)) {
                                i[0].push(t)
                            } else {
                                e.each(t, function(e, t) {
                                    if (e > 1) {
                                        return
                                    }
                                    if (a(t)) {
                                        i[e].push(t)
                                    } else {
                                        i[e] = i[e].concat(t)
                                    }
                                })
                            }
                            return i
                        }
                        if (!t.to) {
                            i[n].to = [
                                [],
                                []
                            ]
                        } else {
                            var s, r;
                            t.to = o(t.to, 0);
                            if (i.direction && t.to[1].length) {
                                t.to.reverse()
                            }
                            for (s = 0; s < i.handles; s++) {
                                for (r = 0; r < t.to[s].length; r++) {
                                    if (!a(t.to[s][r])) {
                                        return false
                                    }
                                    if (!t.to[s][r]) {
                                        t.to[s].splice(r, 1)
                                    }
                                }
                            }
                            i[n].to = t.to
                        }
                        if (!t.resolution) {
                            i[n].resolution = .01
                        } else {
                            switch (t.resolution) {
                                case 1:
                                case .1:
                                case .01:
                                case .001:
                                case 1e-4:
                                case 1e-5:
                                    break;
                                default:
                                    return false
                            }
                        }
                        if (!t.mark) {
                            i[n].mark = "."
                        } else if (t.mark !== "." && t.mark !== ",") {
                            return false
                        }
                        return true
                    }
                },
                slide: {
                    t: function(e) {
                        return typeof e === "function"
                    }
                },
                set: {
                    t: function(e, t) {
                        return n.slide.t(e, t)
                    }
                },
                block: {
                    t: function(e, t) {
                        return n.slide.t(e, t)
                    }
                },
                step: {
                    t: function(e, t, i) {
                        e = parseFloat(e);
                        t[i] = e;
                        return g(e)
                    }
                }
            };
            e.each(n, function(e, n) {
                var a = t[e],
                    o = a || a === 0;
                if (n.r && !o || o && !n.t(a, t, e)) {
                    if (console && console.log && console.group) {
                        console.group("Invalid noUiSlider initialisation:");
                        console.log("Option:	", e);
                        console.log("Value:	", a);
                        console.log("Slider(s):	", i);
                        console.groupEnd()
                    }
                    throw new RangeError("noUiSlider")
                }
            })
        }

        function y(e, t) {
            return Math.round(e / t) * t
        }

        function _(e, t) {
            e = e.toFixed(t.decimals);
            return e.replace(".", t.serialization.mark)
        }

        function z(e, t, i) {
            if (t) {
                return false
            }
            var n = e.data("target");
            if (!n.hasClass(s[14])) {
                if (!i) {
                    n.addClass(s[15]);
                    setTimeout(function() {
                        n.removeClass(s[15])
                    }, 600)
                }
                n.addClass(s[14]);
                f(e.data("options").block, n)
            }
            return false
        }

        function x(e, t, i) {
            var n = e.data("options"),
                a = e.data("base"),
                o = a.data("handles"),
                r, d = e[0].gPct();
            t = t < 0 ? 0 : t > 100 ? 100 : t;
            if (!g(t) || t === d) {
                return false
            }
            if (n.step) {
                t = y(t, l(n.range, n.step))
            }
            if (t === d) {
                return false
            }
            if (o.length > 1) {
                if (e[0] === o[1][0]) {
                    r = o[0][0].gPct() + n.margin;
                    t = t < r ? r : t
                } else {
                    r = o[1][0].gPct() - n.margin;
                    t = t > r ? r : t
                }
            }
            t = t < 0 ? 0 : t > 100 ? 100 : t;
            if (t === d) {
                return z(a, i, !n.margin)
            }
            a.data("target").removeClass(s[14]);
            e.css(e.data("style"), t + "%");
            if (e[0] === o[0][0]) {
                e.children("." + s[2]).toggleClass(s[13], t > 50)
            }
            if (n.direction) {
                t = 100 - t
            }
            e.data("store").val(_(c(n.range, t), n));
            return true
        }

        function k(t, i, n) {
            if (u(i)) {
                var a = [];
                if (t.data("options").direction) {
                    n = n ? 0 : 1
                }
                i.each(function() {
                    p("change", e(this), b, {
                        target: t.data("target"),
                        handle: t,
                        which: n
                    }, true);
                    a.push([e(this), "val"])
                });
                return a
            }
            if (typeof i === "string") {
                i = [e('<input type="hidden" name="' + i + '">').appendTo(t).addClass(s[3]).change(function(e) {
                    e.stopPropagation()
                }), "val"]
            }
            return [i]
        }

        function L(t, i, n) {
            var a = [];
            e.each(n.to[i], function(e) {
                a = a.concat(k(t, n.to[i][e], i))
            });
            return {
                element: t,
                elements: a,
                target: t.data("target"),
                val: v
            }
        }

        function C(e) {
            var t = this.base,
                i, n;
            if (this.handle.data("style") === "left") {
                i = e.pointX - this.startEvent.pointX;
                n = t.width()
            } else {
                i = e.pointY - this.startEvent.pointY;
                n = t.height()
            }
            i = this.position + i * 100 / n;
            if (x(this.handle, i)) {
                f(t.data("options").slide, t.data("target"))
            }
        }

        function T(e) {
            this.handle.children("." + s[2]).removeClass(s[4]);
            if (e.cursor) {
                n.css("cursor", "").off(a)
            }
            i.off(a);
            this.target.removeClass(s[14]).change();
            f(this.handle.data("options").set, this.target)
        }

        function $(e) {
            this.handle.children("." + s[2]).addClass(s[4]);
            e.stopPropagation();
            p(r.move, i, C, {
                startEvent: e,
                position: this.handle[0].gPct(),
                base: this.base,
                target: this.target,
                handle: this.handle
            });
            p(r.end, i, T, {
                base: this.base,
                target: this.target,
                handle: this.handle
            });
            if (e.cursor) {
                n.css("cursor", "default");
                n.on("selectstart" + a, function() {
                    return false
                })
            }
        }

        function S(e) {
            if (this.base.find("." + s[4]).length) {
                return
            }
            var t, i, n, a = this.base,
                o = a.data("handles"),
                r = o[0].data("style"),
                l = e[r === "left" ? "pointX" : "pointY"],
                d = r === "left" ? a.width() : a.height(),
                c = {
                    handles: [],
                    base: a.offset()
                };
            for (t = 0; t < o.length; t++) {
                c.handles.push(o[t].offset())
            }
            n = o.length === 1 ? 0 : (c.handles[0][r] + c.handles[1][r]) / 2;
            if (o.length === 1 || l < n) {
                i = o[0]
            } else {
                i = o[1]
            }
            a.addClass(s[5]);
            setTimeout(function() {
                a.removeClass(s[5])
            }, 300);
            x(i, (l - c.base[r]) * 100 / d);
            f([i.data("options").slide, i.data("options").set], a.data("target"));
            a.data("target").change()
        }

        function W(t) {
            t = e.extend({
                    handles: 2,
                    margin: 0,
                    direction: "ltr",
                    orientation: "horizontal"
                }, t) || {};
            t.serialization = t.serialization || {};
            w(t, this);
            return this.each(function() {
                var i = e(this).addClass(s[6]),
                    n, a, o = e("<div/>").appendTo(i),
                    l = t.direction,
                    d = {
                        base: [s[0]],
                        origin: [
                            [s[1], s[1] + s[l ? 8 : 7]],
                            [s[1], s[1] + s[l ? 7 : 8]]
                        ],
                        handle: [
                            [s[2], s[2] + s[l ? 8 : 7]],
                            [s[2], s[2] + s[l ? 7 : 8]]
                        ]
                    };
                if (t.connect) {
                    if (l) {
                        if (t.connect === "lower") {
                            t.connect = "upper"
                        } else if (t.connect === "upper") {
                            t.connect = "lower"
                        }
                    }
                    if (t.connect === "lower") {
                        d.base.push(s[9], s[9] + s[7]);
                        d.origin[0].push(s[12])
                    } else {
                        d.base.push(s[9] + s[8], s[12]);
                        d.origin[0].push(s[9])
                    }
                } else {
                    d.base.push(s[12])
                }
                t.decimals = function(e) {
                    e = e.toString().split(".");
                    return e[0] === "1" ? 0 : e[1].length
                }(t.serialization.resolution);
                if (t.orientation === "vertical") {
                    d.base.push(s[10])
                } else {
                    d.base.push(s[11])
                }
                o.addClass(d.base.join(" ")).data({
                    target: i,
                    options: t,
                    handles: []
                });
                i.data("base", o);
                if (l) {
                    i.addClass(s[16])
                }
                for (n = 0; n < t.handles; n++) {
                    a = e("<div><div/></div>").appendTo(o);
                    a.addClass(d.origin[n].join(" "));
                    a.children().addClass(d.handle[n].join(" "));
                    p(r.start, a.children(), $, {
                        base: o,
                        target: i,
                        handle: a
                    });
                    a.data({
                        base: o,
                        target: i,
                        options: t,
                        style: t.orientation === "vertical" ? "top" : "left"
                    });
                    a.data({
                        store: L(a, n, t.serialization)
                    });
                    a[0].gPct = m;
                    o.data("handles").push(a)
                }
                i.val(t.start);
                p(r.start, o, S, {
                    base: o,
                    target: i
                })
            })
        }

        function A() {
            var t = e(this).data("base"),
                i = [];
            e.each(t.data("handles"), function() {
                i.push(e(this).data("store").val())
            });
            if (i.length === 1) {
                return i[0]
            }
            if (t.data("options").direction) {
                return i.reverse()
            }
            return i
        }

        function I(t, i) {
            if (!e.isArray(t)) {
                t = [t]
            }
            return this.each(function() {
                var n = Array.prototype.slice.call(e(this).data("base").data("handles"), 0),
                    a = n[0].data("options"),
                    o, s;
                if (n.length > 1) {
                    n[2] = n[0]
                }
                if (a.direction) {
                    t.reverse()
                }
                for (s = 0; s < n.length; s++) {
                    o = t[s % 2];
                    if (o === null || o === undefined) {
                        continue
                    }
                    if (e.type(o) === "string") {
                        o = o.replace(",", ".")
                    }
                    o = d(a.range, parseFloat(o));
                    if (a.direction) {
                        o = 100 - o
                    }
                    if (!x(n[s], o, true)) {
                        n[s].data("store").val(true)
                    }
                    if (i === true) {
                        f(a.set, e(this))
                    }
                }
            })
        }
        e.fn.val = function() {
            if (this.hasClass(s[6])) {
                return arguments.length ? I.apply(this, arguments) : A.apply(this)
            }
            return o.apply(this, arguments)
        };
        return W.call(this, t)
    }
})(window.jQuery || window.Zepto);
(function(e) {
    e.fn.extend({
        easyResponsiveTabs: function(t) {
            var i = {
                type: "default",
                width: "auto",
                fit: true,
                closed: false,
                history: true,
                activate: function() {}
            };
            var t = e.extend(i, t);
            var n = t,
                a = n.type,
                o = n.fit,
                s = n.width,
                r = "vertical",
                l = "accordion";
            var d = window.location.hash;
            var c = !!(window.history && history.replaceState);
            e(this).bind("tabactivate", function(e, i) {
                if (typeof t.activate === "function") {
                    t.activate.call(i, e)
                }
            });
            this.each(function() {
                var i = e(this);
                var f = i.find("ul.resp-tabs-list");
                var u = i.attr("id");
                i.find("ul.resp-tabs-list li").addClass("resp-tab-item");
                i.css({
                    display: "block",
                    width: s
                });
                i.find(".resp-tabs-container > div").addClass("resp-tab-content");
                h();

                function h() {
                    if (a == r) {
                        i.addClass("resp-vtabs")
                    }
                    if (o == true) {
                        i.css({
                            width: "100%",
                            margin: "0px"
                        })
                    }
                    if (a == l) {
                        i.addClass("resp-easy-accordion");
                        i.find(".resp-tabs-list").css("display", "none")
                    }
                }
                var p;
                i.find(".resp-tab-content").before("<div class='resp-accordion' role='tab'><span class='resp-arrow'></span></div>");
                var g = 0;
                i.find(".resp-accordion").each(function() {
                    p = e(this);
                    var t = i.find(".resp-tab-item:eq(" + g + ")");
                    var n = i.find(".resp-accordion:eq(" + g + ")");
                    n.append(t.html());
                    n.data(t.data());
                    p.attr("aria-controls", "tab_item-" + g);
                    g++
                });
                var m = 0,
                    v;
                i.find(".resp-tab-item").each(function() {
                    $tabItem = e(this);
                    $tabItem.attr("aria-controls", "tab_item-" + m);
                    $tabItem.attr("role", "tab");
                    var t = 0;
                    i.find(".resp-tab-content").each(function() {
                        v = e(this);
                        v.attr("aria-labelledby", "tab_item-" + t);
                        t++
                    });
                    m++
                });
                var b = 0;
                if (d != "") {
                    var w = d.match(new RegExp(u + "([0-9]+)"));
                    if (w !== null && w.length === 2) {
                        b = parseInt(w[1], 10) - 1;
                        if (b > m) {
                            b = 0
                        }
                    }
                }
                e(i.find(".resp-tab-item")[b]).addClass("resp-tab-active");
                if (t.closed !== true && !(t.closed === "accordion" && !f.is(":visible")) && !(t.closed === "tabs" && f.is(":visible"))) {
                    e(i.find(".resp-accordion")[b]).addClass("resp-tab-active");
                    e(i.find(".resp-tab-content")[b]).addClass("resp-tab-content-active").attr("style", "display:block")
                } else {
                    e(i.find(".resp-tab-content")[b]).addClass("resp-tab-content-active resp-accordion-closed")
                }
                i.find("[role=tab]").each(function() {
                    var t = e(this);
                    t.click(function() {
                        var t = e(this);
                        var a = t.attr("aria-controls");
                        if (t.hasClass("resp-accordion") && t.hasClass("resp-tab-active")) {
                            i.find(".resp-tab-content-active").slideUp("", function() {
                                e(this).addClass("resp-accordion-closed")
                            });
                            t.removeClass("resp-tab-active");
                            return false
                        }
                        if (!t.hasClass("resp-tab-active") && t.hasClass("resp-accordion")) {
                            i.find(".resp-tab-active").removeClass("resp-tab-active");
                            i.find(".resp-tab-content-active").slideUp().removeClass("resp-tab-content-active resp-accordion-closed");
                            i.find("[aria-controls=" + a + "]").addClass("resp-tab-active");
                            i.find(".resp-tab-content[aria-labelledby = " + a + "]").slideDown().addClass("resp-tab-content-active")
                        } else {
                            i.find(".resp-tab-active").removeClass("resp-tab-active");
                            i.find(".resp-tab-content-active").removeAttr("style").removeClass("resp-tab-content-active").removeClass("resp-accordion-closed");
                            i.find("[aria-controls=" + a + "]").addClass("resp-tab-active");
                            i.find(".resp-tab-content[aria-labelledby = " + a + "]").addClass("resp-tab-content-active").attr("style", "display:block")
                        }
                        t.trigger("tabactivate", t);
                        if (c && n.history) {
                            var o = window.location.hash;
                            var s = u + (parseInt(a.substring(9), 10) + 1).toString();
                            if (o != "") {
                                var r = new RegExp(u + "[0-9]+");
                                if (o.match(r) != null) {
                                    s = o.replace(r, s)
                                } else {
                                    s = o + "|" + s
                                }
                            } else {
                                s = "#" + s
                            }
                            history.replaceState(null, null, s)
                        }
                    })
                });
                e(window).resize(function() {
                    i.find(".resp-accordion-closed").removeAttr("style")
                })
            })
        }
    })
})(jQuery);
(function(e) {
    e.fn.rwdImageMaps = function() {
        var t = this;
        var i = function() {
            t.each(function() {
                if (typeof e(this).attr("usemap") == "undefined") return;
                var t = this,
                    i = e(t);
                e("<img />").load(function() {
                    var t = "width",
                        n = "height",
                        a = i.attr(t),
                        o = i.attr(n);
                    if (!a || !o) {
                        var s = new Image;
                        s.src = i.attr("src");
                        if (!a) a = s.width;
                        if (!o) o = s.height
                    }
                    var r = i.width() / 100,
                        l = i.height() / 100,
                        d = i.attr("usemap").replace("#", ""),
                        c = "coords";
                    e('map[name="' + d + '"]').find("area").each(function() {
                        var t = e(this);
                        if (!t.data(c)) t.data(c, t.attr(c));
                        var i = t.data(c).split(","),
                            n = new Array(i.length);
                        for (var s = 0; s < n.length; ++s) {
                            if (s % 2 === 0) n[s] = parseInt(i[s] / a * 100 * r);
                            else n[s] = parseInt(i[s] / o * 100 * l)
                        }
                        t.attr(c, n.toString())
                    })
                }).attr("src", i.attr("src"))
            })
        };
        e(window).resize(i).trigger("resize");
        return this
    }
})(jQuery);
if (typeof JSON !== "object") {
    JSON = {}
}(function() {
    "use strict";

    function f(e) {
        return e < 10 ? "0" + e : e
    }
    if (typeof Date.prototype.toJSON !== "function") {
        Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
        };
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
            return this.valueOf()
        }
    }
    var cx, escapable, gap, indent, meta, rep;

    function quote(e) {
        escapable.lastIndex = 0;
        return escapable.test(e) ? '"' + e.replace(escapable, function(e) {
            var t = meta[e];
            return typeof t === "string" ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
        }) + '"' : '"' + e + '"'
    }

    function str(e, t) {
        var i, n, a, o, s = gap,
            r, l = t[e];
        if (l && typeof l === "object" && typeof l.toJSON === "function") {
            l = l.toJSON(e)
        }
        if (typeof rep === "function") {
            l = rep.call(t, e, l)
        }
        switch (typeof l) {
            case "string":
                return quote(l);
            case "number":
                return isFinite(l) ? String(l) : "null";
            case "boolean":
            case "null":
                return String(l);
            case "object":
                if (!l) {
                    return "null"
                }
                gap += indent;
                r = [];
                if (Object.prototype.toString.apply(l) === "[object Array]") {
                    o = l.length;
                    for (i = 0; i < o; i += 1) {
                        r[i] = str(i, l) || "null"
                    }
                    a = r.length === 0 ? "[]" : gap ? "[\n" + gap + r.join(",\n" + gap) + "\n" + s + "]" : "[" + r.join(",") + "]";
                    gap = s;
                    return a
                }
                if (rep && typeof rep === "object") {
                    o = rep.length;
                    for (i = 0; i < o; i += 1) {
                        if (typeof rep[i] === "string") {
                            n = rep[i];
                            a = str(n, l);
                            if (a) {
                                r.push(quote(n) + (gap ? ": " : ":") + a)
                            }
                        }
                    }
                } else {
                    for (n in l) {
                        if (Object.prototype.hasOwnProperty.call(l, n)) {
                            a = str(n, l);
                            if (a) {
                                r.push(quote(n) + (gap ? ": " : ":") + a)
                            }
                        }
                    }
                }
                a = r.length === 0 ? "{}" : gap ? "{\n" + gap + r.join(",\n" + gap) + "\n" + s + "}" : "{" + r.join(",") + "}";
                gap = s;
                return a
        }
    }
    if (typeof JSON.stringify !== "function") {
        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
        meta = {
            "\b": "\\b",
            "	": "\\t",
            "\n": "\\n",
            "\f": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\"
        };
        JSON.stringify = function(e, t, i) {
            var n;
            gap = "";
            indent = "";
            if (typeof i === "number") {
                for (n = 0; n < i; n += 1) {
                    indent += " "
                }
            } else if (typeof i === "string") {
                indent = i
            }
            rep = t;
            if (t && typeof t !== "function" && (typeof t !== "object" || typeof t.length !== "number")) {
                throw new Error("JSON.stringify")
            }
            return str("", {
                "": e
            })
        }
    }
    if (typeof JSON.parse !== "function") {
        cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
        JSON.parse = function(text, reviver) {
            var j;

            function walk(e, t) {
                var i, n, a = e[t];
                if (a && typeof a === "object") {
                    for (i in a) {
                        if (Object.prototype.hasOwnProperty.call(a, i)) {
                            n = walk(a, i);
                            if (n !== undefined) {
                                a[i] = n
                            } else {
                                delete a[i]
                            }
                        }
                    }
                }
                return reviver.call(e, t, a)
            }
            text = String(text);
            cx.lastIndex = 0;
            if (cx.test(text)) {
                text = text.replace(cx, function(e) {
                    return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
                })
            }
            if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) {
                j = eval("(" + text + ")");
                return typeof reviver === "function" ? walk({
                    "": j
                }, "") : j
            }
            throw new SyntaxError("JSON.parse")
        }
    }
})();
var Url = function() {
    "use strict";
    var e = {
            protocol: "protocol",
            host: "hostname",
            port: "port",
            path: "pathname",
            query: "search",
            hash: "hash"
        },
        t = {
            ftp: 21,
            gopher: 70,
            http: 80,
            https: 443,
            ws: 80,
            wss: 443
        },
        i = function(i, n) {
            var o = document,
                s = o.createElement("a"),
                n = n || o.location.href,
                r = n.match(/\/\/(.*?)(?::(.*?))?@/) || [];
            s.href = n;
            for (var l in e) {
                i[l] = s[e[l]] || ""
            }
            i.protocol = i.protocol.replace(/:$/, "");
            i.query = i.query.replace(/^\?/, "");
            i.hash = i.hash.replace(/^#/, "");
            i.user = r[1] || "";
            i.pass = r[2] || "";
            i.port = t[i.protocol] == i.port || i.port == 0 ? "" : i.port;
            if (!i.protocol && !/^([a-z]+:)?\/\//.test(n)) {
                var d = new Url(o.location.href.match(/(.*\/)/)[0]),
                    c = d.path.split("/"),
                    f = i.path.split("/");
                c.pop();
                for (var l = 0, u = ["protocol", "user", "pass", "host", "port"], h = u.length; l < h; l++) {
                    i[u[l]] = d[u[l]]
                }
                while (f[0] == "..") {
                    c.pop();
                    f.shift()
                }
                i.path = (n.substring(0, 1) != "/" ? c.join("/") : "") + "/" + f.join("/")
            } else {
                i.path = i.path.replace(/^\/?/, "/")
            }
            a(i)
        },
        n = function(e) {
            e = e.replace(/\+/g, " ");
            e = e.replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi, function(e, t, i, n) {
                var a = parseInt(t, 16) - 224,
                    o = parseInt(i, 16) - 128;
                if (a == 0 && o < 32) {
                    return e
                }
                var s = parseInt(n, 16) - 128,
                    r = (a << 12) + (o << 6) + s;
                if (r > 65535) {
                    return e
                }
                return String.fromCharCode(r)
            });
            e = e.replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi, function(e, t, i) {
                var n = parseInt(t, 16) - 192;
                if (n < 2) {
                    return e
                }
                var a = parseInt(i, 16) - 128;
                return String.fromCharCode((n << 6) + a)
            });
            e = e.replace(/%([0-7][0-9a-f])/gi, function(e, t) {
                return String.fromCharCode(parseInt(t, 16))
            });
            return e
        },
        a = function(e) {
            var t = e.query;
            e.query = new function(e) {
                var t = /([^=&]+)(=([^&]*))?/g,
                    i;
                while (i = t.exec(e)) {
                    var a = decodeURIComponent(i[1].replace(/\+/g, " ")),
                        o = i[3] ? n(i[3]) : "";
                    if (this[a] != null) {
                        if (!(this[a] instanceof Array)) {
                            this[a] = [this[a]]
                        }
                        this[a].push(o)
                    } else {
                        this[a] = o
                    }
                }
                this.clear = function() {
                    for (a in this) {
                        if (!(this[a] instanceof Function)) {
                            delete this[a]
                        }
                    }
                };
                this.toString = function() {
                    var e = "",
                        t = encodeURIComponent;
                    for (var i in this) {
                        if (this[i] instanceof Function) {
                            continue
                        }
                        if (this[i] instanceof Array) {
                            var n = this[i].length;
                            if (n) {
                                for (var a = 0; a < n; a++) {
                                    e += e ? "&" : "";
                                    e += t(i) + "=" + t(this[i][a])
                                }
                            } else {
                                e += (e ? "&" : "") + t(i) + "="
                            }
                        } else {
                            e += e ? "&" : "";
                            e += t(i) + "=" + t(this[i])
                        }
                    }
                    return e
                }
            }(t)
        };
    return function(e) {
        this.toString = function() {
            return (this.protocol && this.protocol + "://") + (this.user && this.user + (this.pass && ":" + this.pass) + "@") + (this.host && this.host) + (this.port && ":" + this.port) + (this.path && this.path) + (this.query.toString() && "?" + this.query) + (this.hash && "#" + this.hash)
        };
        i(this, e)
    }
}();
var libFuncName = null;
if (typeof jQuery === "undefined" && typeof Zepto === "undefined" && typeof $ === "function") {
    libFuncName = $
} else if (typeof jQuery === "function") {
    libFuncName = jQuery
} else if (typeof Zepto === "function") {
    libFuncName = Zepto
} else {
    throw new TypeError
}(function(e, t, i, n) {
    "use strict";
    t.matchMedia || (t.matchMedia = function(e) {
        "use strict";
        var t = e.document,
            i = t.documentElement,
            n = [],
            a = 0,
            o = "",
            s = {},
            r = /\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,
            l = /^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,
            d = 0,
            c = function(e) {
                var t = e.indexOf(",") !== -1 && e.split(",") || [e],
                    i = t.length - 1,
                    n = i,
                    a = null,
                    d = null,
                    c = "",
                    f = 0,
                    u = false,
                    h = "",
                    p = "",
                    g = null,
                    m = 0,
                    v = 0,
                    b = null,
                    w = "",
                    y = "",
                    _ = "",
                    z = "",
                    x = "",
                    k = false;
                if (e === "") {
                    return true
                }
                do {
                    a = t[n - i];
                    u = false;
                    d = a.match(r);
                    if (d) {
                        c = d[0];
                        f = d.index
                    }
                    if (!d || a.substring(0, f).indexOf("(") === -1 && (f || !d[3] && c !== d.input)) {
                        k = false;
                        continue
                    }
                    p = a;
                    u = d[1] === "not";
                    if (!f) {
                        h = d[2];
                        p = a.substring(c.length)
                    }
                    k = h === o || h === "all" || h === "";
                    g = p.indexOf(" and ") !== -1 && p.split(" and ") || [p];
                    m = g.length - 1;
                    v = m;
                    if (k && m >= 0 && p !== "") {
                        do {
                            b = g[m].match(l);
                            if (!b || !s[b[3]]) {
                                k = false;
                                break
                            }
                            w = b[2];
                            y = b[5];
                            z = y;
                            _ = b[7];
                            x = s[b[3]];
                            if (_) {
                                if (_ === "px") {
                                    z = Number(y)
                                } else if (_ === "em" || _ === "rem") {
                                    z = 16 * y
                                } else if (b[8]) {
                                    z = (y / b[8]).toFixed(2)
                                } else if (_ === "dppx") {
                                    z = y * 96
                                } else if (_ === "dpcm") {
                                    z = y * .3937
                                } else {
                                    z = Number(y)
                                }
                            }
                            if (w === "min-" && z) {
                                k = x >= z
                            } else if (w === "max-" && z) {
                                k = x <= z
                            } else if (z) {
                                k = x === z
                            } else {
                                k = !!x
                            }
                            if (!k) {
                                break
                            }
                        } while (m--)
                    }
                    if (k) {
                        break
                    }
                } while (i--);
                return u ? !k : k
            },
            f = function() {
                var t = e.innerWidth || i.clientWidth,
                    n = e.innerHeight || i.clientHeight,
                    a = e.screen.width,
                    o = e.screen.height,
                    r = e.screen.colorDepth,
                    l = e.devicePixelRatio;
                s.width = t;
                s.height = n;
                s["aspect-ratio"] = (t / n).toFixed(2);
                s["device-width"] = a;
                s["device-height"] = o;
                s["device-aspect-ratio"] = (a / o).toFixed(2);
                s.color = r;
                s["color-index"] = Math.pow(2, r);
                s.orientation = n >= t ? "portrait" : "landscape";
                s.resolution = l && l * 96 || e.screen.deviceXDPI || 96;
                s["device-pixel-ratio"] = l || 1
            },
            u = function() {
                clearTimeout(d);
                d = setTimeout(function() {
                    var t = null,
                        i = a - 1,
                        o = i,
                        s = false;
                    if (i >= 0) {
                        f();
                        do {
                            t = n[o - i];
                            if (t) {
                                s = c(t.mql.media);
                                if (s && !t.mql.matches || !s && t.mql.matches) {
                                    t.mql.matches = s;
                                    if (t.listeners) {
                                        for (var r = 0, l = t.listeners.length; r < l; r++) {
                                            if (t.listeners[r]) {
                                                t.listeners[r].call(e, t.mql)
                                            }
                                        }
                                    }
                                }
                            }
                        } while (i--)
                    }
                }, 10)
            },
            h = function() {
                var i = t.getElementsByTagName("head")[0],
                    n = t.createElement("style"),
                    a = null,
                    s = ["screen", "print", "speech", "projection", "handheld", "tv", "braille", "embossed", "tty"],
                    r = 0,
                    l = s.length,
                    d = "#mediamatchjs { position: relative; z-index: 0; }",
                    c = "",
                    h = e.addEventListener || (c = "on") && e.attachEvent;
                n.type = "text/css";
                n.id = "mediamatchjs";
                i.appendChild(n);
                a = e.getComputedStyle && e.getComputedStyle(n) || n.currentStyle;
                for (; r < l; r++) {
                    d += "@media " + s[r] + " { #mediamatchjs { position: relative; z-index: " + r + " } }"
                }
                if (n.styleSheet) {
                    n.styleSheet.cssText = d
                } else {
                    n.textContent = d
                }
                o = s[a.zIndex * 1 || 0];
                i.removeChild(n);
                f();
                h(c + "resize", u);
                h(c + "orientationchange", u)
            };
        h();
        return function(e) {
            var t = a,
                i = {
                    matches: false,
                    media: e,
                    addListener: function o(e) {
                        n[t].listeners || (n[t].listeners = []);
                        e && n[t].listeners.push(e)
                    },
                    removeListener: function s(e) {
                        var i = n[t],
                            a = 0,
                            o = 0;
                        if (!i) {
                            return
                        }
                        o = i.listeners.length;
                        for (; a < o; a++) {
                            if (i.listeners[a] === e) {
                                i.listeners.splice(a, 1)
                            }
                        }
                    }
                };
            if (e === "") {
                i.matches = true;
                return i
            }
            i.matches = c(e);
            a = n.push({
                mql: i,
                listeners: null
            });
            return i
        }
    }(t));
    if (!Array.prototype.filter) {
        Array.prototype.filter = function(e) {
            "use strict";
            if (this == null) {
                throw new TypeError
            }
            var t = Object(this),
                i = t.length >>> 0;
            if (typeof e !== "function") {
                return
            }
            var n = [],
                a = arguments[1];
            for (var o = 0; o < i; o++) {
                if (o in t) {
                    var s = t[o];
                    if (e && e.call(a, s, o, t)) {
                        n.push(s)
                    }
                }
            }
            return n
        }
    }
    if (!Function.prototype.bind) {
        Function.prototype.bind = function(e) {
            if (typeof this !== "function") {
                throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")
            }
            var t = Array.prototype.slice.call(arguments, 1),
                i = this,
                n = function() {},
                a = function() {
                    return i.apply(this instanceof n && e ? this : e, t.concat(Array.prototype.slice.call(arguments)))
                };
            n.prototype = this.prototype;
            a.prototype = new n;
            return a
        }
    }
    if (!Array.prototype.indexOf) {
        Array.prototype.indexOf = function(e) {
            "use strict";
            if (this == null) {
                throw new TypeError
            }
            var t = Object(this);
            var i = t.length >>> 0;
            if (i === 0) {
                return -1
            }
            var n = 0;
            if (arguments.length > 1) {
                n = Number(arguments[1]);
                if (n != n) {
                    n = 0
                } else if (n != 0 && n != Infinity && n != -Infinity) {
                    n = (n > 0 || -1) * Math.floor(Math.abs(n))
                }
            }
            if (n >= i) {
                return -1
            }
            var a = n >= 0 ? n : Math.max(i - Math.abs(n), 0);
            for (; a < i; a++) {
                if (a in t && t[a] === e) {
                    return a
                }
            }
            return -1
        }
    }
    e.fn.stop = e.fn.stop || function() {
            return this
        };
    t.Foundation = {
        name: "Foundation",
        version: "4.3.1",
        cache: {},
        init: function(t, i, n, a, o, s) {
            var r, l = [t, n, a, o],
                d = [],
                s = s || false;
            if (s) this.nc = s;
            this.rtl = /rtl/i.test(e("html").attr("dir"));
            this.scope = t || this.scope;
            if (i && typeof i === "string" && !/reflow/i.test(i)) {
                if (/off/i.test(i)) return this.off();
                r = i.split(" ");
                if (r.length > 0) {
                    for (var c = r.length - 1; c >= 0; c--) {
                        d.push(this.init_lib(r[c], l))
                    }
                }
            } else {
                if (/reflow/i.test(i)) l[1] = "reflow";
                for (var f in this.libs) {
                    d.push(this.init_lib(f, l))
                }
            }
            if (typeof i === "function") {
                l.unshift(i)
            }
            return this.response_obj(d, l)
        },
        response_obj: function(e, t) {
            for (var i = 0, n = t.length; i < n; i++) {
                if (typeof t[i] === "function") {
                    return t[i]({
                        errors: e.filter(function(e) {
                            if (typeof e === "string") return e
                        })
                    })
                }
            }
            return e
        },
        init_lib: function(e, t) {
            return this.trap(function() {
                if (this.libs.hasOwnProperty(e)) {
                    this.patch(this.libs[e]);
                    return this.libs[e].init.apply(this.libs[e], t)
                } else {
                    return function() {}
                }
            }.bind(this), e)
        },
        trap: function(e, t) {
            if (!this.nc) {
                try {
                    return e()
                } catch (i) {
                    return this.error({
                        name: t,
                        message: "could not be initialized",
                        more: i.name + " " + i.message
                    })
                }
            }
            return e()
        },
        patch: function(e) {
            this.fix_outer(e);
            e.scope = this.scope;
            e.rtl = this.rtl
        },
        inherit: function(e, t) {
            var i = t.split(" ");
            for (var n = i.length - 1; n >= 0; n--) {
                if (this.lib_methods.hasOwnProperty(i[n])) {
                    this.libs[e.name][i[n]] = this.lib_methods[i[n]]
                }
            }
        },
        random_str: function(e) {
            var t = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");
            if (!e) {
                e = Math.floor(Math.random() * t.length)
            }
            var i = "";
            for (var n = 0; n < e; n++) {
                i += t[Math.floor(Math.random() * t.length)]
            }
            return i
        },
        libs: {},
        lib_methods: {
            set_data: function(e, t) {
                var i = [this.name, +new Date, Foundation.random_str(5)].join("-");
                Foundation.cache[i] = t;
                e.attr("data-" + this.name + "-id", i);
                return t
            },
            get_data: function(e) {
                return Foundation.cache[e.attr("data-" + this.name + "-id")]
            },
            remove_data: function(t) {
                if (t) {
                    delete Foundation.cache[t.attr("data-" + this.name + "-id")];
                    t.attr("data-" + this.name + "-id", "")
                } else {
                    e("[data-" + this.name + "-id]").each(function() {
                        delete Foundation.cache[e(this).attr("data-" + this.name + "-id")];
                        e(this).attr("data-" + this.name + "-id", "")
                    })
                }
            },
            throttle: function(e, t) {
                var i = null;
                return function() {
                    var n = this,
                        a = arguments;
                    clearTimeout(i);
                    i = setTimeout(function() {
                        e.apply(n, a)
                    }, t)
                }
            },
            data_options: function(t) {
                var i = {},
                    n, a, o = (t.attr("data-options") || ":").split(";"),
                    s = o.length;

                function r(e) {
                    return !isNaN(e - 0) && e !== null && e !== "" && e !== false && e !== true
                }

                function l(t) {
                    if (typeof t === "string") return e.trim(t);
                    return t
                }
                for (n = s - 1; n >= 0; n--) {
                    a = o[n].split(":");
                    if (/true/i.test(a[1])) a[1] = true;
                    if (/false/i.test(a[1])) a[1] = false;
                    if (r(a[1])) a[1] = parseInt(a[1], 10);
                    if (a.length === 2 && a[0].length > 0) {
                        i[l(a[0])] = l(a[1])
                    }
                }
                return i
            },
            delay: function(e, t) {
                return setTimeout(e, t)
            },
            scrollTo: function(i, n, a) {
                if (a < 0) return;
                var o = n - e(t).scrollTop();
                var s = o / a * 10;
                this.scrollToTimerCache = setTimeout(function() {
                    if (!isNaN(parseInt(s, 10))) {
                        t.scrollTo(0, e(t).scrollTop() + s);
                        this.scrollTo(i, n, a - 10)
                    }
                }.bind(this), 10)
            },
            scrollLeft: function(e) {
                if (!e.length) return;
                return "scrollLeft" in e[0] ? e[0].scrollLeft : e[0].pageXOffset
            },
            empty: function(e) {
                if (e.length && e.length > 0) return false;
                if (e.length && e.length === 0) return true;
                for (var t in e) {
                    if (hasOwnProperty.call(e, t)) return false
                }
                return true;
            }
        },
        fix_outer: function(e) {
            e.outerHeight = function(e, t) {
                if (typeof Zepto === "function") {
                    return e.height()
                }
                if (typeof t !== "undefined") {
                    return e.outerHeight(t)
                }
                return e.outerHeight()
            };
            e.outerWidth = function(e, t) {
                if (typeof Zepto === "function") {
                    return e.width()
                }
                if (typeof t !== "undefined") {
                    return e.outerWidth(t)
                }
                return e.outerWidth()
            }
        },
        error: function(e) {
            return e.name + " " + e.message + "; " + e.more
        },
        off: function() {
            e(this.scope).off(".fndtn");
            e(t).off(".fndtn");
            return true
        },
        zj: e
    };
    e.fn.foundation = function() {
        var e = Array.prototype.slice.call(arguments, 0);
        return this.each(function() {
            Foundation.init.apply(Foundation, [this].concat(e));
            return this
        })
    }
})(libFuncName, this, this.document);
(function(e, t, i) {
    "use strict";
    Foundation.libs.section = {
        name: "section",
        version: "4.3.1",
        settings: {
            deep_linking: false,
            small_breakpoint: 768,
            one_up: true,
            section_selector: "[data-section]",
            region_selector: "section, .section, [data-section-region]",
            title_selector: ".title, [data-section-title]",
            resized_data_attr: "data-section-resized",
            small_style_data_attr: "data-section-small-style",
            content_selector: ".content, [data-section-content]",
            nav_selector: '[data-section="vertical-nav"], [data-section="horizontal-nav"]',
            active_class: "active",
            callback: function() {
                e(".accordion .content").slideDown("slow");
                if (e("section.active").parents(".service-accordion").length == 1) {
                    e("html, body").animate({
                        scrollTop: e("section.active").offset().top - 50
                    })
                }
            }
        },
        init: function(t, i, n) {
            var a = this;
            Foundation.inherit(this, "throttle data_options position_right offset_right");
            if (typeof i === "object") {
                e.extend(true, a.settings, i)
            }
            if (typeof i !== "string") {
                this.events();
                return true
            } else {
                return this[i].call(this, n)
            }
        },
        events: function() {
            var n = this;
            var a = [],
                o = n.settings.section_selector,
                s = n.settings.region_selector.split(","),
                r = n.settings.title_selector.split(",");
            for (var l = 0, d = s.length; l < d; l++) {
                var c = s[l];
                for (var f = 0, u = r.length; f < u; f++) {
                    var h = o + ">" + c + ">" + r[f];
                    a.push(h + " a");
                    a.push(h + " a>input")
                }
            }
            e(n.scope).on("click.fndtn.section", a.join(","), function(t) {
                var i = e(this).closest(n.settings.title_selector);
                n.close_navs(i);
                if (i.siblings(n.settings.content_selector).length > 0) {
                    n.toggle_active.call(i[0], t)
                }
            });
            e(t).on("resize.fndtn.section", n.throttle(function() {
                n.resize()
            }, 30)).on("hashchange.fndtn.section", n.set_active_from_hash);
            e(i).on("click.fndtn.section", function(t) {
                if (t.isPropagationStopped && t.isPropagationStopped()) return;
                if (t.target === i) return;
                n.close_navs(e(t.target).closest(n.settings.title_selector))
            });
            e(t).triggerHandler("resize.fndtn.section");
            e(t).triggerHandler("hashchange.fndtn.section");
            var p = e(".service-accordion");
            if (p.length > 0) {
                e(".service-accordion section p.title a").on("click", function() {
                    var t = e(this).closest("section");
                    if (t.hasClass(n.settings.active_class)) {
                        t.removeClass(n.settings.active_class);
                        return false
                    }
                })
            }
        },
        close_navs: function(t) {
            var i = Foundation.libs.section,
                n = e(i.settings.nav_selector).filter(function() {
                    return !e.extend({}, i.settings, i.data_options(e(this))).one_up
                });
            if (t.length > 0) {
                var a = t.parent().parent();
                if (i.is_horizontal_nav(a) || i.is_vertical_nav(a)) {
                    n = n.filter(function() {
                        return this !== a[0]
                    })
                }
            }
            n.children(i.settings.region_selector).removeClass(i.settings.active_class)
        },
        toggle_active: function(t) {
            var i = e(this),
                n = Foundation.libs.section,
                a = i.parent(),
                o = i.siblings(n.settings.content_selector),
                s = a.parent(),
                r = e.extend({}, n.settings, n.data_options(s)),
                l = s.children(n.settings.region_selector).filter("." + n.settings.active_class);
            if (!r.deep_linking && o.length > 0) {
                if (t.currentTarget.tagName !== "INPUT") t.preventDefault()
            }
            t.stopPropagation();
            if (!a.hasClass(n.settings.active_class)) {
                l.removeClass(n.settings.active_class);
                a.addClass(n.settings.active_class);
                a.find('.accordionFormTitle [type="radio"]').prop("checked", true);
                n.resize(a.find(n.settings.section_selector).not("[" + n.settings.resized_data_attr + "]"), true)
            } else if (!r.one_up && (n.small(s) || n.is_vertical_nav(s) || n.is_horizontal_nav(s) || n.is_accordion(s))) {
                a.removeClass(n.settings.active_class)
            }
            r.callback(s)
        },
        check_resize_timer: null,
        resize: function(t, n) {
            var a = Foundation.libs.section,
                o = a.small(e(i)),
                s = function(e, t) {
                    return !a.is_accordion(e) && !e.is("[" + a.settings.resized_data_attr + "]") && (!o || a.is_horizontal_tabs(e)) && t === (e.css("display") === "none" || !e.parent().is(":visible"))
                };
            t = t || e(a.settings.section_selector);
            clearTimeout(a.check_resize_timer);
            if (!o) {
                t.removeAttr(a.settings.small_style_data_attr)
            }
            t.filter(function() {
                return s(e(this), false)
            }).each(function() {
                var t = e(this),
                    i = t.children(a.settings.region_selector),
                    o = i.children(a.settings.title_selector),
                    s = i.children(a.settings.content_selector),
                    r = 0;
                if (n && t.children(a.settings.region_selector).filter("." + a.settings.active_class).length == 0) {
                    var l = e.extend({}, a.settings, a.data_options(t));
                    if (!l.deep_linking && (l.one_up || !a.is_horizontal_nav(t) && !a.is_vertical_nav(t) && !a.is_accordion(t))) {
                        i.filter(":visible").first().addClass(a.settings.active_class)
                    }
                }
                if (a.is_horizontal_tabs(t) || a.is_auto(t)) {
                    var d = 0;
                    o.each(function() {
                        var t = e(this);
                        if (t.is(":visible")) {
                            t.css(!a.rtl ? "left" : "right", d);
                            var i = parseInt(t.css("border-" + (a.rtl ? "left" : "right") + "-width"), 10);
                            if (i.toString() === "Nan") {
                                i = 0
                            }
                            d += a.outerWidth(t) - i;
                            r = Math.max(r, a.outerHeight(t))
                        }
                    });
                    o.css("height", r);
                    i.each(function() {
                        var t = e(this),
                            i = t.children(a.settings.content_selector),
                            n = parseInt(i.css("border-top-width"), 10);
                        if (n.toString() === "Nan") {
                            n = 0
                        }
                        t.css("padding-top", r - n)
                    });
                    t.css("min-height", r)
                } else if (a.is_horizontal_nav(t)) {
                    var c = true;
                    o.each(function() {
                        r = Math.max(r, a.outerHeight(e(this)))
                    });
                    i.each(function() {
                        var i = e(this);
                        i.css("margin-left", "-" + (c ? t : i.children(a.settings.title_selector)).css("border-left-width"));
                        c = false
                    });
                    i.css("margin-top", "-" + t.css("border-top-width"));
                    o.css("height", r);
                    s.css("top", r);
                    t.css("min-height", r)
                } else if (a.is_vertical_tabs(t)) {
                    var f = 0;
                    o.each(function() {
                        var t = e(this);
                        if (t.is(":visible")) {
                            t.css("top", f);
                            var i = parseInt(t.css("border-top-width"), 10);
                            if (i.toString() === "Nan") {
                                i = 0
                            }
                            f += a.outerHeight(t) - i
                        }
                    });
                    s.css("min-height", f + 1)
                } else if (a.is_vertical_nav(t)) {
                    var u = 0,
                        h = true;
                    o.each(function() {
                        u = Math.max(u, a.outerWidth(e(this)))
                    });
                    i.each(function() {
                        var i = e(this);
                        i.css("margin-top", "-" + (h ? t : i.children(a.settings.title_selector)).css("border-top-width"));
                        h = false
                    });
                    o.css("width", u);
                    s.css(!a.rtl ? "left" : "right", u);
                    t.css("width", u)
                }
                t.attr(a.settings.resized_data_attr, true)
            });
            if (e(a.settings.section_selector).filter(function() {
                    return s(e(this), true)
                }).length > 0) a.check_resize_timer = setTimeout(function() {
                a.resize(t.filter(function() {
                    return s(e(this), false)
                }), true)
            }, 700);
            if (o) {
                t.attr(a.settings.small_style_data_attr, true)
            }
        },
        is_vertical_nav: function(e) {
            return /vertical-nav/i.test(e.data("section"))
        },
        is_horizontal_nav: function(e) {
            return /horizontal-nav/i.test(e.data("section"))
        },
        is_accordion: function(e) {
            return /accordion/i.test(e.data("section"))
        },
        is_horizontal_tabs: function(e) {
            return /^tabs$/i.test(e.data("section"))
        },
        is_vertical_tabs: function(e) {
            return /vertical-tabs/i.test(e.data("section"))
        },
        is_auto: function(e) {
            var t = e.data("section");
            return t === "" || /auto/i.test(t)
        },
        set_active_from_hash: function() {
            var i = Foundation.libs.section,
                n = t.location.hash.substring(1),
                a = e(i.settings.section_selector);
            a.each(function() {
                var t = e(this),
                    a = e.extend({}, i.settings, i.data_options(t)),
                    o = t.children(i.settings.region_selector),
                    s = a.deep_linking && n.length > 0,
                    r = false;
                o.each(function() {
                    var t = e(this);
                    if (r) {
                        t.removeClass(i.settings.active_class)
                    } else if (s) {
                        var a = t.children(i.settings.content_selector).data("slug");
                        if (a && new RegExp(a, "i").test(n)) {
                            if (!t.hasClass(i.settings.active_class)) t.addClass(i.settings.active_class);
                            r = true
                        } else {
                            t.removeClass(i.settings.active_class)
                        }
                    } else if (t.hasClass(i.settings.active_class)) {
                        r = true
                    }
                });
                if (!r && !a.deep_linking && (a.one_up || !i.is_horizontal_nav(t) && !i.is_vertical_nav(t) && !i.is_accordion(t))) {
                    o.filter(":visible").first().addClass(i.settings.active_class)
                }
            })
        },
        reflow: function() {
            var t = Foundation.libs.section;
            e(t.settings.section_selector).removeAttr(t.settings.resized_data_attr);
            t.throttle(function() {
                t.resize()
            }, 30)()
        },
        small: function(t) {
            var i = e.extend({}, this.settings, this.data_options(t));
            if (this.is_horizontal_tabs(t)) {
                return false
            }
            if (t && this.is_accordion(t)) {
                return true
            }
            if (e("html").hasClass("lt-ie9")) {
                return true
            }
            if (e("html").hasClass("ie8compat")) {
                return true
            }
            return e(this.scope).width() < i.small_breakpoint
        },
        off: function() {
            e(this.scope).off(".fndtn.section");
            e(t).off(".fndtn.section");
            e(i).off(".fndtn.section")
        }
    };
    e.fn.reflow_section = function(e) {
        var t = this,
            i = Foundation.libs.section;
        t.removeAttr(i.settings.resized_data_attr);
        i.throttle(function() {
            i.resize(t, e)
        }, 30)();
        return this
    }
})(Foundation.zj, window, document);
(function(e, t, i, n) {
    "use strict";
    var a = function() {};
    var o = function(a, o) {
        if (a.hasClass(o.slides_container_class)) {
            return this
        }
        var d = this,
            c, f = a,
            u, h, p, g = 0,
            m, v, b = false,
            w = false;
        f.children().first().addClass(o.active_slide_class);
        d.update_slide_number = function(t) {
            if (o.slide_number) {
                u.find("span:first").text(parseInt(t) + 1);
                u.find("span:last").text(f.children().length)
            }
            if (o.bullets) {
                h.children().removeClass(o.bullets_active_class);
                e(h.children().get(t)).addClass(o.bullets_active_class)
            }
        };
        d.build_markup = function() {
            f.wrap('<div class="' + o.container_class + '"></div>');
            c = f.parent();
            f.addClass(o.slides_container_class);
            if (o.navigation_arrows) {
                c.append(e("<a>").addClass(o.prev_class).append("<span>"));
                c.append(e("<a>").addClass(o.next_class).append("<span>"))
            }
            if (o.timer) {
                p = e("<div>").addClass(o.timer_container_class);
                p.append("<span>");
                p.append(e("<div>").addClass(o.timer_progress_class));
                p.addClass(o.timer_paused_class);
                c.append(p)
            }
            if (o.slide_number) {
                u = e("<div>").addClass(o.slide_number_class);
                u.append("<span></span> " + (typeof labels.of == "undefined" ? "/" : labels.of) + " <span></span>");
                c.append(u)
            }
            if (o.bullets) {
                h = e("<ol>").addClass(o.bullets_container_class);
                c.append(h);
                f.children().each(function(t, i) {
                    var n = e("<li>").attr("data-orbit-slide", t);
                    h.append(n)
                })
            }
            if (o.stack_on_small) {
                c.addClass(o.stack_on_small_class)
            }
            d.update_slide_number(0)
        };
        d._goto = function(t, i) {
            if (t === g) {
                return false
            }
            if (typeof v === "object") {
                v.restart()
            }
            var n = f.children();
            var a = "next";
            b = true;
            if (t < g) {
                a = "prev"
            }
            if (t >= n.length) {
                t = 0
            } else if (t < 0) {
                t = n.length - 1
            }
            var s = e(n.get(g));
            var r = e(n.get(t));
            s.css("zIndex", 2);
            r.css("zIndex", 4).addClass("active");
            f.trigger("orbit:before-slide-change");
            o.before_slide_change();
            var l = function() {
                var e = function() {
                    g = t;
                    b = false;
                    if (i === true) {
                        v = d.create_timer();
                        v.start()
                    }
                    d.update_slide_number(g);
                    f.trigger("orbit:after-slide-change", [{
                        slide_number: g,
                        total_slides: n.length
                    }]);
                    o.after_slide_change(g, n.length)
                };
                if (f.height() != r.height()) {
                    f.animate({
                        height: r.height()
                    }, 250, "linear", e)
                } else {
                    e()
                }
            };
            if (n.length === 1) {
                l();
                return false
            }
            var c = function() {
                if (a === "next") {
                    m.next(s, r, l)
                }
                if (a === "prev") {
                    m.prev(s, r, l)
                }
            };
            if (r.height() > f.height()) {
                f.animate({
                    height: r.height()
                }, 250, "linear", c)
            } else {
                c()
            }
        };
        d.next = function(e) {
            e.stopImmediatePropagation();
            e.preventDefault();
            d._goto(g + 1)
        };
        d.prev = function(e) {
            e.stopImmediatePropagation();
            e.preventDefault();
            d._goto(g - 1)
        };
        d.link_custom = function(t) {
            t.preventDefault();
            var i = e(this).attr("data-orbit-link");
            if (typeof i === "string" && (i = e.trim(i)) != "") {
                var n = c.find("[data-orbit-slide=" + i + "]");
                if (n.index() != -1) {
                    d._goto(n.index())
                }
            }
        };
        d.link_bullet = function(t) {
            var i = e(this).attr("data-orbit-slide");
            if (typeof i === "string" && (i = e.trim(i)) != "") {
                d._goto(i)
            }
        };
        d.timer_callback = function() {
            d._goto(g + 1, true)
        };
        d.compute_dimensions = function() {
            var t = e(f.children().get(g));
            var i = t.height();
            if (!o.variable_height) {
                f.children().each(function() {
                    if (e(this).height() > i) {
                        i = e(this).height()
                    }
                })
            }
            f.height(i)
        };
        d.create_timer = function() {
            var e = new s(c.find("." + o.timer_container_class), o, d.timer_callback);
            return e
        };
        d.stop_timer = function() {
            if (typeof v === "object") v.stop()
        };
        d.toggle_timer = function() {
            var e = c.find("." + o.timer_container_class);
            if (e.hasClass(o.timer_paused_class)) {
                if (typeof v === "undefined") {
                    v = d.create_timer()
                }
                v.start()
            } else {
                if (typeof v === "object") {
                    v.stop()
                }
            }
        };
        d.init = function() {
            d.build_markup();
            if (o.timer) {
                v = d.create_timer();
                v.start()
            }
            m = new l(f);
            if (o.animation === "slide") m = new r(f);
            c.on("click", "." + o.next_class, d.next);
            c.on("click", "." + o.prev_class, d.prev);
            c.on("click", "[data-orbit-slide]", d.link_bullet);
            c.on("click", d.toggle_timer);
            c.on("touchstart.fndtn.orbit", function(e) {
                if (!e.touches) {
                    e = e.originalEvent
                }
                var t = {
                    start_page_x: e.touches[0].pageX,
                    start_page_y: e.touches[0].pageY,
                    start_time: (new Date).getTime(),
                    delta_x: 0,
                    is_scrolling: n
                };
                c.data("swipe-transition", t);
                e.stopPropagation()
            }).on("touchmove.fndtn.orbit", function(e) {
                if (!e.touches) {
                    e = e.originalEvent
                }
                if (e.touches.length > 1 || e.scale && e.scale !== 1) return;
                var t = c.data("swipe-transition");
                if (typeof t === "undefined") {
                    t = {}
                }
                t.delta_x = e.touches[0].pageX - t.start_page_x;
                if (typeof t.is_scrolling === "undefined") {
                    t.is_scrolling = !!(t.is_scrolling || Math.abs(t.delta_x) < Math.abs(e.touches[0].pageY - t.start_page_y))
                }
                if (!t.is_scrolling && !t.active) {
                    e.preventDefault();
                    var i = t.delta_x < 0 ? g + 1 : g - 1;
                    t.active = true;
                    d._goto(i)
                }
            }).on("touchend.fndtn.orbit", function(e) {
                c.data("swipe-transition", {});
                e.stopPropagation()
            }).on("mouseenter.fndtn.orbit", function(e) {
                if (o.timer && o.pause_on_hover) {
                    d.stop_timer()
                }
            }).on("mouseleave.fndtn.orbit", function(e) {
                if (o.timer && o.resume_on_mouseout) {
                    v.start()
                }
            });
            e(i).on("click", "[data-orbit-link]", d.link_custom);
            e(t).on("resize", d.compute_dimensions);
            e(t).on("load", d.compute_dimensions);
            f.trigger("orbit:ready")
        };
        d.init()
    };
    var s = function(e, t, i) {
        var n = this,
            a = t.timer_speed,
            o = e.find("." + t.timer_progress_class),
            s, r, l = -1;
        this.update_progress = function(e) {
            var t = o.clone();
            t.attr("style", "");
            t.css("width", e + "%");
            o.replaceWith(t);
            o = t
        };
        this.restart = function() {
            clearTimeout(r);
            e.addClass(t.timer_paused_class);
            l = -1;
            n.update_progress(0)
        };
        this.start = function() {
            if (!e.hasClass(t.timer_paused_class)) {
                return true
            }
            l = l === -1 ? a : l;
            e.removeClass(t.timer_paused_class);
            s = (new Date).getTime();
            o.animate({
                width: "100%"
            }, l, "linear");
            r = setTimeout(function() {
                n.restart();
                i()
            }, l);
            e.trigger("orbit:timer-started")
        };
        this.stop = function() {
            if (e.hasClass(t.timer_paused_class)) {
                return true
            }
            clearTimeout(r);
            e.addClass(t.timer_paused_class);
            var i = (new Date).getTime();
            l = l - (i - s);
            var o = 100 - l / a * 100;
            n.update_progress(o);
            e.trigger("orbit:timer-stopped")
        }
    };
    var r = function(t) {
        var i = 400;
        var n = e("html[dir=rtl]").length === 1;
        var a = n ? "marginRight" : "marginLeft";
        this.next = function(e, t, n) {
            t.animate({
                margin: "0%"
            }, i, "linear", function() {
                e.css(a, "100%");
                n()
            })
        };
        this.prev = function(e, t, n) {
            t.css(a, "-100%");
            t.animate({
                margin: "0%"
            }, i, "linear", function() {
                e.css(a, "100%");
                n()
            })
        }
    };
    var l = function(e) {
        var t = 250;
        this.next = function(e, i, n) {
            i.css({
                marginLeft: "0%",
                opacity: "0.01"
            });
            i.animate({
                opacity: "1"
            }, t, "linear", function() {
                e.css("marginLeft", "100%");
                n()
            })
        };
        this.prev = function(e, i, n) {
            i.css({
                marginLeft: "0%",
                opacity: "0.01"
            });
            i.animate({
                opacity: "1"
            }, t, "linear", function() {
                e.css("marginLeft", "100%");
                n()
            })
        }
    };
    Foundation.libs = Foundation.libs || {};
    Foundation.libs.orbit = {
        name: "orbit",
        version: "4.3.1",
        settings: {
            animation: "slide",
            timer_speed: 1e4,
            pause_on_hover: true,
            resume_on_mouseout: false,
            animation_speed: 500,
            stack_on_small: false,
            navigation_arrows: true,
            slide_number: true,
            container_class: "orbit-container",
            stack_on_small_class: "orbit-stack-on-small",
            next_class: "orbit-next",
            prev_class: "orbit-prev",
            timer_container_class: "orbit-timer",
            timer_paused_class: "paused",
            timer_progress_class: "orbit-progress",
            slides_container_class: "orbit-slides-container",
            bullets_container_class: "orbit-bullets",
            bullets_active_class: "active",
            slide_number_class: "orbit-slide-number",
            caption_class: "orbit-caption",
            active_slide_class: "active",
            orbit_transition_class: "orbit-transitioning",
            bullets: true,
            timer: true,
            variable_height: false,
            before_slide_change: a,
            after_slide_change: a
        },
        init: function(t, i, n) {
            var a = this;
            Foundation.inherit(a, "data_options");
            if (typeof i === "object") {
                e.extend(true, a.settings, i)
            }
            if (e(t).is("[data-orbit]")) {
                var s = e(t);
                var r = a.data_options(s);
                new o(s, e.extend({}, a.settings, r))
            }
            e("[data-orbit]", t).each(function(t, i) {
                var n = e(i);
                var s = a.data_options(n);
                new o(n, e.extend({}, a.settings, s))
            })
        }
    }
})(Foundation.zj, this, this.document);
(function(e, t, i, n) {
    "use strict";
    Foundation.libs.reveal = {
        name: "reveal",
        version: "4.2.2",
        locked: false,
        bgOpen: false,
        settings: {
            animation: "fadeAndPop",
            animationSpeed: 250,
            closeOnBackgroundClick: true,
            closeOnEsc: true,
            dismissModalClass: "close-modal-link",
            bgClass: "reveal-modal-bg",
            open: function() {},
            opened: function() {},
            close: function() {},
            closed: function() {},
            bg: e(".reveal-modal-bg"),
            css: {
                open: {
                    opacity: 0,
                    visibility: "visible",
                    display: "block"
                },
                close: {
                    opacity: 1,
                    visibility: "hidden",
                    display: "none"
                }
            }
        },
        init: function(t, i, n) {
            Foundation.inherit(this, "data_options delay");
            if (typeof i === "object") {
                e.extend(true, this.settings, i)
            } else if (typeof n !== "undefined") {
                e.extend(true, this.settings, n)
            }
            if (typeof i !== "string") {
                this.events();
                return this.settings.init
            } else {
                return this[i].call(this, n)
            }
        },
        events: function() {
            var t = this;
            e(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal", "[data-reveal-id]", function(n) {
                n.preventDefault();
                if (!t.locked) {
                    var a = e(this),
                        o = a.data("reveal-ajax");
                    t.locked = true;
                    if (typeof o === "undefined") {
                        t.open.call(t, a)
                    } else {
                        var s = o === true ? a.attr("href") : o;
                        if ("https:" == i.location.protocol && s.lastIndexOf("http:", 0) === 0) {
                            s = s.replace("http", "https")
                        }
                        if ("http:" == i.location.protocol && s.lastIndexOf("https:", 0) === 0) {
                            s = s.replace("https", "http")
                        }
                        t.open.call(t, a, {
                            url: s
                        })
                    }
                }
            }).on("click.fndtn.reveal", this.close_targets(), function(i) {
                i.preventDefault();
                if (!t.locked) {
                    var n = e.extend({}, t.settings, t.data_options(e(".reveal-modal.open")));
                    if (e(i.target)[0] === e("." + n.bgClass)[0] && !n.closeOnBackgroundClick) {
                        return
                    }
                    t.locked = true;
                    t.close.call(t, e(this).closest(".reveal-modal"))
                }
            }).on("open.fndtn.reveal", ".reveal-modal", this.settings.open).on("opened.fndtn.reveal", ".reveal-modal", this.settings.opened).on("opened.fndtn.reveal", ".reveal-modal", this.open_video).on("close.fndtn.reveal", ".reveal-modal", this.settings.close).on("closed.fndtn.reveal", ".reveal-modal", this.settings.closed).on("closed.fndtn.reveal", ".reveal-modal", this.close_video);
            e("body").bind("keyup.reveal", function(i) {
                var n = e(".reveal-modal.open"),
                    a = e.extend({}, t.settings, t.data_options(n));
                if (i.which === 27 && a.closeOnEsc) {
                    n.foundation("reveal", "close")
                }
            });
            e("." + this.settings.dismissModalClass).off("click tap").on("click tap", function() {
                var t = e(this).closest(".reveal-modal");
                if (t.hasClass("open")) {
                    t.foundation("reveal", "close")
                } else {
                    e(".reveal-modal.open").foundation("reveal", "close")
                }
            });
            return true
        },
        open: function(t, i) {
            if (t) {
                if (typeof t.selector !== "undefined") {
                    var n = e("#" + t.data("reveal-id"))
                } else {
                    var n = e(this.scope);
                    i = t
                }
            } else {
                var n = e(this.scope)
            }
            if (!n.hasClass("open")) {
                var a = e(".reveal-modal.open");
                if (typeof n.data("css-top") === "undefined") {
                    n.data("css-top", parseInt(n.css("top"), 10)).data("offset", this.cache_offset(n))
                }
                n.trigger("open");
                if (a.length < 1 && !this.bgOpen) {
                    this.toggle_bg(n)
                }
                if (typeof i === "undefined" || !i.url) {
                    this.hide(a, this.settings.css.close);
                    this.show(n, this.settings.css.open)
                } else {
                    var o = this,
                        s = typeof i.success !== "undefined" ? i.success : null;
                    e.extend(i, {
                        success: function(t, r, l) {
                            if (e.isFunction(s)) {
                                s(t, r, l)
                            }
                            if (i.url.substring(0, 1) === "/" && e(t).find("#main").length == 1) {
                                n.html(e(t).find("#main").html())
                            } else {
                                n.html(t)
                            }
                            e(n).foundation("section", "reflow");
                            o.hide(a, o.settings.css.close);
                            o.show(n, o.settings.css.open)
                        }
                    });
                    e.ajax(i)
                }
            }
        },
        close: function(t) {
            var t = t && t.length ? t : e(this.scope),
                i = e(".reveal-modal.open");
            if (i.length > 0) {
                this.locked = true;
                t.trigger("close");
                this.toggle_bg(t);
                this.hide(i, this.settings.css.close)
            }
        },
        close_targets: function() {
            var e = "." + this.settings.dismissModalClass;
            if (this.settings.closeOnBackgroundClick) {
                return e + ", ." + this.settings.bgClass
            }
            return e
        },
        toggle_bg: function(t) {
            if (e(".reveal-modal-bg").length === 0) {
                this.settings.bg = e("<div />", {
                    "class": this.settings.bgClass
                }).appendTo("body");
                e("." + this.settings.bgClass).off("click tap").on("click tap", function() {
                    e(".reveal-modal.open").foundation("reveal", "close")
                })
            }
            if (this.settings.bg.filter(":visible").length > 0) {
                this.hide(this.settings.bg);
                this.bgOpen = false
            } else {
                this.show(this.settings.bg);
                this.bgOpen = true
            }
        },
        show: function(i, n) {
            if (n) {
                if (/pop/i.test(this.settings.animation)) {
                    n.top = e(t).scrollTop() - i.data("offset") + "px";
                    var a = {
                        top: e(t).scrollTop() + i.data("css-top") + "px",
                        opacity: 1
                    };
                    return this.delay(function() {
                        return i.css(n).animate(a, this.settings.animationSpeed, "linear", function() {
                            this.locked = false;
                            i.trigger("opened")
                        }.bind(this)).addClass("open")
                    }.bind(this), this.settings.animationSpeed / 2)
                }
                if (/fade/i.test(this.settings.animation)) {
                    var a = {
                        opacity: 1
                    };
                    return this.delay(function() {
                        return i.css(n).animate(a, this.settings.animationSpeed, "linear", function() {
                            this.locked = false;
                            i.trigger("opened")
                        }.bind(this)).addClass("open")
                    }.bind(this), this.settings.animationSpeed / 2)
                }
                return i.css(n).show().css({
                    opacity: 1
                }).addClass("open").trigger("opened")
            }
            if (/fade/i.test(this.settings.animation)) {
                return i.fadeIn(this.settings.animationSpeed / 2)
            }
            return i.show()
        },
        hide: function(i, n) {
            if (n) {
                if (/pop/i.test(this.settings.animation)) {
                    var a = {
                        top: -e(t).scrollTop() - i.data("offset") + "px",
                        opacity: 0
                    };
                    return this.delay(function() {
                        return i.animate(a, this.settings.animationSpeed, "linear", function() {
                            this.locked = false;
                            i.css(n).trigger("closed")
                        }.bind(this)).removeClass("open")
                    }.bind(this), this.settings.animationSpeed / 2)
                }
                if (/fade/i.test(this.settings.animation)) {
                    var a = {
                        opacity: 0
                    };
                    return this.delay(function() {
                        return i.animate(a, this.settings.animationSpeed, "linear", function() {
                            this.locked = false;
                            i.css(n).trigger("closed")
                        }.bind(this)).removeClass("open")
                    }.bind(this), this.settings.animationSpeed / 2)
                }
                return i.hide().css(n).removeClass("open").trigger("closed")
            }
            if (/fade/i.test(this.settings.animation)) {
                return i.fadeOut(this.settings.animationSpeed / 2)
            }
            return i.hide()
        },
        close_video: function(t) {
            var i = e(this).find(".flex-video"),
                n = i.find("iframe");
            if (n.length > 0) {
                n.attr("data-src", n[0].src);
                n.attr("src", "about:blank");
                i.hide()
            }
        },
        open_video: function(t) {
            var i = e(this).find(".flex-video"),
                a = i.find("iframe");
            if (a.length > 0) {
                var o = a.attr("data-src");
                if (typeof o === "string") {
                    a[0].src = a.attr("data-src")
                } else {
                    var s = a[0].src;
                    a[0].src = n;
                    a[0].src = s
                }
                i.show()
            }
        },
        cache_offset: function(e) {
            var t = e.show().height() + parseInt(e.css("top"), 10);
            e.hide();
            return t
        },
        off: function() {
            e(this.scope).off(".fndtn.reveal")
        },
        reflow: function() {}
    }
})(Foundation.zj, this, this.document);
(function(e, t, i, n) {
    "use strict";
    Foundation.libs.topbar = {
        name: "topbar",
        version: "4.3.1",
        settings: {
            index: 0,
            stickyClass: "sticky",
            custom_back_text: true,
            back_text: labels.topBarBack,
            is_hover: false,
            mobile_show_parent_link: true,
            scrolltop: true,
            init: false
        },
        init: function(i, n, a) {
            Foundation.inherit(this, "data_options");
            var o = this;
            if (typeof n === "object") {
                e.extend(true, this.settings, n)
            } else if (typeof a !== "undefined") {
                e.extend(true, this.settings, a)
            }
            if (typeof n !== "string") {
                e(".top-bar, [data-topbar]").each(function() {
                    e.extend(true, o.settings, o.data_options(e(this)));
                    o.settings.$w = e(t);
                    o.settings.$topbar = e(this);
                    o.settings.$section = o.settings.$topbar.find("section");
                    o.settings.$titlebar = o.settings.$topbar.children("ul").first();
                    o.settings.$topbar.data("index", 0);
                    var i = e("<div class='top-bar-js-breakpoint'/>").insertAfter(o.settings.$topbar);
                    o.settings.breakPoint = i.width();
                    i.remove();
                    o.assemble();
                    if (o.settings.is_hover) {
                        o.settings.$topbar.find(".has-dropdown").addClass("not-click")
                    }
                    if (o.settings.$topbar.parent().hasClass("fixed")) {
                        e("body").css("padding-top", o.outerHeight(o.settings.$topbar))
                    }
                });
                if (!o.settings.init) {
                    this.events()
                }
                return this.settings.init
            } else {
                return this[n].call(this, a)
            }
        },
        timer: null,
        events: function() {
            var i = this;
            var n = this.outerHeight(e(".top-bar, [data-topbar]"));
            e(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar", ".top-bar .toggle-topbar, [data-topbar] .toggle-topbar", function(a) {
                e("body").removeClass("showSideNav");
                var o = e(this).closest(".top-bar, [data-topbar]"),
                    s = o.find("section, .section"),
                    r = o.children("ul").first();
                a.preventDefault();
                if (i.breakpoint()) {
                    if (!i.rtl) {
                        s.css({
                            left: "0%"
                        });
                        s.find(">.name").css({
                            left: "100%"
                        })
                    } else {
                        s.css({
                            right: "0%"
                        });
                        s.find(">.name").css({
                            right: "100%"
                        })
                    }
                    s.find("li.moved").removeClass("moved");
                    o.data("index", 0);
                    o.toggleClass("expanded").css("height", "")
                }
                if (!o.hasClass("expanded")) {
                    if (o.hasClass("fixed")) {
                        o.parent().addClass("fixed");
                        o.removeClass("fixed");
                        e("body").css("padding-top", n)
                    }
                } else if (o.parent().hasClass("fixed")) {
                    o.parent().removeClass("fixed");
                    o.addClass("fixed");
                    e("body").css("padding-top", "0");
                    if (i.settings.scrolltop) {
                        t.scrollTo(0, 0)
                    }
                }
            }).on("click.fndtn.topbar", ".top-bar li.has-dropdown", function(t) {
                if (i.breakpoint()) return;
                var n = e(this),
                    a = e(t.target),
                    o = n.closest("[data-topbar], .top-bar"),
                    s = o.data("topbar");
                if (i.settings.is_hover && !Modernizr.touch) return;
                t.stopImmediatePropagation();
                if (a[0].nodeName === "A" && a.parent().hasClass("has-dropdown")) {
                    t.preventDefault()
                }
                if (n.hasClass("hover")) {
                    n.removeClass("hover").find("li").removeClass("hover")
                } else {
                    n.addClass("hover")
                }
            }).on("click.fndtn.topbar", ".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a", function(t) {
                if (i.breakpoint()) {
                    t.preventDefault();
                    var n = e(this),
                        a = n.closest(".top-bar, [data-topbar]"),
                        o = a.find("section, .section"),
                        s = a.children("ul").first(),
                        r = n.next(".dropdown").outerHeight(),
                        l = n.closest("li");
                    a.data("index", a.data("index") + 1);
                    l.addClass("moved");
                    if (!i.rtl) {
                        o.css({
                            left: -(100 * a.data("index")) + "%"
                        });
                        o.find(">.name").css({
                            left: 100 * a.data("index") + "%"
                        })
                    } else {
                        o.css({
                            right: -(100 * a.data("index")) + "%"
                        });
                        o.find(">.name").css({
                            right: 100 * a.data("index") + "%"
                        })
                    }
                    a.css("height", i.outerHeight(n.siblings("ul"), true) + i.height(s))
                }
            });
            e(t).on("resize.fndtn.topbar", function() {
                if (!i.breakpoint()) {
                    e(".top-bar, [data-topbar]").css("height", "").removeClass("expanded").find("li").removeClass("hover")
                }
            }.bind(this));
            e("body").on("click.fndtn.topbar", function(t) {
                var i = e(t.target).closest("[data-topbar], .top-bar");
                if (i.length > 0) {
                    return
                }
                e(".top-bar li, [data-topbar] li").removeClass("hover")
            });
            e(this.scope).on("click.fndtn", ".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back", function(t) {
                t.preventDefault();
                var n = e(this),
                    a = n.closest(".top-bar, [data-topbar]"),
                    o = a.children("ul").first(),
                    s = a.find("section, .section"),
                    r = n.closest("li.moved"),
                    l = r.parent();
                a.data("index", a.data("index") - 1);
                if (!i.rtl) {
                    s.css({
                        left: -(100 * a.data("index")) + "%"
                    });
                    s.find(">.name").css({
                        left: 100 * a.data("index") + "%"
                    })
                } else {
                    s.css({
                        right: -(100 * a.data("index")) + "%"
                    });
                    s.find(">.name").css({
                        right: 100 * a.data("index") + "%"
                    })
                }
                if (a.data("index") === 0) {
                    a.css("height", "")
                } else {
                    a.css("height", i.outerHeight(l, true) + i.height(o))
                }
                setTimeout(function() {
                    r.removeClass("moved")
                }, 300)
            })
        },
        breakpoint: function() {
            return e(i).width() <= this.settings.breakPoint || e("html").hasClass("lt-ie9")
        },
        assemble: function() {
            var t = this;
            this.settings.$section.detach();
            this.settings.$section.find(".has-dropdown>a").each(function() {
                var i = e(this),
                    n = i.siblings(".dropdown"),
                    a = i.attr("href");
                if (t.settings.mobile_show_parent_link && a && a.length > 1) {
                    var o = e('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li class="divider"></li><li><a class="parent-link js-generated" href="' + a + '">' + i.text() + "</a></li>")
                } else {
                    var o = e('<li class="title back js-generated"><h5><a href="#"></a></h5></li>')
                }
                if (t.settings.custom_back_text == true) {
                    o.find("h5>a").html("&laquo; " + t.settings.back_text)
                } else {
                    o.find("h5>a").html("&laquo; " + i.html())
                }
                n.prepend(o)
            });
            this.settings.$section.appendTo(this.settings.$topbar);
            this.sticky()
        },
        height: function(t) {
            var i = 0,
                n = this;
            t.find("> li").each(function() {
                i += n.outerHeight(e(this), true)
            });
            return i
        },
        sticky: function() {
            var n = "." + this.settings.stickyClass;
            if (e(n).length > 0 && e(i).width() <= this.settings.breakPoint) {
                var a = e(n).length ? e(n).offset().top : 0,
                    o = e(t),
                    s = this.outerHeight(e(".top-bar")),
                    r;
                e(t).resize(function() {
                    clearTimeout(r);
                    r = setTimeout(function() {
                        a = e(n).offset().top
                    }, 105)
                });
                o.scroll(function() {
                    if (o.scrollTop() > a) {
                        e(n).addClass("fixed");
                        e("body").css("padding-top", s)
                    } else if (o.scrollTop() <= a) {
                        e(n).removeClass("fixed");
                        e("body").css("padding-top", "0")
                    }
                })
            }
        },
        off: function() {
            e(this.scope).off(".fndtn.topbar");
            e(t).off(".fndtn.topbar")
        },
        reflow: function() {}
    }
})(Foundation.zj, this, this.document);
(function(e, t, i) {
    events = "click.fndtn";
    var n = i("#sidebarButton");
    if (n.length > 0) {
        i("#sidebarButton").on(events, function(e) {
            e.preventDefault();
            if (i(".expanded").length > 0) i(".toggle-topbar").click();
            i("body").toggleClass("showSideNav");
            if (!a(i("#sidebar")) && i("body").hasClass("showSideNav")) {
                i("html, body").animate({
                    scrollTop: "0px"
                }, 500)
            }
        })
    }
    i(e).resize(function() {
        if (!navigator.userAgent.match(/(Opera Mobile|mini 9.5|vx1000|lge |m800|e860|u940|ux840|compal|wireless| mobi|ahong|lg380|lgku|lgu900|lg210|lg47|lg920|lg840|lg370|sam-r|mg50|s55|g83|t66|vx400|mk99|d615|d763|el370|sl900|mp500|samu3|samu4|vx10|xda_|samu5|samu6|samu7|samu9|a615|b832|m881|s920|n210|s700|c-810|_h797|mob-x|sk16d|848b|mowser|s580|r800|471x|v120|rim8|c500foma:|160x|x160|480x|x640|t503|w839|i250|sprint|w398samr810|m5252|c7100|mt126|x225|s5330|s820|htil-g1|fly v71|s302|-x113|novarra|k610i|-three|8325rc|8352rc|sanyo|vx54|c888|nx250|n120|mtk |c5588|s710|t880|c5005|i;458x|p404i|s210|c5100|teleca|s940|c500|s590|foma|samsu|vx8|vx9|a1000|_mms|myx|a700|gu1100|bc831|e300|ems100|me701|me702m-three|sd588|s800|8325rc|ac831|mw200|brew |d88|htc|htc_touch|355x|m50|km100|d736|p-9521|telco|sl74|ktouch|m4u|me702|8325rc|kddi|phone|lg |sonyericsson|samsung|240x|x320|vx10|nokia|sony cmd|motorola|up.browser|up.link|mmp|symbian|smartphone|midp|wap|vodafone|o2|pocket|kindle|mobile|psp|treo)/i)) i("body").removeClass("showSideNav")
    });
    var a = function(t) {
        var n = {};
        n.top = i(e).scrollTop();
        n.bottom = n.top + i(e).height();
        var a = {};
        a.top = t.offset().top;
        a.bottom = a.top + t.outerHeight();
        return a.top <= n.bottom && a.bottom >= n.top
    }
})(this, document, jQuery);
(function(e, t, i) {
    var n = "placeholder" in t.createElement("input"),
        a = "placeholder" in t.createElement("textarea"),
        o = i.fn,
        s = i.valHooks,
        r, l;
    if (n && a) {
        l = o.placeholder = function() {
            return this
        };
        l.input = l.textarea = true
    } else {
        l = o.placeholder = function() {
            var e = this;
            e.filter((n ? "textarea" : ":input") + "[placeholder]").not(".placeholder").bind({
                "focus.placeholder": c,
                "blur.placeholder": f
            }).data("placeholder-enabled", true).trigger("blur.placeholder");
            return e
        };
        l.input = n;
        l.textarea = a;
        r = {
            get: function(e) {
                var t = i(e);
                return t.data("placeholder-enabled") && t.hasClass("placeholder") ? "" : e.value
            },
            set: function(e, n) {
                var a = i(e);
                if (!a.data("placeholder-enabled")) {
                    return e.value = n
                }
                if (n == "") {
                    e.value = n;
                    if (e != t.activeElement) {
                        f.call(e)
                    }
                } else if (a.hasClass("placeholder")) {
                    c.call(e, true, n) || (e.value = n)
                } else {
                    e.value = n
                }
                return a
            }
        };
        n || (s.input = r);
        a || (s.textarea = r);
        i(function() {
            i(t).delegate("form", "submit.placeholder", function() {
                var e = i(".placeholder", this).each(c);
                setTimeout(function() {
                    e.each(f)
                }, 10)
            })
        });
        i(e).bind("beforeunload.placeholder", function() {
            i(".placeholder").each(function() {
                this.value = ""
            })
        })
    }

    function d(e) {
        var t = {},
            n = /^jQuery\d+$/;
        i.each(e.attributes, function(e, i) {
            if (i.specified && !n.test(i.name)) {
                t[i.name] = i.value
            }
        });
        return t
    }

    function c(e, n) {
        var a = this,
            o = i(a);
        if (a.value == o.attr("placeholder") && o.hasClass("placeholder")) {
            if (o.data("placeholder-password")) {
                o = o.hide().next().show().attr("id", o.removeAttr("id").data("placeholder-id"));
                if (e === true) {
                    return o[0].value = n
                }
                o.focus()
            } else {
                a.value = "";
                o.removeClass("placeholder");
                a == t.activeElement && a.select()
            }
        }
    }

    function f() {
        var e, t = this,
            n = i(t),
            a = n,
            o = this.id;
        if (t.value == "") {
            if (t.type == "password") {
                if (!n.data("placeholder-textinput")) {
                    try {
                        e = n.clone().attr({
                            type: "text"
                        })
                    } catch (s) {
                        e = i("<input>").attr(i.extend(d(this), {
                            type: "text"
                        }))
                    }
                    e.removeAttr("name").data({
                        "placeholder-password": true,
                        "placeholder-id": o
                    }).bind("focus.placeholder", c);
                    n.data({
                        "placeholder-textinput": e,
                        "placeholder-id": o
                    }).before(e)
                }
                n = n.removeAttr("id").hide().prev().attr("id", o).show()
            }
            n.addClass("placeholder");
            n[0].value = n.attr("placeholder")
        } else {
            n.removeClass("placeholder")
        }
    }
})(this, document, Foundation.zj);
(function(e, t, i, n) {
    "use strict";
    Foundation.libs.placeholder = {
        name: "placeholder",
        version: "4.2.2",
        init: function(i, n, a) {
            this.scope = i || this.scope;
            if (typeof n !== "string") {
                t.onload = function() {
                    e("input, textarea").placeholder()
                }
            }
        }
    }
})(Foundation.zj, this, this.document);

function fillSearchField() {
    if ($(".search_input").val() == "") {
        $(".search_input").val($("#searchTextHolder").html())
    }
    if (!autoSuggestHover) {
        showAutoSuggest(false)
    }
}

function searchButtonClicked(e) {
    var t = $("#desktopSearchTerm").val();
    if (t != e && t != "") {
        $("#headerSearchForm").submit()
    } else {
        $("#desktopSearchTerm").val(e);
        setTimeout(function() {
            $("#desktopSearchTerm").val(t);
            $("#desktopSearchTerm").focus()
        }, 500)
    }
}

function isMobile() {
    if (typeof MoreJS != "undefined") {
        return true
    } else {
        if ($(window).width() < 768) {
            return true
        } else {
            return false
        }
    }
}

function mobileSearchButtonClicked(e) {
    var t = $("#mobileSearchTerm").val();
    if (t != e && t != "") {
        $("#headerSearchForm").submit()
    } else {
        $("#mobileSearchTerm").val(e);
        setTimeout(function() {
            $("#mobileSearchTerm").val(t);
            $("#mobileSearchTerm").focus()
        }, 500)
    }
}

function doDynamicAutoSuggest(e, t, i, n) {
    if (autoSuggestTimer != -1) {
        clearTimeout(autoSuggestTimer);
        autoSuggestTimer = -1
    }
    autoSuggestTimer = setTimeout(function() {
        $.ajax({
            type: "GET",
            url: e + "&term=" + t + "&showHeader=" + i,
            success: function(e) {
                $(".search_popup").html(e);
                if (n) {
                    showAutoSuggest(true, n)
                } else {
                    showAutoSuggest(true)
                }
            }
        });
        autoSuggestTimer = -1
    }, autoSuggestKeystrokeDelay)
}

function showAutoSuggest(e, t) {
    if (e && $(".suggestionItem").length) {
        if (t) {
            if (isMobile()) {
                if ($(t).parents(".mobileSearchLeft").siblings(".search_popup")) {
                    $(t).parents(".mobileSearchLeft").siblings(".search_popup").show()
                } else {
                    $(".search_popup").show()
                }
                if (typeof MoreJS != "undefined") {
                    if ($(t).parents(".desktopSearchLeft").siblings(".search_popup")) {
                        $(t).parents(".desktopSearchLeft").siblings(".search_popup").show()
                    } else {
                        $(".search_popup").show()
                    }
                }
            } else {
                if ($(t).parents(".desktopSearchLeft").siblings(".search_popup")) {
                    $(t).parents(".desktopSearchLeft").siblings(".search_popup").show()
                } else {
                    $(".search_popup").show()
                }
            }
        } else {
            $(".search_popup").show()
        }
    } else {
        $(".search_popup").hide()
    }
}

function showAutoSuggestIfResults() {
    if (typeof staticContent != "undefined" && document.getElementById(staticContentSectionDiv[0]).innerHTML == "" && document.getElementById("autoSuggestHistory").innerHTML == "" && document.getElementById("dynamicAutoSuggestTotalResults") == null) {
        showAutoSuggest(false)
    } else if (document.getElementById("desktopSearchTerm").value.length <= AUTOSUGGEST_THRESHOLD) {
        showAutoSuggest(false)
    } else {
        showAutoSuggest(true)
    }
}

function selectAutoSuggest(e, t) {
    var i = $(".search_input");
    i.val(e);
    i.focus();
    autoSuggestPreviousTerm = e;
    $("#headerSearchForm").submit()
}
if (getBrowser() != "IE") {
    $("#mobileSearchTerm").keyup(function() {
        $(".searchFieldClearIcon").addClass("searchFieldNotEmpty")
    });
    $("#desktopSearchTerm").keyup(function() {
        $(".searchFieldClearIcon").addClass("searchFieldNotEmpty")
    });
    $(".searchFieldClearIcon").click(function() {
        if ($(".searchFieldClearIcon").hasClass("searchFieldNotEmpty")) {
            $("#mobileSearchTerm").val("");
            $("#desktopSearchTerm").val("");
            $(".searchFieldClearIcon").removeClass("searchFieldNotEmpty")
        }
    })
}

function getBrowser() {
    var e = navigator.userAgent,
        t, i = e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
    if (/trident/i.test(i[1])) {
        t = /\brv[ :]+(\d+)/g.exec(e) || [];
        return "IE"
    }
}
$(document).safeReady(function(e) {
    $("#myAccountTab").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#yearOverviewTab").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#myOrdersTab").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#orderDetailInfo").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#orderDetailInfo2").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#orderDetailInfo3").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#myDataTab").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    });
    $("#newsletterPage").easyResponsiveTabs({
        type: "default",
        width: "auto",
        fit: true,
        closed: false,
        activate: function() {}
    })
});
$(document).safeReady(function(e) {
    $("input[type=text]").keyup(function(e) {
        if ($(this).attr("maxLength") == $(this).val().length) {
            var t = $(this).closest("form").find(":input");
            t.eq(t.index(this) + 1).focus()
        }
    });
    $.validator.addMethod("accept", function(e, t, i) {
        if (e === "") return true;
        return e.match(new RegExp("." + i + "$"))
    });
    $.validator.addMethod("isValidDate", function(e, t) {
        var i = $("#day");
        var n = $("#month");
        var a = $("#year");
        return validateDateAndClearFields(i, n, a)
    });
    $.validator.addMethod("isValidDateBirth", function(e, t) {
        var i = $("#dayOfBirth");
        var n = $("#monthOfBirth");
        var a = $("#yearOfBirth");
        return validateDateAndClearFields(i, n, a)
    });
    jQuery.validator.addMethod("validBirthDate", function(e, t) {
        if (this.optional(t)) {
            return true
        } else if (isValidDate($("#day").val(), $("#month").val(), $("#year").val())) {
            $("#day").removeClass("error");
            $("#month").removeClass("error");
            $("#year").removeClass("error");
            return true
        } else {
            $("#day").addClass("error");
            $("#month").addClass("error");
            $("#year").addClass("error");
            return false
        }
    });
    $.validator.addMethod("isValidDateForPasswordRequest", function(e, t) {
        var i = $("#birthday");
        var n = $("#birthmonth");
        var a = $("#birthyear");
        return validateDateAndClearFields(i, n, a)
    });
    $.validator.addMethod("fullage", function(e, t) {
        var i = $("#day").val();
        var n = $("#month").val();
        var a = $("#year").val();
        var o = 18;
        return isFullAge(i, n, a, o)
    });
    $.validator.addMethod("fullDateIsValid", function(e, t) {
        var i = $("#birthday").val();
        var n = $("#birthmonth").val();
        var a = $("#birthyear").val();
        var o = 18;
        return isFullAge(i, n, a, o)
    });
    $.validator.addMethod("isValidAccount", function(e, t) {
        var i = $("#kdnr1");
        var n = $("#kdnr2");
        return validateAccount(i, n)
    });
    $.validator.addMethod("check_date_of_birth", function(e, t) {
        var i = $("#birthday").val();
        var n = $("#birthmonth").val();
        var a = $("#birthyear").val();
        var o = 18;
        var s = new Date;
        s.setFullYear(a, n - 1, i);
        var r = new Date;
        r.setFullYear(r.getFullYear() - o);
        return r - s < 0 ? false : true
    });
    $.validator.addMethod("email", function(e, t) {
        return this.optional(t) || /^[a-zA-Z0-9\u00C0-\u017F!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9\u00C0-\u017F!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9\u00C0-\u017F](?:[a-zA-Z0-9\u00C0-\u017F-]*[a-zA-Z0-9\u00C0-\u017F])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/.test(e)
    });
    $("#EmailConf").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        groups: {
            birthday: "bday bmonth byear"
        },
        errorPlacement: function(e, t) {
            if (t.attr("name") == "geb_tag" || t.attr("name") == "geb_monat" || t.attr("name") == "geb_jahr") {
                e.insertAfter("#birthDay")
            } else {
                e.insertAfter(t)
            }
        },
        rules: {
            sendoption: {
                required: true
            },
            kundNr1: {
                required: true,
                digits: true,
                minlength: 7
            },
            kundNr2: {
                required: true,
                digits: true,
                minlength: 2
            },
            geb_tag: {
                required: true,
                digits: true,
                minlength: 2
            },
            geb_monat: {
                required: true,
                digits: true,
                minlength: 2
            },
            geb_jahr: {
                required: true,
                digits: true,
                minlength: 4
            }
        },
        messages: {
            sendoption: {
                required: validateLabels.chooseOption
            },
            kundNr1: {
                required: validateLabels.enterKundNr1,
                digits: validateLabels.numbersOnly,
                minlength: jQuery.validator.format(validateLabels.fieldLength)
            },
            kundNr2: {
                required: validateLabels.enterKundNr2,
                digits: validateLabels.numbersOnly,
                minlength: jQuery.validator.format(validateLabels.fieldLength)
            },
            geb_tag: {
                required: validateLabels.invalidDay,
                digits: validateLabels.numbersOnly,
                minlength: validateLabels.enter2Chars
            },
            geb_monat: {
                required: validateLabels.invalidMonth,
                digits: validateLabels.numbersOnly,
                minlength: validateLabels.enter2Chars
            },
            geb_jahr: {
                required: validateLabels.invalidJahr,
                digits: validateLabels.numbersOnly,
                minlength: validateLabels.enter4Chars
            }
        },
        success: function(e) {}
    });
    $.validator.addMethod("passwordFormat", function(e, t) {
        return /^[a-zA-Z0-9]*$/.test(e)
    });
    $("#changePWD").validate({
        onkeyup: function(e, t) {
            if (t.which !== 9) $(e).valid()
        },
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        rules: {
            logonPasswordOld: {
                required: true,
                password: false
            },
            logonPassword: {
                password: true,
                required: true,
                minlength: 5,
                maxlength: 15,
                passwordFormat: true
            },
            logonPasswordVerify: {
                required: true,
                password: false,
                equalTo: "#logonPassword"
            }
        },
        messages: {
            logonPasswordOld: {
                required: validateLabels.enterPasword
            },
            logonPassword: {
                required: validateLabels.enterPasword,
                minlength: validateLabels.pwdTooShort,
                maxlength: validateLabels.pwdTooLong,
                passwordFormat: validateLabels.pwdOnlyLettersAndDigits
            },
            logonPasswordVerify: {
                required: validateLabels.pwdNotIdentical,
                equalTo: validateLabels.pwdNotIdentical
            }
        }
    });
    $("#calcForm").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        rules: {
            chestScope: {
                minlength: 1,
                maxlength: 3,
                digits: true
            },
            underchestScope: {
                minlength: 1,
                maxlength: 3,
                digits: true
            },
            waistScope: {
                minlength: 1,
                maxlength: 3,
                digits: true
            },
            hipScope: {
                minlength: 1,
                maxlength: 3,
                digits: true
            },
            bodySize: {
                minlength: 1,
                maxlength: 3,
                digits: true
            },
            footSize: {
                minlength: 1,
                maxlength: 4,
                numberDE: true
            }
        },
        errorPlacement: function(e, t) {
            e.appendTo(t.parents(".formField"))
        }
    });
    $("#logonPassword").validate();
    $("#NewsletterSubscription").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        onkeyup: function(e) {
            if ($(e).parents(".footerNewsletterBanner").length != 1) {
                $(e).valid()
            }
        },
        ignore: ".ignore",
        groups: {
            birthday: "day month year",
            zipcode: "postalCode city postalCodeNL"
        },
        errorPlacement: function(e, t) {
            if (t.attr("name") == "day" || t.attr("name") == "month" || t.attr("name") == "year") {
                e.insertAfter("#birthday")
            } else if (t.attr("name") == "postalCode" || t.attr("name") == "city" || t.attr("name") == "postalCodeNL") {
                e.insertAfter("#zipcode")
            } else if (t.attr("name") == "dobonly") {} else {
                e.insertAfter(t)
            }
        },
        rules: {
            email: {
                required: true,
                email: true
            },
            hakaonly: {
                required: {
                    depends: function(e) {
                        return !$("#dobonly").prop("checked")
                    }
                }
            },
            dobonly: {
                required: {
                    depends: function(e) {
                        return !$("#hakaonly").prop("checked")
                    }
                }
            },
            day: {
                isValidDate: true,
                digits: true,
                minlength: 2
            },
            month: {
                isValidDate: true,
                digits: true,
                minlength: 2
            },
            year: {
                isValidDate: true,
                digits: true,
                fullage: true,
                minlength: 4
            },
            postalCode: {
                digits: true,
                minlength: $("#postalLength").val()
            },
            postalCodeNL: {
                accept: "[0-9]{3}[a-zA-Z]{2}"
            }
        },
        messages: {
            email: {
                required: validateLabels.enterEmail,
                email: validateLabels.invalidEmail
            },
            hakaonly: {
                required: validateLabels.makeAChoice
            },
            dobonly: {
                required: validateLabels.makeAChoice
            },
            year: {
                minlength: validateLabels.enter4Chars,
                digits: validateLabels.numbersOnly,
                fullage: validateLabels.fullAge,
                isValidDate: validateLabels.invalidMonth
            },
            month: {
                minlength: validateLabels.enter2Chars,
                digits: validateLabels.numbersOnly,
                isValidDate: validateLabels.invalidMonth
            },
            day: {
                minlength: validateLabels.enter2Chars,
                digits: validateLabels.numbersOnly,
                isValidDate: validateLabels.invalidMonth
            },
            postalCode: {
                digits: validateLabels.numbersOnly,
                minlength: validateLabels.postalcodeTooShort
            },
            postalCodeNL: {
                accept: validateLabels.enter4DigitsAnd2Chars
            }
        }
    });
    $(".newsletterForm").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        ignore: ".ignore",
        onsubmit: true,
        onfocusout: false,
        onkeyup: false,
        groups: {},
        errorPlacement: function(e, t) {
            e.insertAfter(t)
        },
        rules: {
            email: {
                required: true,
                email: true
            }
        },
        messages: {
            email: {
                required: validateLabels.enterEmail,
                email: validateLabels.invalidEmail
            }
        }
    });
    $("#SecondaryNewsletterSubscription").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        onkeyup: function(e) {
            $(e).valid()
        },
        ignore: ".ignore",
        rules: {
            email: {
                required: true,
                email: true
            }
        },
        messages: {
            email: {
                required: validateLabels.enterEmail,
                email: validateLabels.invalidEmail
            }
        }
    });
    $("#RegisterAddForm").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        onkeyup: function(e) {
            $(e).valid()
        },
        ignore: ".ignore",
        groups: {
            birthD: "birthday birthmonth birthyear",
            accountnr: "kdnr1 kdnr2"
        },
        errorPlacement: function(e, t) {
            if (t.attr("name") == "birthday" || t.attr("name") == "birthmonth" || t.attr("name") == "birthyear") {
                e.insertAfter("#birthD")
            } else if (t.attr("name") == "kdnr1" || t.attr("name") == "kdnr2") {
                e.insertAfter("#accountnr")
            } else {
                e.insertAfter(t)
            }
        },
        rules: {
            kdnr1: {
                required: true,
                digits: true,
                minlength: 7,
                maxlength: 7,
                isValidAccount: true
            },
            kdnr2: {
                required: true,
                digits: true,
                minlength: 2,
                maxlength: 2,
                isValidAccount: true
            },
            birthday: {
                required: true,
                digits: true,
                minlength: 2,
                maxlength: 2,
                isValidDateForPasswordRequest: true,
                fullDateIsValid: true
            },
            birthmonth: {
                required: true,
                digits: true,
                minlength: 2,
                maxlength: 2,
                isValidDateForPasswordRequest: true,
                fullDateIsValid: true
            },
            birthyear: {
                required: true,
                digits: true,
                minlength: 4,
                maxlength: 4,
                isValidDateForPasswordRequest: true,
                fullDateIsValid: true
            },
            logonPassword: {
                required: true
            },
            logonPasswordVerify: {
                required: true,
                equalTo: "#logonPassword"
            }
        },
        messages: {
            kdnr1: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterAccountNr,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooShort,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooLong,
                isValidAccount: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterValidAccountNr
            },
            kdnr2: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterAccountNr,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooShort,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooLong,
                isValidAccount: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterValidAccountNr
            },
            birthday: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                isValidDateForPasswordRequest: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidMonth,
                fullDateIsValid: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.fullAge
            },
            birthmonth: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                isValidDateForPasswordRequest: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidMonth,
                fullDateIsValid: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.fullAge
            },
            birthyear: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                isValidDateForPasswordRequest: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidMonth,
                fullDateIsValid: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.fullAge
            },
            logonPassword: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidpassword
            },
            logonPasswordVerify: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidVerifyPassword,
                equalTo: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidPasswordNotSame
            }
        },
        success: function(e) {
            e.html('<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_success.png">')
        }
    });
    $("#OrderPasswordForm").validate({
        focusInvalid: false,
        invalidHandler: function(e, t) {
            if (!t.numberOfInvalids()) return;
            $("html, body").animate({
                scrollTop: $(t.errorList[0].element).offset().top - 64
            }, 750)
        },
        onkeyup: function(e) {
            $(e).valid()
        },
        ignore: ".ignore",
        groups: {
            birthD: "birthday birthmonth birthyear",
            accountnr: "kdnr1 kdnr2"
        },
        errorPlacement: function(e, t) {
            if (t.attr("name") == "birthday" || t.attr("name") == "birthmonth" || t.attr("name") == "birthyear") {
                e.insertAfter("#birthD")
            } else if (t.attr("name") == "kdnr1" || t.attr("name") == "kdnr2") {
                e.insertAfter("#accountnr")
            } else {
                e.insertAfter(t)
            }
        },
        rules: {
            kdnr1: {
                required: true,
                digits: true,
                minlength: 7,
                maxlength: 7,
                isValidAccount: true
            },
            kdnr2: {
                required: true,
                digits: true,
                minlength: 2,
                maxlength: 2,
                isValidAccount: true
            },
            birthday: {
                required: true,
                digits: true,
                minlength: 2,
                maxlength: 2,
                isValidDateForPasswordRequest: true,
                fullDateIsValid: true
            },
            birthmonth: {
                required: true,
                digits: true,
                minlength: 2,
                maxlength: 2,
                isValidDateForPasswordRequest: true,
                fullDateIsValid: true
            },
            birthyear: {
                required: true,
                digits: true,
                minlength: 4,
                maxlength: 4,
                isValidDateForPasswordRequest: true,
                fullDateIsValid: true
            }
        },
        messages: {
            kdnr1: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterAccountNr,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooShort,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooLong,
                isValidAccount: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterValidAccountNr
            },
            kdnr2: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterAccountNr,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooShort,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.accountNrTooLong,
                isValidAccount: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.enterValidAccountNr
            },
            birthday: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                isValidDateForPasswordRequest: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidMonth,
                fullDateIsValid: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.fullAge
            },
            birthmonth: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                isValidDateForPasswordRequest: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidMonth,
                fullDateIsValid: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.fullAge
            },
            birthyear: {
                required: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                digits: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.numbersOnly,
                minlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                maxlength: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidDate,
                isValidDateForPasswordRequest: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.invalidMonth,
                fullDateIsValid: '<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_fail.png">' + validateLabels.fullAge
            }
        },
        success: function(e) {
            e.html('<img src="' + kmo_wcs_pb$.getImgDir() + 'validate_success.png">')
        }
    });
    $("#LotteryForm").validate({
        onkeyup: function(e) {
            $(e).valid()
        },
        ignore: ".ignore",
        groups: {
            birthday: "day month year",
            zipcode: "postalCode city postalCodeNL"
        },
        errorPlacement: function(e, t) {
            if (t.attr("name") == "day" || t.attr("name") == "month" || t.attr("name") == "year") {
                e.insertAfter("#birthday")
            } else if (t.attr("type") == "checkbox") {
                e.insertAfter(t.next())
            } else {
                e.insertAfter(t)
            }
        },
        rules: {
            lotteryAnswer: {
                required: true
            },
            lotteryAGB: {
                required: true
            },
            email: {
                required: true,
                email: true
            },
            day: {
                validBirthDate: ["#dayOfBirth", "#monthOfBirth", "#yearOfBirth"],
                digits: true,
                minlength: 2
            },
            month: {
                validBirthDate: ["#dayOfBirth", "#monthOfBirth", "#yearOfBirth"],
                digits: true,
                minlength: 2
            },
            year: {
                validBirthDate: ["#dayOfBirth", "#monthOfBirth", "#yearOfBirth"],
                digits: true,
                fullage: true,
                minlength: 4
            },
            postalCode: {
                digits: true,
                minlength: $("#postalLength").val()
            },
            postalCodeNL: {
                accept: "[0-9]{3}[a-zA-Z]{2}"
            }
        },
        messages: {
            lotteryAnswer: {
                required: validateLabels.enterLotteryAnswer
            },
            lotteryAGB: {
                required: validateLabels.enterLotteryAGB
            },
            email: {
                required: validateLabels.enterEmail,
                email: validateLabels.invalidEmail
            },
            year: {
                minlength: validateLabels.enter4Chars,
                digits: validateLabels.numbersOnly,
                fullage: validateLabels.fullAge,
                validBirthDate: validateLabels.invalidBirthday
            },
            month: {
                minlength: validateLabels.enter2Chars,
                digits: validateLabels.numbersOnly,
                validBirthDate: validateLabels.invalidBirthday
            },
            day: {
                minlength: validateLabels.enter2Chars,
                digits: validateLabels.numbersOnly,
                validBirthDate: validateLabels.invalidBirthday
            },
            postalCode: {
                digits: validateLabels.numbersOnly,
                minlength: validateLabels.postalcodeTooShort
            },
            postalCodeNL: {
                accept: validateLabels.enter4DigitsAnd2Chars
            }
        }
    });
    $("#HelloMeLotteryForm").validate({
        onkeyup: function(e) {
            $(e).valid()
        },
        ignore: ".ignore",
        groups: {
            birthday: "day month year",
            zipcode: "postalCode city postalCodeNL"
        },
        errorPlacement: function(e, t) {
            if (t.attr("name") == "day" || t.attr("name") == "month" || t.attr("name") == "year") {
                e.insertAfter("#birthday")
            } else if (t.attr("type") == "checkbox") {
                e.insertAfter(t.next())
            } else {
                e.insertAfter(t)
            }
        },
        rules: {
            firstname: {
                required: true
            },
            lastname: {
                required: true
            },
            userStatement: {
                required: true
            },
            lotteryAnswer: {
                required: true
            },
            lotteryAGB: {
                required: true
            },
            email: {
                required: true,
                email: true
            },
            day: {
                validBirthDate: ["#dayOfBirth", "#monthOfBirth", "#yearOfBirth"],
                digits: true,
                minlength: 2
            },
            month: {
                validBirthDate: ["#dayOfBirth", "#monthOfBirth", "#yearOfBirth"],
                digits: true,
                minlength: 2
            },
            year: {
                validBirthDate: ["#dayOfBirth", "#monthOfBirth", "#yearOfBirth"],
                digits: true,
                fullage: true,
                minlength: 4
            },
            postalCode: {
                digits: true,
                minlength: $("#postalLength").val()
            },
            postalCodeNL: {
                accept: "[0-9]{3}[a-zA-Z]{2}"
            }
        },
        messages: {
            lotteryAnswer: {
                required: validateLabels.enterLotteryAnswer
            },
            lotteryAGB: {
                required: validateLabels.enterLotteryAGB
            },
            email: {
                required: validateLabels.enterEmail,
                email: validateLabels.invalidEmail
            },
            year: {
                minlength: validateLabels.enter4Chars,
                digits: validateLabels.numbersOnly,
                fullage: validateLabels.fullAge,
                validBirthDate: validateLabels.invalidBirthday
            },
            month: {
                minlength: validateLabels.enter2Chars,
                digits: validateLabels.numbersOnly,
                validBirthDate: validateLabels.invalidBirthday
            },
            day: {
                minlength: validateLabels.enter2Chars,
                digits: validateLabels.numbersOnly,
                validBirthDate: validateLabels.invalidBirthday
            },
            postalCode: {
                digits: validateLabels.numbersOnly,
                minlength: validateLabels.postalcodeTooShort
            },
            postalCodeNL: {
                accept: validateLabels.enter4DigitsAnd2Chars
            }
        }
    });
    jQuery.extend(jQuery.validator.messages, {
        required: validateLabels.required,
        remote: validateLabels.remote,
        email: validateLabels.email,
        url: validateLabels.url,
        date: validateLabels.date,
        dateISO: validateLabels.dateISO,
        number: validateLabels.number,
        digits: validateLabels.digits,
        creditcard: validateLabels.creditcart,
        equalTo: validateLabels.equalTo,
        maxlength: validateLabels.maxlength,
        minlength: validateLabels.minlength,
        rangelength: validateLabels.rangelength,
        range: validateLabels.range,
        max: validateLabels.max,
        min: validateLabels.min
    })
});
var CategoryNav = function(e) {
    var t = function(t) {
        var i = $(t.currentTarget);
        if (!Modernizr.touch && $(".lt-ie9").length === 0) {
            if (!$(".hover.hasNavbox").length) {
                i.addClass("hover")
            } else {
                setTimeout(function() {
                    if (!$(".hover.hasNavbox").length) {
                        i.addClass("hover")
                    }
                }, 205)
            }
        }
        if (i.position().left < 200) {
            i.find(".categoryNavBox").addClass("posLeft")
        }
        var n = i.data("categoryid");
        if (typeof n !== "undefined" && typeof i.data("initialized") === "undefined") {
            var a = function(e) {
                return function() {
                    econdaTracking.setMarker(e, true)
                }
            };
            var o = "categoryNavBox categoryNavBox" + e[n]["count"];
            if (e[n]["categories"].length <= 0) {
                o += " isEmpty"
            }
            var s = $('<div id="CategoryNavBox_' + n + '" class="' + o + '"></div>');
            var r = $('<div class="categoryNavListContainer shadowEffect"></div>');
            s.append(r);
            var l;
            for (var d = 0; d < e[n]["categories"].length; d++) {
                var c = e[n]["categories"][d];
                if (typeof c !== "undefined") {
                    var f = c["id"];
                    var u = "";
                    if (typeof l === "undefined" || c["lineBreak"] === 1) {
                        l = $('<div class="categoryNavBoxColumn"></div>');
                        r.append(l)
                    }
                    if (d === 0) {
                        u = "first"
                    } else if (d === e[n]["categories"].length - 1) {
                        u = "last"
                    }
                    var h = $('<ul class="' + u + '"></ul>');
                    l.append(h);
                    var p = "";
                    if (typeof c["thumbnail"] !== "undefined" && c["thumbnail"] != "") {
                        p = '<img src="' + c["thumbnail"] + '" />'
                    }
                    var g = "";
                    if (typeof c["thumbnailbottom"] !== "undefined" && c["thumbnailbottom"] != "") {
                        g = '<img src="' + c["thumbnailbottom"] + '" />'
                    }
                    var m = $('<li class="categoryNavListTitle first">' + '<a id="CategoryLink_' + n + f + '" href="' + c["url"] + '" >' + p + c["title"] + g + "</a></li>");
                    if (typeof econdaTracking !== "undefined") {
                        m.on("click", a(c["econdaMarker"]))
                    }
                    h.append(m);
                    for (var v = 0; v < c["categories"].length; v++) {
                        var b = e[n]["categories"][d]["categories"][v];
                        if (typeof b !== "undefined") {
                            var w = b["id"];
                            var u = "";
                            if (b["lineBreak"] == 1) {
                                l.append('<div class="linebetween"></div>');
                                h = $('<ul class="linebreak"></ul>');
                                l.append(h);
                                h.append('<li class="firstLineBeforeLinebreak">" "</li>');
                                u = "linebreak"
                            }
                            var p = "";
                            if (typeof b["thumbnail"] !== "undefined" && b["thumbnail"] != "") {
                                p = '<img src="' + b["thumbnail"] + '" />'
                            }
                            var m = $('<li class="' + u + '">' + '<a id="CategoryLink_' + n + f + w + '" href="' + b["url"] + '" >' + p + b["title"] + "</a></li>");
                            if (typeof econdaTracking !== "undefined") {
                                m.on("click", a(b["econdaMarker"]))
                            }
                            h.append(m)
                        }
                    }
                    if (c["invisCats"] === true) {
                        var m = $('<li class="categoryNavListLast"><a href="' + c["url"] + '" >' + categoryNavData["moreCategoriesLabel"] + "</a></li>");
                        if (typeof econdaTracking !== "undefined") {
                            m.on("click", a(c["econdaMarker"], true))
                        }
                        h.append(m)
                    }
                    if (d + 1 != e[n]["categories"].length) {
                        l.append('<div class="linebetween"></div>')
                    }
                }
            }
            if (typeof e.outfitPlacement !== "undefined" && e.outfitPlacement.topcategory === i.data("categorydescription")) {
                var y = $('<ul><li class="categoryNavListTitle first"><a href="' + e.outfitPlacement.url + '">' + e.outfitPlacement.title + "</a></li><ul>");
                y.appendTo(s.find(".categoryNavBoxColumn").last())
            }
            $("#catNavESpot_" + n).appendTo(s);
            i.append(s);
            i.data("initialized", 1)
        }
    };
    var i = function(e) {
        if (!Modernizr.touch && $(".lt-ie9").length === 0) {
            var t = $(e.currentTarget);
            setTimeout(function() {
                if (!t.is(":hover")) {
                    t.removeClass("hover")
                }
            }, 200)
        }
        $(".posLeft").removeClass("posLeft")
    };
    if (typeof $("#categoryNavigation").data("initialized") === "undefined") {
        $("#categoryNavigation").find(".categoryNavList > li").on("mouseenter", t);
        if ($(".lt-ie9").length === 0) {
            $("#categoryNavigation").find(".categoryNavList > li").on("mouseleave", i);
            $("#categoryNavigation").find(".categoryNavList > li").on("touchstart", t);
            $(".categoryNavList").children("li").children("a").on("touchend", function(e) {
                var t = $(this);
                if (!t.parent().hasClass("touched") && t.parent().hasClass("hasNavbox")) {
                    $(".categoryNavList").children("li").removeClass("touched");
                    t.parent().addClass("touched");
                    e.preventDefault()
                }
            })
        }
        $("#categoryNavigation").data("initialized", 1)
    }
    return {
        createMobileMenu: function() {
            if (typeof $("#topBarSection").data("initialized") != "undefined") {
                return
            }
            $("#topBarSection").data("initialized", 1);
            var t = $('<ul class="left"></ul>');
            $("#topBarSection").append(t);
            for (var i = 0; i < topCategoryIds.length; i++) {
                var n = topCategoryIds[i];
                var a = e[n];
                var o = $('<li><a href="' + a["url"] + '">' + a["title"] + "</a></li>");
                t.append(o);
                if (a["categories"].length > 0) {
                    o.addClass("has-dropdown");
                    var s = $('<ul class="dropdown"></ul>');
                    o.append(s);
                    s.append('<li class="title back"><a href="#">' + labels.topBarBack + "</a></li>");
                    for (var r = 0; r < a["categories"].length; r++) {
                        var l = e[n]["categories"][r];
                        var d = l["id"];
                        o = $('<li><a href="' + l["url"] + '" >' + l["title"] + "</a></li>");
                        s.append(o);
                        if (l["categories"].length > 0) {
                            o.addClass("has-dropdown");
                            var c = $('<ul class="dropdown"></ul>');
                            o.append(c);
                            c.append('<li class="title back"><a href="#">' + labels.topBarBack + "</a></li>");
                            for (var f = 0; f < l["categories"].length; f++) {
                                var u = e[n]["categories"][r]["categories"][f];
                                var h = u["id"];
                                o = $('<li><a href="' + u["url"] + '" >' + u["title"] + "</a></li>");
                                c.append(o)
                            }
                        }
                    }
                }
            }
        }
    }
};
var categoryNav;
$(document).safeReady(function() {
    if (typeof categoryNavData !== "undefined") {
        categoryNav = new CategoryNav(categoryNavData)
    }
});
$(document).safeReady(function() {
    var e = function() {
        var e = {
            showSearchThreshold: 0
        };
        var t = function() {
            var t = 0;
            $(".topBarContent").children().each(function(e) {
                t = t + $(this).width()
            });
            e.showSearchThreshold = t + 100
        };
        var i = function(e, t) {
            console.log("toggle", e, t);
            var n = $(e);
            if (typeof t === "undefined") {
                if (n.hasClass("opened")) {
                    t = false
                } else {
                    t = true
                }
            }
            n.children(".dropdown").slideToggle("fast", function() {
                if (t) {
                    var e = n.position().top;
                    console.log(e);
                    if (n.closest(".secondLevel").length) {
                        e = n.parent().closest(".has-dropdown").position().top;
                        console.log(e)
                    }
                    $("#mobileCategoryMenu").animate({
                        scrollTop: e
                    }, "300")
                }
            });
            if (t) {
                $("#mobileCategoryMenu").find(".opened").each(function() {
                    var e = $(this);
                    if (!(n[0] === e[0] || $.contains(e[0], n[0]) || $.contains(n[0], e[0]))) {
                        i($(this), false)
                    }
                })
            }
            if (t) {
                n.addClass("opened")
            } else {
                n.removeClass("opened")
            }
        };
        var n = function(e, t) {
            i($(e.target).parent().parent())
        };
        var a = function() {
            var e = categoryNavData;
            var t = [];
            if (typeof kmo_wcs_pb$.getCategoryPath !== "undefined") {
                t = kmo_wcs_pb$.getCategoryPath()
            } else if (typeof kmo_wcs_pb$.getCategoryId !== "undefined") {
                var i = parseInt(kmo_wcs_pb$.getCategoryId(), 10)
            }
            var a = $("<div></div>", {
                id: "mobileCategoryMenu"
            });
            var s = $("<div></div>", {
                "class": "listWrapper"
            });
            a.append(s);
            var r = $("<ul></ul>", {
                "class": "firstLevel"
            });
            s.append(r);
            var l = $('<li class="closeButton"><span class="category"><a>' + labels.topBarClose + "</a></span></li>");
            l.find("a").on("click", o);
            r.append(l);
            var d = $('<a class="categoryToggle"></a>');
            d.on("click", n);
            var c = function(n) {
                for (var a = 0; a < n.length; a++) {
                    var o = n[a];
                    var s = e[o];
                    if (typeof s === "undefined") {
                        continue
                    }
                    var l = $('<li><span class="category"></span></li>');
                    r.append(l);
                    if (s["categories"].length > 0) {
                        l.addClass("has-dropdown");
                        l.children(".category").append(d.clone(true).html(s["title"]));
                        var c = $('<ul class="dropdown secondLevel"></ul>');
                        l.append(c);
                        for (var f = 0; f < s["categories"].length; f++) {
                            var u = e[o]["categories"][f];
                            var h = u["id"];
                            listElement2 = $('<li><span class="category"></span></li>');
                            c.append(listElement2);
                            if (u["categories"].length > 0) {
                                listElement2.addClass("has-dropdown");
                                listElement2.children(".category").append(d.clone(true).html(u["title"]));
                                var p = $('<ul class="dropdown thirdLevel"></ul>');
                                listElement2.append(p);
                                for (var g = 0; g < u["categories"].length; g++) {
                                    var m = e[o]["categories"][f]["categories"][g];
                                    var v = m["id"];
                                    listElement3 = $('<li><span class="category"><a href="' + m["url"] + '" >' + m["title"] + "</a></span></li>");
                                    p.append(listElement3);
                                    if (v === t[2]) {
                                        listElement3.children(".category").addClass("selected")
                                    } else if (v === i) {
                                        listElement3.children(".category").addClass("selected");
                                        listElement3.parents(".has-dropdown").addClass("opened")
                                    }
                                }
                            } else {
                                listElement2.children().append('<a href="' + u["url"] + '" >' + u["title"] + "</a>")
                            }
                            if (h === t[1]) {
                                listElement2.children(".category").addClass("selected");
                                listElement2.addClass("opened")
                            } else if (h === i) {
                                listElement2.children(".category").addClass("selected");
                                listElement2.addClass("opened");
                                listElement2.parents(".has-dropdown").addClass("opened")
                            }
                        }
                    } else {
                        l.children().append('<a href="' + s["url"] + '">' + s["title"] + "</a>")
                    }
                    if (o === t[0]) {
                        l.children(".category").addClass("selected");
                        l.addClass("opened")
                    } else if (o === i) {
                        l.children(".category").addClass("selected");
                        l.addClass("opened")
                    }
                }
            };
            c(topCategoryIds);
            c(topPageNodeIds);
            $("body").append(a);
            return a
        };
        var o = function(e) {
            var t = $("#mobileCategoryMenu");
            if (t.length === 0) {
                t = a();
                t.data("left", t.css("left"))
            }
            if (t.data("active")) {
                t.data("active", false);
                $("body").removeClass("categoryMenuOn");
                $("#bodyContentContainer").unbind("touchmove");
                $("body").off("touchstart");
                $("body").off("touchmove");
                if ($("#topBarSearchButton").css("display") == "none") {
                    $("#topMenuBar").addClass("searchFieldOn")
                }
            } else {
                t.data("active", true);
                $("#topMenuBar").removeClass("searchFieldOn");
                $("body").addClass("categoryMenuOn");
                $("#bodyContentContainer").bind("touchmove", function(e) {
                    e.preventDefault()
                });
                touchEvents($("body"), {
                    left: o
                })
            }
        };
        var s = function(e) {
            var t = $("#topMenuSearchField");
            if (t.data("active")) {
                t.data("active", false);
                $("#topMenuBar").removeClass("searchFieldOn")
            } else {
                t.data("active", true);
                $("#topMenuBar").addClass("searchFieldOn")
            }
        };
        var r = function(e, t) {
            l();
            if (typeof t === "undefined") {
                $("#topBarCartCount").html(kmo_wcs_pb$.getCartAmount())
            } else {
                $("#topBarCartCount").html($(t).find("#miniCartAmount").html())
            }
        };
        var l = function() {
            if (parseInt($(document).find("#miniCartAmount").html()) < 10) {
                $(document).find("#mobile_lightAmountContainer").removeClass("doubleAmount")
            }
        };
        var d = function() {
            var i = $("#mobileCategoryMenu");
            if (i.data("active") && window.matchMedia("(min-width: 768px)").matches) {
                o()
            }
            var n = $("#topMenuSearchField");
            var a = getDistance($(".mobileLogo"), $("#topBarAccountButton"));
            if (e.showSearchThreshold < 100) {
                t()
            }
            if (a > e.showSearchThreshold) {
                n.addClass("showInline");
                $("#topBarSearchButton").hide();
                if (!n.data("active")) {
                    s()
                }
            } else if (n.hasClass("showInline")) {
                n.removeClass("showInline");
                $("#topBarSearchButton").show();
                if (n.data("active")) {
                    s()
                }
            }
        };
        $("#topMenuSearchField").append($(".mobileSearchContainer"));
        r();
        $(window).on("resize", d);
        $("#topBarMenuButton").on("click", o);
        $("#topBarSearchButton").on("click", s);
        $(kmo_wcs_pb$.eventBus).on("minicart.refresh", r);
        $(window).bind("load", function() {
            d()
        });
        return {
            synchronizeCartCount: r,
            settings: e
        }
    };
    if (typeof categoryNavData !== "undefined" && $("#topMenuBar").length > 0) {
        window.topMenuBar = new e
    }
});
var ReadMore = {
    lines: 3,
    defaultClass: "readMore",
    media: function() {
        var e = {};
        var t = [{
            value: "(max-width: 767px)",
            key: "max767"
        }];
        for (var i = 0; i < t.length; i++) {
            var n = t[i];
            e[n.key] = window.matchMedia(n.value)
        }
        return {
            match: function(t) {
                return e[t] ? e[t].matches : false
            }
        }
    }(),
    less: function(e, t) {
        var i = $("." + ReadMore.defaultClass);
        if (i.length > 0) {
            var n = i.first();
            var a = ReadMore.lines * Math.floor(parseInt(i.css("font-size").replace("px", "")) * 1.5);
            switch (parseInt(kmo_wcs_pb$.storeData.getStoreId())) {
                case 200004:
                    a = 48;
                    break;
                default:
                    break
            }
            if (isNaN(a)) {
                a = 65
            }
            if (t === "init") {
                i.each(function() {
                    var e = $(this);
                    e.html("<div>" + e.html() + "</div>");
                    var t = e.find("div:first");
                    if (a < parseInt(e.height()) + parseInt(e.css("padding-bottom"))) {
                        t.css("height", a + "px");
                        t.css("overflow", "hidden");
                        if (e.find(".moreTextDiv").length < 1) {
                            t.after('<div class="moreTextDiv"><a href="javascript:void(0)" class="moreTextButton" onclick="ReadMore.more(this);return false;">' + labels.readMore + "</a></div>");
                            t.after('<div class="lessTextDiv"><a href="javascript:void(0)" style="display:none;" class="lessTextButton" onclick="ReadMore.less(this);return false;">' + labels.readLess + "</a></div>")
                        } else {
                            e.find(".moreTextButton").show();
                            e.find(".lessTextButton").hide()
                        }
                    }
                })
            } else {
                var o = $(e).closest("." + ReadMore.defaultClass);
                var s = o.children("div:first");
                if (s.length > 0) {
                    s.css("height", a + "px");
                    o.find(".moreTextButton").show();
                    o.find(".lessTextButton").hide()
                }
            }
        }
    },
    more: function(e) {
        var t = $(e).closest("." + ReadMore.defaultClass);
        t.find("div:first").css("height", "");
        var i = t.find(".lessTextButton");
        i.show();
        $(e).hide()
    },
    init: function() {
        if (ReadMore.media.match("max767")) {
            ReadMore.less(null, "init")
        }
    }
};
ReadMore.init();
var prudsysRecommendation = {
    debug: false,
    baseURL: "/prudsys/rde_server/res/" + prudsysProps.brand + "/recomm/",
    paramNames: ["relType", "mouseOver", "recoNumber", "displayNumber", "hideNumber", "dfParam", "fopParam", "dblParam", "urlQuery", "clickurl", "center", "backgroundColor", "hasBackgroundColor"],
    globalTopOrders: function(e, t, i, n) {
        this.sendRequest(this.buildURL("globalTopOrders/sid/" + prudsysProps.sessionId + "?", t, i, n), e)
    },
    catTopOrders: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("catTopOrders/sid/" + prudsysProps.sessionId + "?cat=" + a, t, i, n), e)
    },
    historyClick: function(e, t, i, n) {
        this.sendRequest(this.buildURL("historyClick/sid/" + prudsysProps.sessionId + "?", t, i, n), e)
    },
    personalBrand: function(e, t, i, n) {
        this.sendRequest(this.buildURL("personalBrand/sid/" + prudsysProps.sessionId + "?", t, i, n), e)
    },
    personalCat: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("personalCat/sid/" + prudsysProps.sessionId + "?cat=" + a, t, i, n), e)
    },
    personalRec: function(e, t, i, n) {
        this.sendRequest(this.buildURL("personalRec/sid/" + prudsysProps.sessionId + "?", t, i, n), e)
    },
    personalRecCat: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("personalRecCat/sid/" + prudsysProps.sessionId + "?cat=" + a, t, i, n), e)
    },
    productRec: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("productRec/sid/" + prudsysProps.sessionId + "?product=" + a, t, i, n), e)
    },
    orderedTogether: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("orderedTogether/sid/" + prudsysProps.sessionId + "?product=" + a, t, i, n), e)
    },
    personalSortList: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("personalSortList/sid/" + prudsysProps.sessionId + "?productList=" + a, t, i, n), e)
    },
    searchtermProduct: function(e, t, i, n, a) {
        this.sendRequest(this.buildURL("searchtermProduct/sid/" + prudsysProps.sessionId + "?searchquery=" + a, t, i, n), e)
    },
    buildURL: function(e, t, i, n) {
        e = this.baseURL + e;
        if (e.charAt(e.length - 1) != "?") e = e + "&";
        return e + "df=" + t + "&fop=" + i + "&dbl=" + n + "&locationId=" + prudsysProps.storeId
    },
    getElementWidth: function(e, t, i) {
        if (typeof MoreJS != "undefined") {
            return this.getMoreElementWidth(e, t, i)
        }
        var n;
        if (e >= 600) {
            n = t
        } else if (e >= 350) {
            n = Math.ceil(t / 2)
        } else {
            if (t < 6 && t > 1) {
                n = 2
            } else {
                n = Math.ceil(t / 3)
            }
        }
        return Math.floor(e / n)
    },
    getMoreElementWidth: function(e, t, i) {
        var n;
        if (i == "historyClick" && window.matchMedia("(max-width: 767px)")) {
            n = 2
        } else if (e >= 600) {
            n = t
        } else if (e >= 350) {
            if (t < 6 && t != 1) {
                n = 2
            } else {
                n = Math.ceil(t / 2)
            }
        } else {
            if (t < 6 && t != 1) {
                n = 2
            } else {
                n = Math.ceil(t / 3)
            }
        }
        return Math.floor(e / n)
    },
    sendRequest: function(e, t) {
        e = e + "&timestamp=" + (new Date).getTime();
        var i;
        try {
            i = new XMLHttpRequest
        } catch (n) {
            i = new window.ActiveXObject("Microsoft.XMLHTTP")
        }
        i.onreadystatechange = function() {
            if (i.readyState == 4) {
                if (this.debug) {
                    console.log(i)
                }
                if (typeof i.response !== "undefined") {
                    t(i.response)
                } else if (typeof i.responseText !== "undefined") {
                    t(i.responseText)
                }
            }
        };
        i.open("GET", e, true);
        i.send()
    }
};

function initializePrudsysReco() {
    var e = function(e, t, i, n, a) {
        var o;
        var s = "";
        if (typeof econdaTracking !== "undefined") {
            s += "econdaTracking.setMarker('ESpot/" + econdaPageName + "/Prudsys/" + n + "/" + t + "',true);"
        }
        var r = $('<li><a class="recoLink" href="' + i + e["UID"] + '" onclick="' + s + '"></a></li>');
        o = r.find("a").last();
        o.append('<img src="/images/' + a["reltype"] + e["imageURL"] + "\" alt=\"\" onerror=\"var replace = document.createElement('div'); replace.className = 'imagePlaceholder'; replace.innerHTML='" + labels.placeHolder + "'; this.parentNode.replaceChild(replace, this);return true;\">");
        if (a["mouseover"]) {
            o = o.append('<div class="recoHover"></div>').children().last()
        }
        if (typeof crossedOutNoCurrencyDisplay !== "undefined" && crossedOutNoCurrencyDisplay.valid) {
            var l = Number(e["strikeOutPrice"]).toMoney(kmo_wcs_pb$.getCurrencyFormat(), crossedOutNoCurrencyDisplay.currencySymbol)
        } else {
            var l = Number(e["strikeOutPrice"]).toMoney(kmo_wcs_pb$.getCurrencyFormat(), kmo_wcs_pb$.getCurrencySymbol())
        }
        var d = Number(e["netUnitPrice"]).toMoney(kmo_wcs_pb$.getCurrencyFormat(), kmo_wcs_pb$.getCurrencySymbol());
        if (crossedOutPrice && e["strikeOutPrice"] > 0 && Number(e["strikeOutPrice"]) > Number(e["netUnitPrice"])) {
            o.append('<div class="prudsysPriceContainer"><div class="price crossedOut">' + l + '</div><div class="price reduced">' + d + "</div></div>")
        } else {
            o.append('<div class="prudsysPriceContainer"><div class="price">' + d + "</div></div>")
        }
        if (e["param1"] !== "0") {
            o.append('<div class="prudsysBasePriceContainer"><div class="basePrice">' + Number(e["param1"]).toMoney(kmo_wcs_pb$.getCurrencyFormat(), kmo_wcs_pb$.getCurrencySymbol()) + " / " + e["param2"] + "</div></div>")
        }
        var c = e["name"];
        if (!/.\/\s./.test(c)) {
            c = c.replace("/", "/ ")
        }
        var f = kmo_wcs_pb$.getExcludedBrands();
        var u = false;
        var h = f.split(",");
        $.each(h, function(t, i) {
            if (e["brand"].toLowerCase() === i.toLowerCase()) {
                u = true
            }
        });
        if (u && typeof MoreJS != "undefined") {
            o.append('<div class="prudsysNameContainer"><div><span>' + c + "</span></div></div>")
        } else {
            o.append('<div class="prudsysNameContainer"><div><span>' + c + '</div><div class="prudsysBrandName">' + e["brand"] + "</span></div></div>")
        }
        return r
    };
    var t = $(".recommendationBox").each(function(t, i) {
        var n = $(i).data("recotype");
        if ($(i).data("visited") === "true") {
            return
        } else {
            $(i).data("visited", "true")
        }
        var a = $(i).data("layout");
        var o = $(i).data("name");
        var s = $(i).data("categoryidentifier");
        var r = $(i).data("productpartnumber");
        var l = $(i).data("productpartnumberlist");
        var d = $(i).data("urlquery");
        var c = {};
        for (var f = 0; f < prudsysRecommendation.paramNames.length; f++) {
            var u = prudsysRecommendation.paramNames[f].toLowerCase();
            c[u] = $(i).data(u) == undefined ? "" : $(i).data(u)
        }
        if (prudsysRecommendation.debug) console.log(c);
        var h = function(t) {
            if (typeof crossSellProducts == "undefined") crossSellProducts = [];
            var s = crossSellProducts.slice();
            try {
                t = JSON.parse(t)
            } catch (r) {} finally {
                if ((typeof t === "undefined" || typeof t[0] === "undefined" || typeof t[0][n] === "undefined") && !($(i).find(".recoList").length && s.length)) {
                    return
                }
            }
            var l = "/" + c["clickurl"] + "&URL=/ProductDisplay?storeId=" + kmo_wcs_pb$.getStoreId() + "%26langId=" + kmo_wcs_pb$.getLangId() + "%26catalogId=" + kmo_wcs_pb$.getCatalogId() + "%26prudsysClick=true" + "%26template=" + n + "%26boxName=" + t[1]["global"]["templatename"];
            if (typeof kmo_wcs_pb$.getCategoryId != "undefined" && (n == "catTopOrders" || n == "personalRecCat")) {
                l = l + "%26categoryId=" + kmo_wcs_pb$.getCategoryId()
            }
            l = l + "%26partNumber=";
            if (!(t[0][n].length === 0 || t[0][n].length < c["hidenumber"])) {
                if (a === "tabbed") {
                    $(i).parent().parent().show()
                } else {
                    $(i).parent().show()
                }
            }
            if ($(i).data("showprudsys") === false) {
                var d = []
            } else {
                var d = t[0][n]
            }
            if (!$(i).find(".recoList").length) {
                var f = $(i).append('<a href="#" class="recoBoxButton prev"><div class="arrowLeft"></div></a>');
                $(i).append('<div class="recoListContainer"><ul class="recoList"></ul></div>');
                var u = $(i).append('<a href="#" class="recoBoxButton next"><div class="arrowRight"></div></a>');
                s = []
            }
            var h = $(i).children("div").children("ul");
            for (var p = 0; p < d.length && p + s.length < c["reconumber"]; p++) {
                if (d[p]["imageURL"] === "-" && d[p]["netUnitPrice"] == 0) {
                    prudsysTracking.locationToSessionEvent()
                }
                if (prudsysRecommendation.debug && window.console) console.log(d[p]);
                h.append(e(d[p], n, l, o, c))
            }
            var g = $(i).children("div");
            g.on("jcarousel:reload jcarousel:create", function(e) {
                var t = prudsysRecommendation.getElementWidth(g.innerWidth(), c["displaynumber"], n);
                g.jcarousel("items").css("width", t + "px");
                if (e.type == "jcarousel:create") {
                    setTimeout(function() {
                        $(window).trigger("resize")
                    }, 300)
                }
            });
            var m = {};
            m.animation = "slow";
            if (c["center"]) {
                m.center = true;
                g.on("jcarousel:createend", function() {
                    var e = Math.floor(g.jcarousel("items").size() / 2);
                    var t = Math.floor(g.innerWidth() / prudsysRecommendation.getElementWidth(g.innerWidth(), c["displaynumber"]) / 2, n);
                    var i;
                    if (e < t) {
                        i = e
                    } else {
                        i = t
                    }
                    $(this).jcarousel("scroll", i, false)
                })
            }
            g.jcarousel(m);
            var v = c["scrollAmount"] ? c["scrollAmount"] : 1;
            $(i).children(".prev").on("jcarouselcontrol:active", function() {
                var e = Math.floor(g.jcarousel("items").size() / 2);
                var t = Math.floor(g.innerWidth() / prudsysRecommendation.getElementWidth(g.innerWidth(), c["displaynumber"]) / 2, n);
                if (e > t) {
                    $(i).children(".prev").removeClass("inactive")
                }
            }).on("jcarouselcontrol:inactive", function() {
                $(i).children(".prev").addClass("inactive")
            }).jcarouselControl({
                target: "-=" + v,
                carousel: g
            });
            $(i).children(".next").on("jcarouselcontrol:active", function() {
                $(i).children(".next").removeClass("inactive")
            }).on("jcarouselcontrol:inactive", function() {
                $(i).children(".next").addClass("inactive")
            }).jcarouselControl({
                target: "+=" + v,
                carousel: g
            });
            if ((a === "tabbed" || $(i).parent().parent().attr("id") == "crossSellRecommendation") && d.length + s.length > 0) {
                var b = $(i).parent().parent();
                b.easyResponsiveTabs({
                    type: "default",
                    width: "auto",
                    fit: true,
                    closed: false
                });
                if (c["hasbackgroundcolor"]) {
                    b.children(".resp-tabs-list").css("background", c["backgroundcolor"]).children().css("background", c["backgroundcolor"]);
                    b.find(".resp-accordion.resp-tab-active").attr("style", "background-color : " + c["backgroundcolor"] + " !important");
                    var w = o + c["backgroundcolor"].replace("#", "") + a;
                    b.attr("id", w);
                    $('<style type="text/css">#' + w + " > .resp-tabs-list:after {border-left-color : " + c["backgroundcolor"] + " !important;}" + "#" + w + " .resp-arrow{border-top-color : " + c["backgroundcolor"] + " !important;}</style>").appendTo("head")
                }
            }
            $(kmo_wcs_pb$.eventBus).trigger("prudsys.initialized", i)
        };
        if (typeof prudsysRecommendation[n] == "function") {
            if (typeof l != "undefined") {
                prudsysRecommendation[n](h, c["dfparam"], c["fopparam"], c["dblparam"], l)
            } else if (typeof s != "undefined") {
                prudsysRecommendation[n](h, c["dfparam"], c["fopparam"], c["dblparam"], s)
            } else if (typeof r != "undefined") {
                prudsysRecommendation[n](h, c["dfparam"], c["fopparam"], c["dblparam"], r)
            } else if (typeof searchTerm != "undefined") {
                prudsysRecommendation[n](h, c["dfparam"], c["fopparam"], c["dblparam"], searchTerm)
            } else if (typeof d != "undefined") {
                prudsysRecommendation[n](h, c["dfparam"], c["fopparam"], c["dblparam"], d)
            } else {
                prudsysRecommendation[n](h, c["dfparam"], c["fopparam"], c["dblparam"])
            }
        }
    })
}
$(document).safeReady(initializePrudsysReco);
$(document).on("opened", "#popupContainer", initializePrudsysReco);